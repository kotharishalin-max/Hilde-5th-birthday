(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function vg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Th={exports:{}},vo={},Rh={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var js=Symbol.for("react.element"),yg=Symbol.for("react.portal"),wg=Symbol.for("react.fragment"),Cg=Symbol.for("react.strict_mode"),Sg=Symbol.for("react.profiler"),Eg=Symbol.for("react.provider"),xg=Symbol.for("react.context"),Ng=Symbol.for("react.forward_ref"),kg=Symbol.for("react.suspense"),Ig=Symbol.for("react.memo"),Tg=Symbol.for("react.lazy"),Nc=Symbol.iterator;function Rg(t){return t===null||typeof t!="object"?null:(t=Nc&&t[Nc]||t["@@iterator"],typeof t=="function"?t:null)}var Ph={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ah=Object.assign,Dh={};function Cr(t,e,n){this.props=t,this.context=e,this.refs=Dh,this.updater=n||Ph}Cr.prototype.isReactComponent={};Cr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Cr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Mh(){}Mh.prototype=Cr.prototype;function Qa(t,e,n){this.props=t,this.context=e,this.refs=Dh,this.updater=n||Ph}var Ya=Qa.prototype=new Mh;Ya.constructor=Qa;Ah(Ya,Cr.prototype);Ya.isPureReactComponent=!0;var kc=Array.isArray,jh=Object.prototype.hasOwnProperty,Ka={current:null},Oh={key:!0,ref:!0,__self:!0,__source:!0};function Lh(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)jh.call(e,r)&&!Oh.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:js,type:t,key:i,ref:o,props:s,_owner:Ka.current}}function Pg(t,e){return{$$typeof:js,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qa(t){return typeof t=="object"&&t!==null&&t.$$typeof===js}function Ag(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ic=/\/+/g;function Yo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ag(""+t.key):e.toString(36)}function gi(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case js:case yg:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Yo(o,0):r,kc(s)?(n="",t!=null&&(n=t.replace(Ic,"$&/")+"/"),gi(s,e,n,"",function(u){return u})):s!=null&&(qa(s)&&(s=Pg(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ic,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",kc(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+Yo(i,l);o+=gi(i,e,n,a,s)}else if(a=Rg(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+Yo(i,l++),o+=gi(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ks(t,e,n){if(t==null)return t;var r=[],s=0;return gi(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Dg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Me={current:null},_i={transition:null},Mg={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:_i,ReactCurrentOwner:Ka};function Fh(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:Ks,forEach:function(t,e,n){Ks(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ks(t,function(){e++}),e},toArray:function(t){return Ks(t,function(e){return e})||[]},only:function(t){if(!qa(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};z.Component=Cr;z.Fragment=wg;z.Profiler=Sg;z.PureComponent=Qa;z.StrictMode=Cg;z.Suspense=kg;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mg;z.act=Fh;z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ah({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ka.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)jh.call(e,a)&&!Oh.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:js,type:t.type,key:s,ref:i,props:r,_owner:o}};z.createContext=function(t){return t={$$typeof:xg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Eg,_context:t},t.Consumer=t};z.createElement=Lh;z.createFactory=function(t){var e=Lh.bind(null,t);return e.type=t,e};z.createRef=function(){return{current:null}};z.forwardRef=function(t){return{$$typeof:Ng,render:t}};z.isValidElement=qa;z.lazy=function(t){return{$$typeof:Tg,_payload:{_status:-1,_result:t},_init:Dg}};z.memo=function(t,e){return{$$typeof:Ig,type:t,compare:e===void 0?null:e}};z.startTransition=function(t){var e=_i.transition;_i.transition={};try{t()}finally{_i.transition=e}};z.unstable_act=Fh;z.useCallback=function(t,e){return Me.current.useCallback(t,e)};z.useContext=function(t){return Me.current.useContext(t)};z.useDebugValue=function(){};z.useDeferredValue=function(t){return Me.current.useDeferredValue(t)};z.useEffect=function(t,e){return Me.current.useEffect(t,e)};z.useId=function(){return Me.current.useId()};z.useImperativeHandle=function(t,e,n){return Me.current.useImperativeHandle(t,e,n)};z.useInsertionEffect=function(t,e){return Me.current.useInsertionEffect(t,e)};z.useLayoutEffect=function(t,e){return Me.current.useLayoutEffect(t,e)};z.useMemo=function(t,e){return Me.current.useMemo(t,e)};z.useReducer=function(t,e,n){return Me.current.useReducer(t,e,n)};z.useRef=function(t){return Me.current.useRef(t)};z.useState=function(t){return Me.current.useState(t)};z.useSyncExternalStore=function(t,e,n){return Me.current.useSyncExternalStore(t,e,n)};z.useTransition=function(){return Me.current.useTransition()};z.version="18.3.1";Rh.exports=z;var D=Rh.exports;const jg=vg(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og=D,Lg=Symbol.for("react.element"),Fg=Symbol.for("react.fragment"),bg=Object.prototype.hasOwnProperty,zg=Og.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bg={key:!0,ref:!0,__self:!0,__source:!0};function bh(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)bg.call(e,r)&&!Bg.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Lg,type:t,key:i,ref:o,props:s,_owner:zg.current}}vo.Fragment=Fg;vo.jsx=bh;vo.jsxs=bh;Th.exports=vo;var c=Th.exports,Dl={},zh={exports:{}},Qe={},Bh={exports:{}},Uh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(x,S){var P=x.length;x.push(S);e:for(;0<P;){var V=P-1>>>1,J=x[V];if(0<s(J,S))x[V]=S,x[P]=J,P=V;else break e}}function n(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var S=x[0],P=x.pop();if(P!==S){x[0]=P;e:for(var V=0,J=x.length,he=J>>>1;V<he;){var fe=2*(V+1)-1,rt=x[fe],gn=fe+1,Ys=x[gn];if(0>s(rt,P))gn<J&&0>s(Ys,rt)?(x[V]=Ys,x[gn]=P,V=gn):(x[V]=rt,x[fe]=P,V=fe);else if(gn<J&&0>s(Ys,P))x[V]=Ys,x[gn]=P,V=gn;else break e}}return S}function s(x,S){var P=x.sortIndex-S.sortIndex;return P!==0?P:x.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],f=1,d=null,h=3,_=!1,v=!1,y=!1,M=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(x){for(var S=n(u);S!==null;){if(S.callback===null)r(u);else if(S.startTime<=x)r(u),S.sortIndex=S.expirationTime,e(a,S);else break;S=n(u)}}function w(x){if(y=!1,g(x),!v)if(n(a)!==null)v=!0,Ue(N);else{var S=n(u);S!==null&&Ve(w,S.startTime-x)}}function N(x,S){v=!1,y&&(y=!1,m(R),R=-1),_=!0;var P=h;try{for(g(S),d=n(a);d!==null&&(!(d.expirationTime>S)||x&&!Ee());){var V=d.callback;if(typeof V=="function"){d.callback=null,h=d.priorityLevel;var J=V(d.expirationTime<=S);S=t.unstable_now(),typeof J=="function"?d.callback=J:d===n(a)&&r(a),g(S)}else r(a);d=n(a)}if(d!==null)var he=!0;else{var fe=n(u);fe!==null&&Ve(w,fe.startTime-S),he=!1}return he}finally{d=null,h=P,_=!1}}var k=!1,I=null,R=-1,$=5,O=-1;function Ee(){return!(t.unstable_now()-O<$)}function gt(){if(I!==null){var x=t.unstable_now();O=x;var S=!0;try{S=I(!0,x)}finally{S?Et():(k=!1,I=null)}}else k=!1}var Et;if(typeof p=="function")Et=function(){p(gt)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,Te=A.port2;A.port1.onmessage=gt,Et=function(){Te.postMessage(null)}}else Et=function(){M(gt,0)};function Ue(x){I=x,k||(k=!0,Et())}function Ve(x,S){R=M(function(){x(t.unstable_now())},S)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(x){x.callback=null},t.unstable_continueExecution=function(){v||_||(v=!0,Ue(N))},t.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<x?Math.floor(1e3/x):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(x){switch(h){case 1:case 2:case 3:var S=3;break;default:S=h}var P=h;h=S;try{return x()}finally{h=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(x,S){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var P=h;h=x;try{return S()}finally{h=P}},t.unstable_scheduleCallback=function(x,S,P){var V=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?V+P:V):P=V,x){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=P+J,x={id:f++,callback:S,priorityLevel:x,startTime:P,expirationTime:J,sortIndex:-1},P>V?(x.sortIndex=P,e(u,x),n(a)===null&&x===n(u)&&(y?(m(R),R=-1):y=!0,Ve(w,P-V))):(x.sortIndex=J,e(a,x),v||_||(v=!0,Ue(N))),x},t.unstable_shouldYield=Ee,t.unstable_wrapCallback=function(x){var S=h;return function(){var P=h;h=S;try{return x.apply(this,arguments)}finally{h=P}}}})(Uh);Bh.exports=Uh;var Ug=Bh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg=D,Ge=Ug;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vh=new Set,is={};function Ln(t,e){ur(t,e),ur(t+"Capture",e)}function ur(t,e){for(is[t]=e,t=0;t<e.length;t++)Vh.add(e[t])}var At=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ml=Object.prototype.hasOwnProperty,Hg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tc={},Rc={};function Wg(t){return Ml.call(Rc,t)?!0:Ml.call(Tc,t)?!1:Hg.test(t)?Rc[t]=!0:(Tc[t]=!0,!1)}function $g(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Gg(t,e,n,r){if(e===null||typeof e>"u"||$g(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function je(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ce[t]=new je(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ce[e]=new je(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ce[t]=new je(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ce[t]=new je(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ce[t]=new je(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ce[t]=new je(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ce[t]=new je(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ce[t]=new je(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ce[t]=new je(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xa=/[\-:]([a-z])/g;function Za(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xa,Za);Ce[e]=new je(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xa,Za);Ce[e]=new je(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xa,Za);Ce[e]=new je(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ce[t]=new je(t,1,!1,t.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ce[t]=new je(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ja(t,e,n,r){var s=Ce.hasOwnProperty(e)?Ce[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Gg(e,n,s,r)&&(n=null),r||s===null?Wg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ft=Vg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qs=Symbol.for("react.element"),Vn=Symbol.for("react.portal"),Hn=Symbol.for("react.fragment"),eu=Symbol.for("react.strict_mode"),jl=Symbol.for("react.profiler"),Hh=Symbol.for("react.provider"),Wh=Symbol.for("react.context"),tu=Symbol.for("react.forward_ref"),Ol=Symbol.for("react.suspense"),Ll=Symbol.for("react.suspense_list"),nu=Symbol.for("react.memo"),Bt=Symbol.for("react.lazy"),$h=Symbol.for("react.offscreen"),Pc=Symbol.iterator;function Rr(t){return t===null||typeof t!="object"?null:(t=Pc&&t[Pc]||t["@@iterator"],typeof t=="function"?t:null)}var re=Object.assign,Ko;function Ur(t){if(Ko===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ko=e&&e[1]||""}return`
`+Ko+t}var qo=!1;function Xo(t,e){if(!t||qo)return"";qo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{qo=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ur(t):""}function Qg(t){switch(t.tag){case 5:return Ur(t.type);case 16:return Ur("Lazy");case 13:return Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 2:case 15:return t=Xo(t.type,!1),t;case 11:return t=Xo(t.type.render,!1),t;case 1:return t=Xo(t.type,!0),t;default:return""}}function Fl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hn:return"Fragment";case Vn:return"Portal";case jl:return"Profiler";case eu:return"StrictMode";case Ol:return"Suspense";case Ll:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Wh:return(t.displayName||"Context")+".Consumer";case Hh:return(t._context.displayName||"Context")+".Provider";case tu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nu:return e=t.displayName||null,e!==null?e:Fl(t.type)||"Memo";case Bt:e=t._payload,t=t._init;try{return Fl(t(e))}catch{}}return null}function Yg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fl(e);case 8:return e===eu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function on(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Kg(t){var e=Gh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xs(t){t._valueTracker||(t._valueTracker=Kg(t))}function Qh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Gh(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bl(t,e){var n=e.checked;return re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ac(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=on(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Yh(t,e){e=e.checked,e!=null&&Ja(t,"checked",e,!1)}function zl(t,e){Yh(t,e);var n=on(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bl(t,e.type,on(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Dc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bl(t,e,n){(e!=="number"||Ri(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vr=Array.isArray;function tr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+on(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ul(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(C(92));if(Vr(n)){if(1<n.length)throw Error(C(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:on(n)}}function Kh(t,e){var n=on(e.value),r=on(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zs,Xh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zs=Zs||document.createElement("div"),Zs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function os(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qg=["Webkit","ms","Moz","O"];Object.keys($r).forEach(function(t){qg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$r[e]=$r[t]})});function Zh(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$r.hasOwnProperty(t)&&$r[t]?(""+e).trim():e+"px"}function Jh(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Zh(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Xg=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hl(t,e){if(e){if(Xg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function Wl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $l=null;function ru(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gl=null,nr=null,rr=null;function Oc(t){if(t=Fs(t)){if(typeof Gl!="function")throw Error(C(280));var e=t.stateNode;e&&(e=Eo(e),Gl(t.stateNode,t.type,e))}}function ef(t){nr?rr?rr.push(t):rr=[t]:nr=t}function tf(){if(nr){var t=nr,e=rr;if(rr=nr=null,Oc(t),e)for(t=0;t<e.length;t++)Oc(e[t])}}function nf(t,e){return t(e)}function rf(){}var Zo=!1;function sf(t,e,n){if(Zo)return t(e,n);Zo=!0;try{return nf(t,e,n)}finally{Zo=!1,(nr!==null||rr!==null)&&(rf(),tf())}}function ls(t,e){var n=t.stateNode;if(n===null)return null;var r=Eo(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(C(231,e,typeof n));return n}var Ql=!1;if(At)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){Ql=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{Ql=!1}function Zg(t,e,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Gr=!1,Pi=null,Ai=!1,Yl=null,Jg={onError:function(t){Gr=!0,Pi=t}};function e_(t,e,n,r,s,i,o,l,a){Gr=!1,Pi=null,Zg.apply(Jg,arguments)}function t_(t,e,n,r,s,i,o,l,a){if(e_.apply(this,arguments),Gr){if(Gr){var u=Pi;Gr=!1,Pi=null}else throw Error(C(198));Ai||(Ai=!0,Yl=u)}}function Fn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function of(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Lc(t){if(Fn(t)!==t)throw Error(C(188))}function n_(t){var e=t.alternate;if(!e){if(e=Fn(t),e===null)throw Error(C(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Lc(s),t;if(i===r)return Lc(s),e;i=i.sibling}throw Error(C(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?t:e}function lf(t){return t=n_(t),t!==null?af(t):null}function af(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=af(t);if(e!==null)return e;t=t.sibling}return null}var uf=Ge.unstable_scheduleCallback,Fc=Ge.unstable_cancelCallback,r_=Ge.unstable_shouldYield,s_=Ge.unstable_requestPaint,oe=Ge.unstable_now,i_=Ge.unstable_getCurrentPriorityLevel,su=Ge.unstable_ImmediatePriority,cf=Ge.unstable_UserBlockingPriority,Di=Ge.unstable_NormalPriority,o_=Ge.unstable_LowPriority,df=Ge.unstable_IdlePriority,yo=null,wt=null;function l_(t){if(wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(yo,t,void 0,(t.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:c_,a_=Math.log,u_=Math.LN2;function c_(t){return t>>>=0,t===0?32:31-(a_(t)/u_|0)|0}var Js=64,ei=4194304;function Hr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mi(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Hr(l):(i&=o,i!==0&&(r=Hr(i)))}else o=n&~s,o!==0?r=Hr(o):i!==0&&(r=Hr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ht(e),s=1<<n,r|=t[n],e&=~s;return r}function d_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ht(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=d_(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function Kl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hf(){var t=Js;return Js<<=1,!(Js&4194240)&&(Js=64),t}function Jo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Os(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ht(e),t[e]=n}function f_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ht(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function iu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ht(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var H=0;function ff(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pf,ou,mf,gf,_f,ql=!1,ti=[],Qt=null,Yt=null,Kt=null,as=new Map,us=new Map,Vt=[],p_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bc(t,e){switch(t){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Yt=null;break;case"mouseover":case"mouseout":Kt=null;break;case"pointerover":case"pointerout":as.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":us.delete(e.pointerId)}}function Ar(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Fs(e),e!==null&&ou(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function m_(t,e,n,r,s){switch(e){case"focusin":return Qt=Ar(Qt,t,e,n,r,s),!0;case"dragenter":return Yt=Ar(Yt,t,e,n,r,s),!0;case"mouseover":return Kt=Ar(Kt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return as.set(i,Ar(as.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,us.set(i,Ar(us.get(i)||null,t,e,n,r,s)),!0}return!1}function vf(t){var e=Cn(t.target);if(e!==null){var n=Fn(e);if(n!==null){if(e=n.tag,e===13){if(e=of(n),e!==null){t.blockedOn=e,_f(t.priority,function(){mf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$l=r,n.target.dispatchEvent(r),$l=null}else return e=Fs(n),e!==null&&ou(e),t.blockedOn=n,!1;e.shift()}return!0}function zc(t,e,n){vi(t)&&n.delete(e)}function g_(){ql=!1,Qt!==null&&vi(Qt)&&(Qt=null),Yt!==null&&vi(Yt)&&(Yt=null),Kt!==null&&vi(Kt)&&(Kt=null),as.forEach(zc),us.forEach(zc)}function Dr(t,e){t.blockedOn===e&&(t.blockedOn=null,ql||(ql=!0,Ge.unstable_scheduleCallback(Ge.unstable_NormalPriority,g_)))}function cs(t){function e(s){return Dr(s,t)}if(0<ti.length){Dr(ti[0],t);for(var n=1;n<ti.length;n++){var r=ti[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qt!==null&&Dr(Qt,t),Yt!==null&&Dr(Yt,t),Kt!==null&&Dr(Kt,t),as.forEach(e),us.forEach(e),n=0;n<Vt.length;n++)r=Vt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Vt.length&&(n=Vt[0],n.blockedOn===null);)vf(n),n.blockedOn===null&&Vt.shift()}var sr=Ft.ReactCurrentBatchConfig,ji=!0;function __(t,e,n,r){var s=H,i=sr.transition;sr.transition=null;try{H=1,lu(t,e,n,r)}finally{H=s,sr.transition=i}}function v_(t,e,n,r){var s=H,i=sr.transition;sr.transition=null;try{H=4,lu(t,e,n,r)}finally{H=s,sr.transition=i}}function lu(t,e,n,r){if(ji){var s=Xl(t,e,n,r);if(s===null)ul(t,e,r,Oi,n),bc(t,r);else if(m_(s,t,e,n,r))r.stopPropagation();else if(bc(t,r),e&4&&-1<p_.indexOf(t)){for(;s!==null;){var i=Fs(s);if(i!==null&&pf(i),i=Xl(t,e,n,r),i===null&&ul(t,e,r,Oi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ul(t,e,r,null,n)}}var Oi=null;function Xl(t,e,n,r){if(Oi=null,t=ru(r),t=Cn(t),t!==null)if(e=Fn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=of(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Oi=t,null}function yf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(i_()){case su:return 1;case cf:return 4;case Di:case o_:return 16;case df:return 536870912;default:return 16}default:return 16}}var Wt=null,au=null,yi=null;function wf(){if(yi)return yi;var t,e=au,n=e.length,r,s="value"in Wt?Wt.value:Wt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return yi=s.slice(t,1<r?1-r:void 0)}function wi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ni(){return!0}function Bc(){return!1}function Ye(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ni:Bc,this.isPropagationStopped=Bc,this}return re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),e}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uu=Ye(Sr),Ls=re({},Sr,{view:0,detail:0}),y_=Ye(Ls),el,tl,Mr,wo=re({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mr&&(Mr&&t.type==="mousemove"?(el=t.screenX-Mr.screenX,tl=t.screenY-Mr.screenY):tl=el=0,Mr=t),el)},movementY:function(t){return"movementY"in t?t.movementY:tl}}),Uc=Ye(wo),w_=re({},wo,{dataTransfer:0}),C_=Ye(w_),S_=re({},Ls,{relatedTarget:0}),nl=Ye(S_),E_=re({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),x_=Ye(E_),N_=re({},Sr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),k_=Ye(N_),I_=re({},Sr,{data:0}),Vc=Ye(I_),T_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},P_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=P_[t])?!!e[t]:!1}function cu(){return A_}var D_=re({},Ls,{key:function(t){if(t.key){var e=T_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?R_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cu,charCode:function(t){return t.type==="keypress"?wi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),M_=Ye(D_),j_=re({},wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hc=Ye(j_),O_=re({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cu}),L_=Ye(O_),F_=re({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),b_=Ye(F_),z_=re({},wo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B_=Ye(z_),U_=[9,13,27,32],du=At&&"CompositionEvent"in window,Qr=null;At&&"documentMode"in document&&(Qr=document.documentMode);var V_=At&&"TextEvent"in window&&!Qr,Cf=At&&(!du||Qr&&8<Qr&&11>=Qr),Wc=" ",$c=!1;function Sf(t,e){switch(t){case"keyup":return U_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ef(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wn=!1;function H_(t,e){switch(t){case"compositionend":return Ef(e);case"keypress":return e.which!==32?null:($c=!0,Wc);case"textInput":return t=e.data,t===Wc&&$c?null:t;default:return null}}function W_(t,e){if(Wn)return t==="compositionend"||!du&&Sf(t,e)?(t=wf(),yi=au=Wt=null,Wn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cf&&e.locale!=="ko"?null:e.data;default:return null}}var $_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$_[t.type]:e==="textarea"}function xf(t,e,n,r){ef(r),e=Li(e,"onChange"),0<e.length&&(n=new uu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yr=null,ds=null;function G_(t){Of(t,0)}function Co(t){var e=Qn(t);if(Qh(e))return t}function Q_(t,e){if(t==="change")return e}var Nf=!1;if(At){var rl;if(At){var sl="oninput"in document;if(!sl){var Qc=document.createElement("div");Qc.setAttribute("oninput","return;"),sl=typeof Qc.oninput=="function"}rl=sl}else rl=!1;Nf=rl&&(!document.documentMode||9<document.documentMode)}function Yc(){Yr&&(Yr.detachEvent("onpropertychange",kf),ds=Yr=null)}function kf(t){if(t.propertyName==="value"&&Co(ds)){var e=[];xf(e,ds,t,ru(t)),sf(G_,e)}}function Y_(t,e,n){t==="focusin"?(Yc(),Yr=e,ds=n,Yr.attachEvent("onpropertychange",kf)):t==="focusout"&&Yc()}function K_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Co(ds)}function q_(t,e){if(t==="click")return Co(e)}function X_(t,e){if(t==="input"||t==="change")return Co(e)}function Z_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mt=typeof Object.is=="function"?Object.is:Z_;function hs(t,e){if(mt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ml.call(e,s)||!mt(t[s],e[s]))return!1}return!0}function Kc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qc(t,e){var n=Kc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kc(n)}}function If(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?If(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Tf(){for(var t=window,e=Ri();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ri(t.document)}return e}function hu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function J_(t){var e=Tf(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&If(n.ownerDocument.documentElement,n)){if(r!==null&&hu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=qc(n,i);var o=qc(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ev=At&&"documentMode"in document&&11>=document.documentMode,$n=null,Zl=null,Kr=null,Jl=!1;function Xc(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jl||$n==null||$n!==Ri(r)||(r=$n,"selectionStart"in r&&hu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kr&&hs(Kr,r)||(Kr=r,r=Li(Zl,"onSelect"),0<r.length&&(e=new uu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$n)))}function ri(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gn={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionend:ri("Transition","TransitionEnd")},il={},Rf={};At&&(Rf=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function So(t){if(il[t])return il[t];if(!Gn[t])return t;var e=Gn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Rf)return il[t]=e[n];return t}var Pf=So("animationend"),Af=So("animationiteration"),Df=So("animationstart"),Mf=So("transitionend"),jf=new Map,Zc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hn(t,e){jf.set(t,e),Ln(e,[t])}for(var ol=0;ol<Zc.length;ol++){var ll=Zc[ol],tv=ll.toLowerCase(),nv=ll[0].toUpperCase()+ll.slice(1);hn(tv,"on"+nv)}hn(Pf,"onAnimationEnd");hn(Af,"onAnimationIteration");hn(Df,"onAnimationStart");hn("dblclick","onDoubleClick");hn("focusin","onFocus");hn("focusout","onBlur");hn(Mf,"onTransitionEnd");ur("onMouseEnter",["mouseout","mouseover"]);ur("onMouseLeave",["mouseout","mouseover"]);ur("onPointerEnter",["pointerout","pointerover"]);ur("onPointerLeave",["pointerout","pointerover"]);Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wr));function Jc(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,t_(r,e,void 0,t),t.currentTarget=null}function Of(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Jc(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Jc(s,l,u),i=a}}}if(Ai)throw t=Yl,Ai=!1,Yl=null,t}function q(t,e){var n=e[sa];n===void 0&&(n=e[sa]=new Set);var r=t+"__bubble";n.has(r)||(Lf(e,t,2,!1),n.add(r))}function al(t,e,n){var r=0;e&&(r|=4),Lf(n,t,r,e)}var si="_reactListening"+Math.random().toString(36).slice(2);function fs(t){if(!t[si]){t[si]=!0,Vh.forEach(function(n){n!=="selectionchange"&&(rv.has(n)||al(n,!1,t),al(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[si]||(e[si]=!0,al("selectionchange",!1,e))}}function Lf(t,e,n,r){switch(yf(e)){case 1:var s=__;break;case 4:s=v_;break;default:s=lu}n=s.bind(null,e,n,t),s=void 0,!Ql||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ul(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Cn(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}sf(function(){var u=i,f=ru(n),d=[];e:{var h=jf.get(t);if(h!==void 0){var _=uu,v=t;switch(t){case"keypress":if(wi(n)===0)break e;case"keydown":case"keyup":_=M_;break;case"focusin":v="focus",_=nl;break;case"focusout":v="blur",_=nl;break;case"beforeblur":case"afterblur":_=nl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=C_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=L_;break;case Pf:case Af:case Df:_=x_;break;case Mf:_=b_;break;case"scroll":_=y_;break;case"wheel":_=B_;break;case"copy":case"cut":case"paste":_=k_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Hc}var y=(e&4)!==0,M=!y&&t==="scroll",m=y?h!==null?h+"Capture":null:h;y=[];for(var p=u,g;p!==null;){g=p;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,m!==null&&(w=ls(p,m),w!=null&&y.push(ps(p,w,g)))),M)break;p=p.return}0<y.length&&(h=new _(h,v,null,n,f),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",h&&n!==$l&&(v=n.relatedTarget||n.fromElement)&&(Cn(v)||v[Dt]))break e;if((_||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,_?(v=n.relatedTarget||n.toElement,_=u,v=v?Cn(v):null,v!==null&&(M=Fn(v),v!==M||v.tag!==5&&v.tag!==6)&&(v=null)):(_=null,v=u),_!==v)){if(y=Uc,w="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=Hc,w="onPointerLeave",m="onPointerEnter",p="pointer"),M=_==null?h:Qn(_),g=v==null?h:Qn(v),h=new y(w,p+"leave",_,n,f),h.target=M,h.relatedTarget=g,w=null,Cn(f)===u&&(y=new y(m,p+"enter",v,n,f),y.target=g,y.relatedTarget=M,w=y),M=w,_&&v)t:{for(y=_,m=v,p=0,g=y;g;g=Bn(g))p++;for(g=0,w=m;w;w=Bn(w))g++;for(;0<p-g;)y=Bn(y),p--;for(;0<g-p;)m=Bn(m),g--;for(;p--;){if(y===m||m!==null&&y===m.alternate)break t;y=Bn(y),m=Bn(m)}y=null}else y=null;_!==null&&ed(d,h,_,y,!1),v!==null&&M!==null&&ed(d,M,v,y,!0)}}e:{if(h=u?Qn(u):window,_=h.nodeName&&h.nodeName.toLowerCase(),_==="select"||_==="input"&&h.type==="file")var N=Q_;else if(Gc(h))if(Nf)N=X_;else{N=K_;var k=Y_}else(_=h.nodeName)&&_.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=q_);if(N&&(N=N(t,u))){xf(d,N,n,f);break e}k&&k(t,h,u),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Bl(h,"number",h.value)}switch(k=u?Qn(u):window,t){case"focusin":(Gc(k)||k.contentEditable==="true")&&($n=k,Zl=u,Kr=null);break;case"focusout":Kr=Zl=$n=null;break;case"mousedown":Jl=!0;break;case"contextmenu":case"mouseup":case"dragend":Jl=!1,Xc(d,n,f);break;case"selectionchange":if(ev)break;case"keydown":case"keyup":Xc(d,n,f)}var I;if(du)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Wn?Sf(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Cf&&n.locale!=="ko"&&(Wn||R!=="onCompositionStart"?R==="onCompositionEnd"&&Wn&&(I=wf()):(Wt=f,au="value"in Wt?Wt.value:Wt.textContent,Wn=!0)),k=Li(u,R),0<k.length&&(R=new Vc(R,t,null,n,f),d.push({event:R,listeners:k}),I?R.data=I:(I=Ef(n),I!==null&&(R.data=I)))),(I=V_?H_(t,n):W_(t,n))&&(u=Li(u,"onBeforeInput"),0<u.length&&(f=new Vc("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=I))}Of(d,e)})}function ps(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Li(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ls(t,n),i!=null&&r.unshift(ps(t,i,s)),i=ls(t,e),i!=null&&r.push(ps(t,i,s))),t=t.return}return r}function Bn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ed(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=ls(n,i),a!=null&&o.unshift(ps(n,a,l))):s||(a=ls(n,i),a!=null&&o.push(ps(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var sv=/\r\n?/g,iv=/\u0000|\uFFFD/g;function td(t){return(typeof t=="string"?t:""+t).replace(sv,`
`).replace(iv,"")}function ii(t,e,n){if(e=td(e),td(t)!==e&&n)throw Error(C(425))}function Fi(){}var ea=null,ta=null;function na(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ra=typeof setTimeout=="function"?setTimeout:void 0,ov=typeof clearTimeout=="function"?clearTimeout:void 0,nd=typeof Promise=="function"?Promise:void 0,lv=typeof queueMicrotask=="function"?queueMicrotask:typeof nd<"u"?function(t){return nd.resolve(null).then(t).catch(av)}:ra;function av(t){setTimeout(function(){throw t})}function cl(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),cs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);cs(e)}function qt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Er=Math.random().toString(36).slice(2),yt="__reactFiber$"+Er,ms="__reactProps$"+Er,Dt="__reactContainer$"+Er,sa="__reactEvents$"+Er,uv="__reactListeners$"+Er,cv="__reactHandles$"+Er;function Cn(t){var e=t[yt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dt]||n[yt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=rd(t);t!==null;){if(n=t[yt])return n;t=rd(t)}return e}t=n,n=t.parentNode}return null}function Fs(t){return t=t[yt]||t[Dt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function Eo(t){return t[ms]||null}var ia=[],Yn=-1;function fn(t){return{current:t}}function X(t){0>Yn||(t.current=ia[Yn],ia[Yn]=null,Yn--)}function K(t,e){Yn++,ia[Yn]=t.current,t.current=e}var ln={},Ie=fn(ln),be=fn(!1),Tn=ln;function cr(t,e){var n=t.type.contextTypes;if(!n)return ln;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ze(t){return t=t.childContextTypes,t!=null}function bi(){X(be),X(Ie)}function sd(t,e,n){if(Ie.current!==ln)throw Error(C(168));K(Ie,e),K(be,n)}function Ff(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(C(108,Yg(t)||"Unknown",s));return re({},n,r)}function zi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ln,Tn=Ie.current,K(Ie,t),K(be,be.current),!0}function id(t,e,n){var r=t.stateNode;if(!r)throw Error(C(169));n?(t=Ff(t,e,Tn),r.__reactInternalMemoizedMergedChildContext=t,X(be),X(Ie),K(Ie,t)):X(be),K(be,n)}var Nt=null,xo=!1,dl=!1;function bf(t){Nt===null?Nt=[t]:Nt.push(t)}function dv(t){xo=!0,bf(t)}function pn(){if(!dl&&Nt!==null){dl=!0;var t=0,e=H;try{var n=Nt;for(H=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nt=null,xo=!1}catch(s){throw Nt!==null&&(Nt=Nt.slice(t+1)),uf(su,pn),s}finally{H=e,dl=!1}}return null}var Kn=[],qn=0,Bi=null,Ui=0,Ke=[],qe=0,Rn=null,kt=1,It="";function _n(t,e){Kn[qn++]=Ui,Kn[qn++]=Bi,Bi=t,Ui=e}function zf(t,e,n){Ke[qe++]=kt,Ke[qe++]=It,Ke[qe++]=Rn,Rn=t;var r=kt;t=It;var s=32-ht(r)-1;r&=~(1<<s),n+=1;var i=32-ht(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,kt=1<<32-ht(e)+s|n<<s|r,It=i+t}else kt=1<<i|n<<s|r,It=t}function fu(t){t.return!==null&&(_n(t,1),zf(t,1,0))}function pu(t){for(;t===Bi;)Bi=Kn[--qn],Kn[qn]=null,Ui=Kn[--qn],Kn[qn]=null;for(;t===Rn;)Rn=Ke[--qe],Ke[qe]=null,It=Ke[--qe],Ke[qe]=null,kt=Ke[--qe],Ke[qe]=null}var $e=null,We=null,Z=!1,lt=null;function Bf(t,e){var n=Xe(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function od(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$e=t,We=qt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$e=t,We=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Rn!==null?{id:kt,overflow:It}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xe(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$e=t,We=null,!0):!1;default:return!1}}function oa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function la(t){if(Z){var e=We;if(e){var n=e;if(!od(t,e)){if(oa(t))throw Error(C(418));e=qt(n.nextSibling);var r=$e;e&&od(t,e)?Bf(r,n):(t.flags=t.flags&-4097|2,Z=!1,$e=t)}}else{if(oa(t))throw Error(C(418));t.flags=t.flags&-4097|2,Z=!1,$e=t}}}function ld(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$e=t}function oi(t){if(t!==$e)return!1;if(!Z)return ld(t),Z=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!na(t.type,t.memoizedProps)),e&&(e=We)){if(oa(t))throw Uf(),Error(C(418));for(;e;)Bf(t,e),e=qt(e.nextSibling)}if(ld(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){We=qt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}We=null}}else We=$e?qt(t.stateNode.nextSibling):null;return!0}function Uf(){for(var t=We;t;)t=qt(t.nextSibling)}function dr(){We=$e=null,Z=!1}function mu(t){lt===null?lt=[t]:lt.push(t)}var hv=Ft.ReactCurrentBatchConfig;function jr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,t))}return t}function li(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ad(t){var e=t._init;return e(t._payload)}function Vf(t){function e(m,p){if(t){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=en(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,p,g,w){return p===null||p.tag!==6?(p=vl(g,m.mode,w),p.return=m,p):(p=s(p,g),p.return=m,p)}function a(m,p,g,w){var N=g.type;return N===Hn?f(m,p,g.props.children,w,g.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Bt&&ad(N)===p.type)?(w=s(p,g.props),w.ref=jr(m,p,g),w.return=m,w):(w=Ii(g.type,g.key,g.props,null,m.mode,w),w.ref=jr(m,p,g),w.return=m,w)}function u(m,p,g,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=yl(g,m.mode,w),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function f(m,p,g,w,N){return p===null||p.tag!==7?(p=kn(g,m.mode,w,N),p.return=m,p):(p=s(p,g),p.return=m,p)}function d(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=vl(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case qs:return g=Ii(p.type,p.key,p.props,null,m.mode,g),g.ref=jr(m,null,p),g.return=m,g;case Vn:return p=yl(p,m.mode,g),p.return=m,p;case Bt:var w=p._init;return d(m,w(p._payload),g)}if(Vr(p)||Rr(p))return p=kn(p,m.mode,g,null),p.return=m,p;li(m,p)}return null}function h(m,p,g,w){var N=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return N!==null?null:l(m,p,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case qs:return g.key===N?a(m,p,g,w):null;case Vn:return g.key===N?u(m,p,g,w):null;case Bt:return N=g._init,h(m,p,N(g._payload),w)}if(Vr(g)||Rr(g))return N!==null?null:f(m,p,g,w,null);li(m,g)}return null}function _(m,p,g,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(g)||null,l(p,m,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qs:return m=m.get(w.key===null?g:w.key)||null,a(p,m,w,N);case Vn:return m=m.get(w.key===null?g:w.key)||null,u(p,m,w,N);case Bt:var k=w._init;return _(m,p,g,k(w._payload),N)}if(Vr(w)||Rr(w))return m=m.get(g)||null,f(p,m,w,N,null);li(p,w)}return null}function v(m,p,g,w){for(var N=null,k=null,I=p,R=p=0,$=null;I!==null&&R<g.length;R++){I.index>R?($=I,I=null):$=I.sibling;var O=h(m,I,g[R],w);if(O===null){I===null&&(I=$);break}t&&I&&O.alternate===null&&e(m,I),p=i(O,p,R),k===null?N=O:k.sibling=O,k=O,I=$}if(R===g.length)return n(m,I),Z&&_n(m,R),N;if(I===null){for(;R<g.length;R++)I=d(m,g[R],w),I!==null&&(p=i(I,p,R),k===null?N=I:k.sibling=I,k=I);return Z&&_n(m,R),N}for(I=r(m,I);R<g.length;R++)$=_(I,m,R,g[R],w),$!==null&&(t&&$.alternate!==null&&I.delete($.key===null?R:$.key),p=i($,p,R),k===null?N=$:k.sibling=$,k=$);return t&&I.forEach(function(Ee){return e(m,Ee)}),Z&&_n(m,R),N}function y(m,p,g,w){var N=Rr(g);if(typeof N!="function")throw Error(C(150));if(g=N.call(g),g==null)throw Error(C(151));for(var k=N=null,I=p,R=p=0,$=null,O=g.next();I!==null&&!O.done;R++,O=g.next()){I.index>R?($=I,I=null):$=I.sibling;var Ee=h(m,I,O.value,w);if(Ee===null){I===null&&(I=$);break}t&&I&&Ee.alternate===null&&e(m,I),p=i(Ee,p,R),k===null?N=Ee:k.sibling=Ee,k=Ee,I=$}if(O.done)return n(m,I),Z&&_n(m,R),N;if(I===null){for(;!O.done;R++,O=g.next())O=d(m,O.value,w),O!==null&&(p=i(O,p,R),k===null?N=O:k.sibling=O,k=O);return Z&&_n(m,R),N}for(I=r(m,I);!O.done;R++,O=g.next())O=_(I,m,R,O.value,w),O!==null&&(t&&O.alternate!==null&&I.delete(O.key===null?R:O.key),p=i(O,p,R),k===null?N=O:k.sibling=O,k=O);return t&&I.forEach(function(gt){return e(m,gt)}),Z&&_n(m,R),N}function M(m,p,g,w){if(typeof g=="object"&&g!==null&&g.type===Hn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case qs:e:{for(var N=g.key,k=p;k!==null;){if(k.key===N){if(N=g.type,N===Hn){if(k.tag===7){n(m,k.sibling),p=s(k,g.props.children),p.return=m,m=p;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Bt&&ad(N)===k.type){n(m,k.sibling),p=s(k,g.props),p.ref=jr(m,k,g),p.return=m,m=p;break e}n(m,k);break}else e(m,k);k=k.sibling}g.type===Hn?(p=kn(g.props.children,m.mode,w,g.key),p.return=m,m=p):(w=Ii(g.type,g.key,g.props,null,m.mode,w),w.ref=jr(m,p,g),w.return=m,m=w)}return o(m);case Vn:e:{for(k=g.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=yl(g,m.mode,w),p.return=m,m=p}return o(m);case Bt:return k=g._init,M(m,p,k(g._payload),w)}if(Vr(g))return v(m,p,g,w);if(Rr(g))return y(m,p,g,w);li(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,g),p.return=m,m=p):(n(m,p),p=vl(g,m.mode,w),p.return=m,m=p),o(m)):n(m,p)}return M}var hr=Vf(!0),Hf=Vf(!1),Vi=fn(null),Hi=null,Xn=null,gu=null;function _u(){gu=Xn=Hi=null}function vu(t){var e=Vi.current;X(Vi),t._currentValue=e}function aa(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ir(t,e){Hi=t,gu=Xn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Le=!0),t.firstContext=null)}function et(t){var e=t._currentValue;if(gu!==t)if(t={context:t,memoizedValue:e,next:null},Xn===null){if(Hi===null)throw Error(C(308));Xn=t,Hi.dependencies={lanes:0,firstContext:t}}else Xn=Xn.next=t;return e}var Sn=null;function yu(t){Sn===null?Sn=[t]:Sn.push(t)}function Wf(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,yu(e)):(n.next=s.next,s.next=n),e.interleaved=n,Mt(t,r)}function Mt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ut=!1;function wu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $f(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,B&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Mt(t,n)}return s=r.interleaved,s===null?(e.next=e,yu(r)):(e.next=s.next,s.next=e),r.interleaved=e,Mt(t,n)}function Ci(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iu(t,n)}}function ud(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wi(t,e,n,r){var s=t.updateQueue;Ut=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=a))}if(i!==null){var d=s.baseState;o=0,f=u=a=null,l=i;do{var h=l.lane,_=l.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,y=l;switch(h=e,_=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(_,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(_,d,h):v,h==null)break e;d=re({},d,h);break e;case 2:Ut=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else _={eventTime:_,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=_,a=d):f=f.next=_,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(a=d),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);An|=o,t.lanes=o,t.memoizedState=d}}function cd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(C(191,s));s.call(r)}}}var bs={},Ct=fn(bs),gs=fn(bs),_s=fn(bs);function En(t){if(t===bs)throw Error(C(174));return t}function Cu(t,e){switch(K(_s,e),K(gs,t),K(Ct,bs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vl(e,t)}X(Ct),K(Ct,e)}function fr(){X(Ct),X(gs),X(_s)}function Gf(t){En(_s.current);var e=En(Ct.current),n=Vl(e,t.type);e!==n&&(K(gs,t),K(Ct,n))}function Su(t){gs.current===t&&(X(Ct),X(gs))}var ee=fn(0);function $i(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hl=[];function Eu(){for(var t=0;t<hl.length;t++)hl[t]._workInProgressVersionPrimary=null;hl.length=0}var Si=Ft.ReactCurrentDispatcher,fl=Ft.ReactCurrentBatchConfig,Pn=0,ne=null,ae=null,me=null,Gi=!1,qr=!1,vs=0,fv=0;function xe(){throw Error(C(321))}function xu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mt(t[n],e[n]))return!1;return!0}function Nu(t,e,n,r,s,i){if(Pn=i,ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Si.current=t===null||t.memoizedState===null?_v:vv,t=n(r,s),qr){i=0;do{if(qr=!1,vs=0,25<=i)throw Error(C(301));i+=1,me=ae=null,e.updateQueue=null,Si.current=yv,t=n(r,s)}while(qr)}if(Si.current=Qi,e=ae!==null&&ae.next!==null,Pn=0,me=ae=ne=null,Gi=!1,e)throw Error(C(300));return t}function ku(){var t=vs!==0;return vs=0,t}function vt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ne.memoizedState=me=t:me=me.next=t,me}function tt(){if(ae===null){var t=ne.alternate;t=t!==null?t.memoizedState:null}else t=ae.next;var e=me===null?ne.memoizedState:me.next;if(e!==null)me=e,ae=t;else{if(t===null)throw Error(C(310));ae=t,t={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},me===null?ne.memoizedState=me=t:me=me.next=t}return me}function ys(t,e){return typeof e=="function"?e(t):e}function pl(t){var e=tt(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=ae,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var f=u.lane;if((Pn&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,ne.lanes|=f,An|=f}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,mt(r,e.memoizedState)||(Le=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ne.lanes|=i,An|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ml(t){var e=tt(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);mt(i,e.memoizedState)||(Le=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Qf(){}function Yf(t,e){var n=ne,r=tt(),s=e(),i=!mt(r.memoizedState,s);if(i&&(r.memoizedState=s,Le=!0),r=r.queue,Iu(Xf.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,ws(9,qf.bind(null,n,r,s,e),void 0,null),_e===null)throw Error(C(349));Pn&30||Kf(n,e,s)}return s}function Kf(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qf(t,e,n,r){e.value=n,e.getSnapshot=r,Zf(e)&&Jf(t)}function Xf(t,e,n){return n(function(){Zf(e)&&Jf(t)})}function Zf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mt(t,n)}catch{return!0}}function Jf(t){var e=Mt(t,1);e!==null&&ft(e,t,1,-1)}function dd(t){var e=vt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:t},e.queue=t,t=t.dispatch=gv.bind(null,ne,t),[e.memoizedState,t]}function ws(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ep(){return tt().memoizedState}function Ei(t,e,n,r){var s=vt();ne.flags|=t,s.memoizedState=ws(1|e,n,void 0,r===void 0?null:r)}function No(t,e,n,r){var s=tt();r=r===void 0?null:r;var i=void 0;if(ae!==null){var o=ae.memoizedState;if(i=o.destroy,r!==null&&xu(r,o.deps)){s.memoizedState=ws(e,n,i,r);return}}ne.flags|=t,s.memoizedState=ws(1|e,n,i,r)}function hd(t,e){return Ei(8390656,8,t,e)}function Iu(t,e){return No(2048,8,t,e)}function tp(t,e){return No(4,2,t,e)}function np(t,e){return No(4,4,t,e)}function rp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sp(t,e,n){return n=n!=null?n.concat([t]):null,No(4,4,rp.bind(null,e,t),n)}function Tu(){}function ip(t,e){var n=tt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function op(t,e){var n=tt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lp(t,e,n){return Pn&21?(mt(n,e)||(n=hf(),ne.lanes|=n,An|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Le=!0),t.memoizedState=n)}function pv(t,e){var n=H;H=n!==0&&4>n?n:4,t(!0);var r=fl.transition;fl.transition={};try{t(!1),e()}finally{H=n,fl.transition=r}}function ap(){return tt().memoizedState}function mv(t,e,n){var r=Jt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},up(t))cp(e,n);else if(n=Wf(t,e,n,r),n!==null){var s=Ae();ft(n,t,r,s),dp(n,e,r)}}function gv(t,e,n){var r=Jt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(up(t))cp(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,mt(l,o)){var a=e.interleaved;a===null?(s.next=s,yu(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=Wf(t,e,s,r),n!==null&&(s=Ae(),ft(n,t,r,s),dp(n,e,r))}}function up(t){var e=t.alternate;return t===ne||e!==null&&e===ne}function cp(t,e){qr=Gi=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iu(t,n)}}var Qi={readContext:et,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useInsertionEffect:xe,useLayoutEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useMutableSource:xe,useSyncExternalStore:xe,useId:xe,unstable_isNewReconciler:!1},_v={readContext:et,useCallback:function(t,e){return vt().memoizedState=[t,e===void 0?null:e],t},useContext:et,useEffect:hd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ei(4194308,4,rp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ei(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ei(4,2,t,e)},useMemo:function(t,e){var n=vt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=mv.bind(null,ne,t),[r.memoizedState,t]},useRef:function(t){var e=vt();return t={current:t},e.memoizedState=t},useState:dd,useDebugValue:Tu,useDeferredValue:function(t){return vt().memoizedState=t},useTransition:function(){var t=dd(!1),e=t[0];return t=pv.bind(null,t[1]),vt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ne,s=vt();if(Z){if(n===void 0)throw Error(C(407));n=n()}else{if(n=e(),_e===null)throw Error(C(349));Pn&30||Kf(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,hd(Xf.bind(null,r,i,t),[t]),r.flags|=2048,ws(9,qf.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=vt(),e=_e.identifierPrefix;if(Z){var n=It,r=kt;n=(r&~(1<<32-ht(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=vs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vv={readContext:et,useCallback:ip,useContext:et,useEffect:Iu,useImperativeHandle:sp,useInsertionEffect:tp,useLayoutEffect:np,useMemo:op,useReducer:pl,useRef:ep,useState:function(){return pl(ys)},useDebugValue:Tu,useDeferredValue:function(t){var e=tt();return lp(e,ae.memoizedState,t)},useTransition:function(){var t=pl(ys)[0],e=tt().memoizedState;return[t,e]},useMutableSource:Qf,useSyncExternalStore:Yf,useId:ap,unstable_isNewReconciler:!1},yv={readContext:et,useCallback:ip,useContext:et,useEffect:Iu,useImperativeHandle:sp,useInsertionEffect:tp,useLayoutEffect:np,useMemo:op,useReducer:ml,useRef:ep,useState:function(){return ml(ys)},useDebugValue:Tu,useDeferredValue:function(t){var e=tt();return ae===null?e.memoizedState=t:lp(e,ae.memoizedState,t)},useTransition:function(){var t=ml(ys)[0],e=tt().memoizedState;return[t,e]},useMutableSource:Qf,useSyncExternalStore:Yf,useId:ap,unstable_isNewReconciler:!1};function it(t,e){if(t&&t.defaultProps){e=re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ua(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ko={isMounted:function(t){return(t=t._reactInternals)?Fn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ae(),s=Jt(t),i=Rt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Xt(t,i,s),e!==null&&(ft(e,t,s,r),Ci(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ae(),s=Jt(t),i=Rt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Xt(t,i,s),e!==null&&(ft(e,t,s,r),Ci(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ae(),r=Jt(t),s=Rt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Xt(t,s,r),e!==null&&(ft(e,t,r,n),Ci(e,t,r))}};function fd(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!hs(n,r)||!hs(s,i):!0}function hp(t,e,n){var r=!1,s=ln,i=e.contextType;return typeof i=="object"&&i!==null?i=et(i):(s=ze(e)?Tn:Ie.current,r=e.contextTypes,i=(r=r!=null)?cr(t,s):ln),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ko,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function pd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ko.enqueueReplaceState(e,e.state,null)}function ca(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},wu(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=et(i):(i=ze(e)?Tn:Ie.current,s.context=cr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ua(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ko.enqueueReplaceState(s,s.state,null),Wi(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function pr(t,e){try{var n="",r=e;do n+=Qg(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function gl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function da(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var wv=typeof WeakMap=="function"?WeakMap:Map;function fp(t,e,n){n=Rt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ki||(Ki=!0,Ca=r),da(t,e)},n}function pp(t,e,n){n=Rt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){da(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){da(t,e),typeof r!="function"&&(Zt===null?Zt=new Set([this]):Zt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function md(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new wv;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=jv.bind(null,t,e,n),e.then(t,t))}function gd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _d(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Rt(-1,1),e.tag=2,Xt(n,e,1))),n.lanes|=1),t)}var Cv=Ft.ReactCurrentOwner,Le=!1;function Re(t,e,n,r){e.child=t===null?Hf(e,null,n,r):hr(e,t.child,n,r)}function vd(t,e,n,r,s){n=n.render;var i=e.ref;return ir(e,s),r=Nu(t,e,n,r,i,s),n=ku(),t!==null&&!Le?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jt(t,e,s)):(Z&&n&&fu(e),e.flags|=1,Re(t,e,r,s),e.child)}function yd(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Lu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,mp(t,e,i,r,s)):(t=Ii(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:hs,n(o,r)&&t.ref===e.ref)return jt(t,e,s)}return e.flags|=1,t=en(i,r),t.ref=e.ref,t.return=e,e.child=t}function mp(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(hs(i,r)&&t.ref===e.ref)if(Le=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Le=!0);else return e.lanes=t.lanes,jt(t,e,s)}return ha(t,e,n,r,s)}function gp(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(Jn,He),He|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,K(Jn,He),He|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,K(Jn,He),He|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,K(Jn,He),He|=r;return Re(t,e,s,n),e.child}function _p(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ha(t,e,n,r,s){var i=ze(n)?Tn:Ie.current;return i=cr(e,i),ir(e,s),n=Nu(t,e,n,r,i,s),r=ku(),t!==null&&!Le?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jt(t,e,s)):(Z&&r&&fu(e),e.flags|=1,Re(t,e,n,s),e.child)}function wd(t,e,n,r,s){if(ze(n)){var i=!0;zi(e)}else i=!1;if(ir(e,s),e.stateNode===null)xi(t,e),hp(e,n,r),ca(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=et(u):(u=ze(n)?Tn:Ie.current,u=cr(e,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&pd(e,o,r,u),Ut=!1;var h=e.memoizedState;o.state=h,Wi(e,r,o,s),a=e.memoizedState,l!==r||h!==a||be.current||Ut?(typeof f=="function"&&(ua(e,n,f,r),a=e.memoizedState),(l=Ut||fd(e,n,l,r,h,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$f(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:it(e.type,l),o.props=u,d=e.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=et(a):(a=ze(n)?Tn:Ie.current,a=cr(e,a));var _=n.getDerivedStateFromProps;(f=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==a)&&pd(e,o,r,a),Ut=!1,h=e.memoizedState,o.state=h,Wi(e,r,o,s);var v=e.memoizedState;l!==d||h!==v||be.current||Ut?(typeof _=="function"&&(ua(e,n,_,r),v=e.memoizedState),(u=Ut||fd(e,n,u,r,h,v,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return fa(t,e,n,r,i,s)}function fa(t,e,n,r,s,i){_p(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&id(e,n,!1),jt(t,e,i);r=e.stateNode,Cv.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=hr(e,t.child,null,i),e.child=hr(e,null,l,i)):Re(t,e,l,i),e.memoizedState=r.state,s&&id(e,n,!0),e.child}function vp(t){var e=t.stateNode;e.pendingContext?sd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sd(t,e.context,!1),Cu(t,e.containerInfo)}function Cd(t,e,n,r,s){return dr(),mu(s),e.flags|=256,Re(t,e,n,r),e.child}var pa={dehydrated:null,treeContext:null,retryLane:0};function ma(t){return{baseLanes:t,cachePool:null,transitions:null}}function yp(t,e,n){var r=e.pendingProps,s=ee.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),K(ee,s&1),t===null)return la(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ro(o,r,0,null),t=kn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ma(n),e.memoizedState=pa,t):Ru(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Sv(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=en(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=en(l,i):(i=kn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ma(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=pa,r}return i=t.child,t=i.sibling,r=en(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ru(t,e){return e=Ro({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ai(t,e,n,r){return r!==null&&mu(r),hr(e,t.child,null,n),t=Ru(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Sv(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=gl(Error(C(422))),ai(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ro({mode:"visible",children:r.children},s,0,null),i=kn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&hr(e,t.child,null,o),e.child.memoizedState=ma(o),e.memoizedState=pa,i);if(!(e.mode&1))return ai(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(C(419)),r=gl(i,r,void 0),ai(t,e,o,r)}if(l=(o&t.childLanes)!==0,Le||l){if(r=_e,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Mt(t,s),ft(r,t,s,-1))}return Ou(),r=gl(Error(C(421))),ai(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Ov.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,We=qt(s.nextSibling),$e=e,Z=!0,lt=null,t!==null&&(Ke[qe++]=kt,Ke[qe++]=It,Ke[qe++]=Rn,kt=t.id,It=t.overflow,Rn=e),e=Ru(e,r.children),e.flags|=4096,e)}function Sd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),aa(t.return,e,n)}function _l(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function wp(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Re(t,e,r.children,n),r=ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sd(t,n,e);else if(t.tag===19)Sd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(K(ee,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&$i(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),_l(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&$i(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}_l(e,!0,n,null,i);break;case"together":_l(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),An|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,n=en(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=en(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ev(t,e,n){switch(e.tag){case 3:vp(e),dr();break;case 5:Gf(e);break;case 1:ze(e.type)&&zi(e);break;case 4:Cu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;K(Vi,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(K(ee,ee.current&1),e.flags|=128,null):n&e.child.childLanes?yp(t,e,n):(K(ee,ee.current&1),t=jt(t,e,n),t!==null?t.sibling:null);K(ee,ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wp(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(ee,ee.current),r)break;return null;case 22:case 23:return e.lanes=0,gp(t,e,n)}return jt(t,e,n)}var Cp,ga,Sp,Ep;Cp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ga=function(){};Sp=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,En(Ct.current);var i=null;switch(n){case"input":s=bl(t,s),r=bl(t,r),i=[];break;case"select":s=re({},s,{value:void 0}),r=re({},r,{value:void 0}),i=[];break;case"textarea":s=Ul(t,s),r=Ul(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fi)}Hl(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(is.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(is.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&q("scroll",t),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Ep=function(t,e,n,r){n!==r&&(e.flags|=4)};function Or(t,e){if(!Z)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ne(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xv(t,e,n){var r=e.pendingProps;switch(pu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(e),null;case 1:return ze(e.type)&&bi(),Ne(e),null;case 3:return r=e.stateNode,fr(),X(be),X(Ie),Eu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(oi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lt!==null&&(xa(lt),lt=null))),ga(t,e),Ne(e),null;case 5:Su(e);var s=En(_s.current);if(n=e.type,t!==null&&e.stateNode!=null)Sp(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(C(166));return Ne(e),null}if(t=En(Ct.current),oi(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[yt]=e,r[ms]=i,t=(e.mode&1)!==0,n){case"dialog":q("cancel",r),q("close",r);break;case"iframe":case"object":case"embed":q("load",r);break;case"video":case"audio":for(s=0;s<Wr.length;s++)q(Wr[s],r);break;case"source":q("error",r);break;case"img":case"image":case"link":q("error",r),q("load",r);break;case"details":q("toggle",r);break;case"input":Ac(r,i),q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},q("invalid",r);break;case"textarea":Mc(r,i),q("invalid",r)}Hl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ii(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ii(r.textContent,l,t),s=["children",""+l]):is.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&q("scroll",r)}switch(n){case"input":Xs(r),Dc(r,i,!0);break;case"textarea":Xs(r),jc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Fi)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[yt]=e,t[ms]=r,Cp(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wl(n,r),n){case"dialog":q("cancel",t),q("close",t),s=r;break;case"iframe":case"object":case"embed":q("load",t),s=r;break;case"video":case"audio":for(s=0;s<Wr.length;s++)q(Wr[s],t);s=r;break;case"source":q("error",t),s=r;break;case"img":case"image":case"link":q("error",t),q("load",t),s=r;break;case"details":q("toggle",t),s=r;break;case"input":Ac(t,r),s=bl(t,r),q("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=re({},r,{value:void 0}),q("invalid",t);break;case"textarea":Mc(t,r),s=Ul(t,r),q("invalid",t);break;default:s=r}Hl(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Jh(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Xh(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&os(t,a):typeof a=="number"&&os(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(is.hasOwnProperty(i)?a!=null&&i==="onScroll"&&q("scroll",t):a!=null&&Ja(t,i,a,o))}switch(n){case"input":Xs(t),Dc(t,r,!1);break;case"textarea":Xs(t),jc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+on(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?tr(t,!!r.multiple,i,!1):r.defaultValue!=null&&tr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Fi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ne(e),null;case 6:if(t&&e.stateNode!=null)Ep(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(C(166));if(n=En(_s.current),En(Ct.current),oi(e)){if(r=e.stateNode,n=e.memoizedProps,r[yt]=e,(i=r.nodeValue!==n)&&(t=$e,t!==null))switch(t.tag){case 3:ii(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ii(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yt]=e,e.stateNode=r}return Ne(e),null;case 13:if(X(ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Z&&We!==null&&e.mode&1&&!(e.flags&128))Uf(),dr(),e.flags|=98560,i=!1;else if(i=oi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(C(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[yt]=e}else dr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ne(e),i=!1}else lt!==null&&(xa(lt),lt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ee.current&1?de===0&&(de=3):Ou())),e.updateQueue!==null&&(e.flags|=4),Ne(e),null);case 4:return fr(),ga(t,e),t===null&&fs(e.stateNode.containerInfo),Ne(e),null;case 10:return vu(e.type._context),Ne(e),null;case 17:return ze(e.type)&&bi(),Ne(e),null;case 19:if(X(ee),i=e.memoizedState,i===null)return Ne(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Or(i,!1);else{if(de!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$i(t),o!==null){for(e.flags|=128,Or(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return K(ee,ee.current&1|2),e.child}t=t.sibling}i.tail!==null&&oe()>mr&&(e.flags|=128,r=!0,Or(i,!1),e.lanes=4194304)}else{if(!r)if(t=$i(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Or(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Z)return Ne(e),null}else 2*oe()-i.renderingStartTime>mr&&n!==1073741824&&(e.flags|=128,r=!0,Or(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=oe(),e.sibling=null,n=ee.current,K(ee,r?n&1|2:n&1),e):(Ne(e),null);case 22:case 23:return ju(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?He&1073741824&&(Ne(e),e.subtreeFlags&6&&(e.flags|=8192)):Ne(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function Nv(t,e){switch(pu(e),e.tag){case 1:return ze(e.type)&&bi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fr(),X(be),X(Ie),Eu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Su(e),null;case 13:if(X(ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));dr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return X(ee),null;case 4:return fr(),null;case 10:return vu(e.type._context),null;case 22:case 23:return ju(),null;case 24:return null;default:return null}}var ui=!1,ke=!1,kv=typeof WeakSet=="function"?WeakSet:Set,T=null;function Zn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){se(t,e,r)}else n.current=null}function _a(t,e,n){try{n()}catch(r){se(t,e,r)}}var Ed=!1;function Iv(t,e){if(ea=ji,t=Tf(),hu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,f=0,d=t,h=null;t:for(;;){for(var _;d!==n||s!==0&&d.nodeType!==3||(l=o+s),d!==i||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(_=d.firstChild)!==null;)h=d,d=_;for(;;){if(d===t)break t;if(h===n&&++u===s&&(l=o),h===i&&++f===r&&(a=o),(_=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=_}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:t,selectionRange:n},ji=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,M=v.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:it(e.type,y),M);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(w){se(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return v=Ed,Ed=!1,v}function Xr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&_a(e,n,i)}s=s.next}while(s!==r)}}function Io(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function va(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function xp(t){var e=t.alternate;e!==null&&(t.alternate=null,xp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yt],delete e[ms],delete e[sa],delete e[uv],delete e[cv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Np(t){return t.tag===5||t.tag===3||t.tag===4}function xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Np(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ya(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fi));else if(r!==4&&(t=t.child,t!==null))for(ya(t,e,n),t=t.sibling;t!==null;)ya(t,e,n),t=t.sibling}function wa(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wa(t,e,n),t=t.sibling;t!==null;)wa(t,e,n),t=t.sibling}var ve=null,ot=!1;function zt(t,e,n){for(n=n.child;n!==null;)kp(t,e,n),n=n.sibling}function kp(t,e,n){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(yo,n)}catch{}switch(n.tag){case 5:ke||Zn(n,e);case 6:var r=ve,s=ot;ve=null,zt(t,e,n),ve=r,ot=s,ve!==null&&(ot?(t=ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(ot?(t=ve,n=n.stateNode,t.nodeType===8?cl(t.parentNode,n):t.nodeType===1&&cl(t,n),cs(t)):cl(ve,n.stateNode));break;case 4:r=ve,s=ot,ve=n.stateNode.containerInfo,ot=!0,zt(t,e,n),ve=r,ot=s;break;case 0:case 11:case 14:case 15:if(!ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&_a(n,e,o),s=s.next}while(s!==r)}zt(t,e,n);break;case 1:if(!ke&&(Zn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){se(n,e,l)}zt(t,e,n);break;case 21:zt(t,e,n);break;case 22:n.mode&1?(ke=(r=ke)||n.memoizedState!==null,zt(t,e,n),ke=r):zt(t,e,n);break;default:zt(t,e,n)}}function Nd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kv),e.forEach(function(r){var s=Lv.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function st(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ve=l.stateNode,ot=!1;break e;case 3:ve=l.stateNode.containerInfo,ot=!0;break e;case 4:ve=l.stateNode.containerInfo,ot=!0;break e}l=l.return}if(ve===null)throw Error(C(160));kp(i,o,s),ve=null,ot=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){se(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ip(e,t),e=e.sibling}function Ip(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(st(e,t),_t(t),r&4){try{Xr(3,t,t.return),Io(3,t)}catch(y){se(t,t.return,y)}try{Xr(5,t,t.return)}catch(y){se(t,t.return,y)}}break;case 1:st(e,t),_t(t),r&512&&n!==null&&Zn(n,n.return);break;case 5:if(st(e,t),_t(t),r&512&&n!==null&&Zn(n,n.return),t.flags&32){var s=t.stateNode;try{os(s,"")}catch(y){se(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Yh(s,i),Wl(l,o);var u=Wl(l,i);for(o=0;o<a.length;o+=2){var f=a[o],d=a[o+1];f==="style"?Jh(s,d):f==="dangerouslySetInnerHTML"?Xh(s,d):f==="children"?os(s,d):Ja(s,f,d,u)}switch(l){case"input":zl(s,i);break;case"textarea":Kh(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var _=i.value;_!=null?tr(s,!!i.multiple,_,!1):h!==!!i.multiple&&(i.defaultValue!=null?tr(s,!!i.multiple,i.defaultValue,!0):tr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ms]=i}catch(y){se(t,t.return,y)}}break;case 6:if(st(e,t),_t(t),r&4){if(t.stateNode===null)throw Error(C(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){se(t,t.return,y)}}break;case 3:if(st(e,t),_t(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cs(e.containerInfo)}catch(y){se(t,t.return,y)}break;case 4:st(e,t),_t(t);break;case 13:st(e,t),_t(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Du=oe())),r&4&&Nd(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(ke=(u=ke)||f,st(e,t),ke=u):st(e,t),_t(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(T=t,f=t.child;f!==null;){for(d=T=f;T!==null;){switch(h=T,_=h.child,h.tag){case 0:case 11:case 14:case 15:Xr(4,h,h.return);break;case 1:Zn(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){se(r,n,y)}}break;case 5:Zn(h,h.return);break;case 22:if(h.memoizedState!==null){Id(d);continue}}_!==null?(_.return=h,T=_):Id(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Zh("display",o))}catch(y){se(t,t.return,y)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){se(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:st(e,t),_t(t),r&4&&Nd(t);break;case 21:break;default:st(e,t),_t(t)}}function _t(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Np(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(os(s,""),r.flags&=-33);var i=xd(t);wa(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=xd(t);ya(t,l,o);break;default:throw Error(C(161))}}catch(a){se(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Tv(t,e,n){T=t,Tp(t)}function Tp(t,e,n){for(var r=(t.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ui;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||ke;l=ui;var u=ke;if(ui=o,(ke=a)&&!u)for(T=s;T!==null;)o=T,a=o.child,o.tag===22&&o.memoizedState!==null?Td(s):a!==null?(a.return=o,T=a):Td(s);for(;i!==null;)T=i,Tp(i),i=i.sibling;T=s,ui=l,ke=u}kd(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):kd(t)}}function kd(t){for(;T!==null;){var e=T;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ke||Io(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ke)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:it(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&cd(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}cd(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&cs(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}ke||e.flags&512&&va(e)}catch(h){se(e,e.return,h)}}if(e===t){T=null;break}if(n=e.sibling,n!==null){n.return=e.return,T=n;break}T=e.return}}function Id(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var n=e.sibling;if(n!==null){n.return=e.return,T=n;break}T=e.return}}function Td(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Io(4,e)}catch(a){se(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){se(e,s,a)}}var i=e.return;try{va(e)}catch(a){se(e,i,a)}break;case 5:var o=e.return;try{va(e)}catch(a){se(e,o,a)}}}catch(a){se(e,e.return,a)}if(e===t){T=null;break}var l=e.sibling;if(l!==null){l.return=e.return,T=l;break}T=e.return}}var Rv=Math.ceil,Yi=Ft.ReactCurrentDispatcher,Pu=Ft.ReactCurrentOwner,Je=Ft.ReactCurrentBatchConfig,B=0,_e=null,le=null,we=0,He=0,Jn=fn(0),de=0,Cs=null,An=0,To=0,Au=0,Zr=null,Oe=null,Du=0,mr=1/0,xt=null,Ki=!1,Ca=null,Zt=null,ci=!1,$t=null,qi=0,Jr=0,Sa=null,Ni=-1,ki=0;function Ae(){return B&6?oe():Ni!==-1?Ni:Ni=oe()}function Jt(t){return t.mode&1?B&2&&we!==0?we&-we:hv.transition!==null?(ki===0&&(ki=hf()),ki):(t=H,t!==0||(t=window.event,t=t===void 0?16:yf(t.type)),t):1}function ft(t,e,n,r){if(50<Jr)throw Jr=0,Sa=null,Error(C(185));Os(t,n,r),(!(B&2)||t!==_e)&&(t===_e&&(!(B&2)&&(To|=n),de===4&&Ht(t,we)),Be(t,r),n===1&&B===0&&!(e.mode&1)&&(mr=oe()+500,xo&&pn()))}function Be(t,e){var n=t.callbackNode;h_(t,e);var r=Mi(t,t===_e?we:0);if(r===0)n!==null&&Fc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Fc(n),e===1)t.tag===0?dv(Rd.bind(null,t)):bf(Rd.bind(null,t)),lv(function(){!(B&6)&&pn()}),n=null;else{switch(ff(r)){case 1:n=su;break;case 4:n=cf;break;case 16:n=Di;break;case 536870912:n=df;break;default:n=Di}n=Lp(n,Rp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Rp(t,e){if(Ni=-1,ki=0,B&6)throw Error(C(327));var n=t.callbackNode;if(or()&&t.callbackNode!==n)return null;var r=Mi(t,t===_e?we:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xi(t,r);else{e=r;var s=B;B|=2;var i=Ap();(_e!==t||we!==e)&&(xt=null,mr=oe()+500,Nn(t,e));do try{Dv();break}catch(l){Pp(t,l)}while(!0);_u(),Yi.current=i,B=s,le!==null?e=0:(_e=null,we=0,e=de)}if(e!==0){if(e===2&&(s=Kl(t),s!==0&&(r=s,e=Ea(t,s))),e===1)throw n=Cs,Nn(t,0),Ht(t,r),Be(t,oe()),n;if(e===6)Ht(t,r);else{if(s=t.current.alternate,!(r&30)&&!Pv(s)&&(e=Xi(t,r),e===2&&(i=Kl(t),i!==0&&(r=i,e=Ea(t,i))),e===1))throw n=Cs,Nn(t,0),Ht(t,r),Be(t,oe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(C(345));case 2:vn(t,Oe,xt);break;case 3:if(Ht(t,r),(r&130023424)===r&&(e=Du+500-oe(),10<e)){if(Mi(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ae(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ra(vn.bind(null,t,Oe,xt),e);break}vn(t,Oe,xt);break;case 4:if(Ht(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ht(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rv(r/1960))-r,10<r){t.timeoutHandle=ra(vn.bind(null,t,Oe,xt),r);break}vn(t,Oe,xt);break;case 5:vn(t,Oe,xt);break;default:throw Error(C(329))}}}return Be(t,oe()),t.callbackNode===n?Rp.bind(null,t):null}function Ea(t,e){var n=Zr;return t.current.memoizedState.isDehydrated&&(Nn(t,e).flags|=256),t=Xi(t,e),t!==2&&(e=Oe,Oe=n,e!==null&&xa(e)),t}function xa(t){Oe===null?Oe=t:Oe.push.apply(Oe,t)}function Pv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!mt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ht(t,e){for(e&=~Au,e&=~To,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ht(e),r=1<<n;t[n]=-1,e&=~r}}function Rd(t){if(B&6)throw Error(C(327));or();var e=Mi(t,0);if(!(e&1))return Be(t,oe()),null;var n=Xi(t,e);if(t.tag!==0&&n===2){var r=Kl(t);r!==0&&(e=r,n=Ea(t,r))}if(n===1)throw n=Cs,Nn(t,0),Ht(t,e),Be(t,oe()),n;if(n===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vn(t,Oe,xt),Be(t,oe()),null}function Mu(t,e){var n=B;B|=1;try{return t(e)}finally{B=n,B===0&&(mr=oe()+500,xo&&pn())}}function Dn(t){$t!==null&&$t.tag===0&&!(B&6)&&or();var e=B;B|=1;var n=Je.transition,r=H;try{if(Je.transition=null,H=1,t)return t()}finally{H=r,Je.transition=n,B=e,!(B&6)&&pn()}}function ju(){He=Jn.current,X(Jn)}function Nn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ov(n)),le!==null)for(n=le.return;n!==null;){var r=n;switch(pu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bi();break;case 3:fr(),X(be),X(Ie),Eu();break;case 5:Su(r);break;case 4:fr();break;case 13:X(ee);break;case 19:X(ee);break;case 10:vu(r.type._context);break;case 22:case 23:ju()}n=n.return}if(_e=t,le=t=en(t.current,null),we=He=e,de=0,Cs=null,Au=To=An=0,Oe=Zr=null,Sn!==null){for(e=0;e<Sn.length;e++)if(n=Sn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Sn=null}return t}function Pp(t,e){do{var n=le;try{if(_u(),Si.current=Qi,Gi){for(var r=ne.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Gi=!1}if(Pn=0,me=ae=ne=null,qr=!1,vs=0,Pu.current=null,n===null||n.return===null){de=1,Cs=e,le=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=we,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var _=gd(o);if(_!==null){_.flags&=-257,_d(_,o,l,i,e),_.mode&1&&md(i,u,e),e=_,a=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(a),e.updateQueue=y}else v.add(a);break e}else{if(!(e&1)){md(i,u,e),Ou();break e}a=Error(C(426))}}else if(Z&&l.mode&1){var M=gd(o);if(M!==null){!(M.flags&65536)&&(M.flags|=256),_d(M,o,l,i,e),mu(pr(a,l));break e}}i=a=pr(a,l),de!==4&&(de=2),Zr===null?Zr=[i]:Zr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=fp(i,a,e);ud(i,m);break e;case 1:l=a;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Zt===null||!Zt.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=pp(i,l,e);ud(i,w);break e}}i=i.return}while(i!==null)}Mp(n)}catch(N){e=N,le===n&&n!==null&&(le=n=n.return);continue}break}while(!0)}function Ap(){var t=Yi.current;return Yi.current=Qi,t===null?Qi:t}function Ou(){(de===0||de===3||de===2)&&(de=4),_e===null||!(An&268435455)&&!(To&268435455)||Ht(_e,we)}function Xi(t,e){var n=B;B|=2;var r=Ap();(_e!==t||we!==e)&&(xt=null,Nn(t,e));do try{Av();break}catch(s){Pp(t,s)}while(!0);if(_u(),B=n,Yi.current=r,le!==null)throw Error(C(261));return _e=null,we=0,de}function Av(){for(;le!==null;)Dp(le)}function Dv(){for(;le!==null&&!r_();)Dp(le)}function Dp(t){var e=Op(t.alternate,t,He);t.memoizedProps=t.pendingProps,e===null?Mp(t):le=e,Pu.current=null}function Mp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Nv(n,e),n!==null){n.flags&=32767,le=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{de=6,le=null;return}}else if(n=xv(n,e,He),n!==null){le=n;return}if(e=e.sibling,e!==null){le=e;return}le=e=t}while(e!==null);de===0&&(de=5)}function vn(t,e,n){var r=H,s=Je.transition;try{Je.transition=null,H=1,Mv(t,e,n,r)}finally{Je.transition=s,H=r}return null}function Mv(t,e,n,r){do or();while($t!==null);if(B&6)throw Error(C(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(f_(t,i),t===_e&&(le=_e=null,we=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ci||(ci=!0,Lp(Di,function(){return or(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Je.transition,Je.transition=null;var o=H;H=1;var l=B;B|=4,Pu.current=null,Iv(t,n),Ip(n,t),J_(ta),ji=!!ea,ta=ea=null,t.current=n,Tv(n),s_(),B=l,H=o,Je.transition=i}else t.current=n;if(ci&&(ci=!1,$t=t,qi=s),i=t.pendingLanes,i===0&&(Zt=null),l_(n.stateNode),Be(t,oe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ki)throw Ki=!1,t=Ca,Ca=null,t;return qi&1&&t.tag!==0&&or(),i=t.pendingLanes,i&1?t===Sa?Jr++:(Jr=0,Sa=t):Jr=0,pn(),null}function or(){if($t!==null){var t=ff(qi),e=Je.transition,n=H;try{if(Je.transition=null,H=16>t?16:t,$t===null)var r=!1;else{if(t=$t,$t=null,qi=0,B&6)throw Error(C(331));var s=B;for(B|=4,T=t.current;T!==null;){var i=T,o=i.child;if(T.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(T=u;T!==null;){var f=T;switch(f.tag){case 0:case 11:case 15:Xr(8,f,i)}var d=f.child;if(d!==null)d.return=f,T=d;else for(;T!==null;){f=T;var h=f.sibling,_=f.return;if(xp(f),f===u){T=null;break}if(h!==null){h.return=_,T=h;break}T=_}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var M=y.sibling;y.sibling=null,y=M}while(y!==null)}}T=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,T=o;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xr(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,T=m;break e}T=i.return}}var p=t.current;for(T=p;T!==null;){o=T;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,T=g;else e:for(o=p;T!==null;){if(l=T,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Io(9,l)}}catch(N){se(l,l.return,N)}if(l===o){T=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,T=w;break e}T=l.return}}if(B=s,pn(),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(yo,t)}catch{}r=!0}return r}finally{H=n,Je.transition=e}}return!1}function Pd(t,e,n){e=pr(n,e),e=fp(t,e,1),t=Xt(t,e,1),e=Ae(),t!==null&&(Os(t,1,e),Be(t,e))}function se(t,e,n){if(t.tag===3)Pd(t,t,n);else for(;e!==null;){if(e.tag===3){Pd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zt===null||!Zt.has(r))){t=pr(n,t),t=pp(e,t,1),e=Xt(e,t,1),t=Ae(),e!==null&&(Os(e,1,t),Be(e,t));break}}e=e.return}}function jv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ae(),t.pingedLanes|=t.suspendedLanes&n,_e===t&&(we&n)===n&&(de===4||de===3&&(we&130023424)===we&&500>oe()-Du?Nn(t,0):Au|=n),Be(t,e)}function jp(t,e){e===0&&(t.mode&1?(e=ei,ei<<=1,!(ei&130023424)&&(ei=4194304)):e=1);var n=Ae();t=Mt(t,e),t!==null&&(Os(t,e,n),Be(t,n))}function Ov(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jp(t,n)}function Lv(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(e),jp(t,n)}var Op;Op=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||be.current)Le=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Le=!1,Ev(t,e,n);Le=!!(t.flags&131072)}else Le=!1,Z&&e.flags&1048576&&zf(e,Ui,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xi(t,e),t=e.pendingProps;var s=cr(e,Ie.current);ir(e,n),s=Nu(null,e,r,t,s,n);var i=ku();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ze(r)?(i=!0,zi(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wu(e),s.updater=ko,e.stateNode=s,s._reactInternals=e,ca(e,r,t,n),e=fa(null,e,r,!0,i,n)):(e.tag=0,Z&&i&&fu(e),Re(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xi(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=bv(r),t=it(r,t),s){case 0:e=ha(null,e,r,t,n);break e;case 1:e=wd(null,e,r,t,n);break e;case 11:e=vd(null,e,r,t,n);break e;case 14:e=yd(null,e,r,it(r.type,t),n);break e}throw Error(C(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:it(r,s),ha(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:it(r,s),wd(t,e,r,s,n);case 3:e:{if(vp(e),t===null)throw Error(C(387));r=e.pendingProps,i=e.memoizedState,s=i.element,$f(t,e),Wi(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=pr(Error(C(423)),e),e=Cd(t,e,r,n,s);break e}else if(r!==s){s=pr(Error(C(424)),e),e=Cd(t,e,r,n,s);break e}else for(We=qt(e.stateNode.containerInfo.firstChild),$e=e,Z=!0,lt=null,n=Hf(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(dr(),r===s){e=jt(t,e,n);break e}Re(t,e,r,n)}e=e.child}return e;case 5:return Gf(e),t===null&&la(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,na(r,s)?o=null:i!==null&&na(r,i)&&(e.flags|=32),_p(t,e),Re(t,e,o,n),e.child;case 6:return t===null&&la(e),null;case 13:return yp(t,e,n);case 4:return Cu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=hr(e,null,r,n):Re(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:it(r,s),vd(t,e,r,s,n);case 7:return Re(t,e,e.pendingProps,n),e.child;case 8:return Re(t,e,e.pendingProps.children,n),e.child;case 12:return Re(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,K(Vi,r._currentValue),r._currentValue=o,i!==null)if(mt(i.value,o)){if(i.children===s.children&&!be.current){e=jt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Rt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),aa(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),aa(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Re(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ir(e,n),s=et(s),r=r(s),e.flags|=1,Re(t,e,r,n),e.child;case 14:return r=e.type,s=it(r,e.pendingProps),s=it(r.type,s),yd(t,e,r,s,n);case 15:return mp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:it(r,s),xi(t,e),e.tag=1,ze(r)?(t=!0,zi(e)):t=!1,ir(e,n),hp(e,r,s),ca(e,r,s,n),fa(null,e,r,!0,t,n);case 19:return wp(t,e,n);case 22:return gp(t,e,n)}throw Error(C(156,e.tag))};function Lp(t,e){return uf(t,e)}function Fv(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(t,e,n,r){return new Fv(t,e,n,r)}function Lu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bv(t){if(typeof t=="function")return Lu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tu)return 11;if(t===nu)return 14}return 2}function en(t,e){var n=t.alternate;return n===null?(n=Xe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ii(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Lu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Hn:return kn(n.children,s,i,e);case eu:o=8,s|=8;break;case jl:return t=Xe(12,n,e,s|2),t.elementType=jl,t.lanes=i,t;case Ol:return t=Xe(13,n,e,s),t.elementType=Ol,t.lanes=i,t;case Ll:return t=Xe(19,n,e,s),t.elementType=Ll,t.lanes=i,t;case $h:return Ro(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Hh:o=10;break e;case Wh:o=9;break e;case tu:o=11;break e;case nu:o=14;break e;case Bt:o=16,r=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=Xe(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function kn(t,e,n,r){return t=Xe(7,t,r,e),t.lanes=n,t}function Ro(t,e,n,r){return t=Xe(22,t,r,e),t.elementType=$h,t.lanes=n,t.stateNode={isHidden:!1},t}function vl(t,e,n){return t=Xe(6,t,null,e),t.lanes=n,t}function yl(t,e,n){return e=Xe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zv(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jo(0),this.expirationTimes=Jo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fu(t,e,n,r,s,i,o,l,a){return t=new zv(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Xe(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wu(i),t}function Bv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Fp(t){if(!t)return ln;t=t._reactInternals;e:{if(Fn(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ze(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var n=t.type;if(ze(n))return Ff(t,n,e)}return e}function bp(t,e,n,r,s,i,o,l,a){return t=Fu(n,r,!0,t,s,i,o,l,a),t.context=Fp(null),n=t.current,r=Ae(),s=Jt(n),i=Rt(r,s),i.callback=e??null,Xt(n,i,s),t.current.lanes=s,Os(t,s,r),Be(t,r),t}function Po(t,e,n,r){var s=e.current,i=Ae(),o=Jt(s);return n=Fp(n),e.context===null?e.context=n:e.pendingContext=n,e=Rt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xt(s,e,o),t!==null&&(ft(t,s,o,i),Ci(t,s,o)),o}function Zi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ad(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bu(t,e){Ad(t,e),(t=t.alternate)&&Ad(t,e)}function Uv(){return null}var zp=typeof reportError=="function"?reportError:function(t){console.error(t)};function zu(t){this._internalRoot=t}Ao.prototype.render=zu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));Po(t,e,null,null)};Ao.prototype.unmount=zu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Dn(function(){Po(null,t,null,null)}),e[Dt]=null}};function Ao(t){this._internalRoot=t}Ao.prototype.unstable_scheduleHydration=function(t){if(t){var e=gf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vt.length&&e!==0&&e<Vt[n].priority;n++);Vt.splice(n,0,t),n===0&&vf(t)}};function Bu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Do(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Dd(){}function Vv(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Zi(o);i.call(u)}}var o=bp(e,r,t,0,null,!1,!1,"",Dd);return t._reactRootContainer=o,t[Dt]=o.current,fs(t.nodeType===8?t.parentNode:t),Dn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Zi(a);l.call(u)}}var a=Fu(t,0,!1,null,null,!1,!1,"",Dd);return t._reactRootContainer=a,t[Dt]=a.current,fs(t.nodeType===8?t.parentNode:t),Dn(function(){Po(e,a,n,r)}),a}function Mo(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Zi(o);l.call(a)}}Po(e,o,t,s)}else o=Vv(n,e,t,s,r);return Zi(o)}pf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Hr(e.pendingLanes);n!==0&&(iu(e,n|1),Be(e,oe()),!(B&6)&&(mr=oe()+500,pn()))}break;case 13:Dn(function(){var r=Mt(t,1);if(r!==null){var s=Ae();ft(r,t,1,s)}}),bu(t,1)}};ou=function(t){if(t.tag===13){var e=Mt(t,134217728);if(e!==null){var n=Ae();ft(e,t,134217728,n)}bu(t,134217728)}};mf=function(t){if(t.tag===13){var e=Jt(t),n=Mt(t,e);if(n!==null){var r=Ae();ft(n,t,e,r)}bu(t,e)}};gf=function(){return H};_f=function(t,e){var n=H;try{return H=t,e()}finally{H=n}};Gl=function(t,e,n){switch(e){case"input":if(zl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Eo(r);if(!s)throw Error(C(90));Qh(r),zl(r,s)}}}break;case"textarea":Kh(t,n);break;case"select":e=n.value,e!=null&&tr(t,!!n.multiple,e,!1)}};nf=Mu;rf=Dn;var Hv={usingClientEntryPoint:!1,Events:[Fs,Qn,Eo,ef,tf,Mu]},Lr={findFiberByHostInstance:Cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wv={bundleType:Lr.bundleType,version:Lr.version,rendererPackageName:Lr.rendererPackageName,rendererConfig:Lr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lf(t),t===null?null:t.stateNode},findFiberByHostInstance:Lr.findFiberByHostInstance||Uv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var di=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!di.isDisabled&&di.supportsFiber)try{yo=di.inject(Wv),wt=di}catch{}}Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hv;Qe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bu(e))throw Error(C(200));return Bv(t,e,null,n)};Qe.createRoot=function(t,e){if(!Bu(t))throw Error(C(299));var n=!1,r="",s=zp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Fu(t,1,!1,null,null,n,!1,r,s),t[Dt]=e.current,fs(t.nodeType===8?t.parentNode:t),new zu(e)};Qe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=lf(e),t=t===null?null:t.stateNode,t};Qe.flushSync=function(t){return Dn(t)};Qe.hydrate=function(t,e,n){if(!Do(e))throw Error(C(200));return Mo(null,t,e,!0,n)};Qe.hydrateRoot=function(t,e,n){if(!Bu(t))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=zp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=bp(e,null,t,1,n??null,s,!1,i,o),t[Dt]=e.current,fs(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ao(e)};Qe.render=function(t,e,n){if(!Do(e))throw Error(C(200));return Mo(null,t,e,!1,n)};Qe.unmountComponentAtNode=function(t){if(!Do(t))throw Error(C(40));return t._reactRootContainer?(Dn(function(){Mo(null,null,t,!1,function(){t._reactRootContainer=null,t[Dt]=null})}),!0):!1};Qe.unstable_batchedUpdates=Mu;Qe.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Do(n))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return Mo(t,e,n,!1,r)};Qe.version="18.3.1-next-f1338f8080-20240426";function Bp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bp)}catch(t){console.error(t)}}Bp(),zh.exports=Qe;var Up=zh.exports,Md=Up;Dl.createRoot=Md.createRoot,Dl.hydrateRoot=Md.hydrateRoot;function $v(){return c.jsxs("section",{className:"hero",children:[c.jsx("div",{className:"planet planet-1",children:c.jsxs("svg",{viewBox:"0 0 100 100",className:"planet-svg",children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"planet1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#ff6b9d"}),c.jsx("stop",{offset:"100%",stopColor:"#c44569"})]})}),c.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"url(#planet1)"}),c.jsx("ellipse",{cx:"50",cy:"50",rx:"60",ry:"12",fill:"none",stroke:"rgba(255,255,255,0.3)",strokeWidth:"3"})]})}),c.jsx("div",{className:"planet planet-2",children:c.jsxs("svg",{viewBox:"0 0 80 80",className:"planet-svg",children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"planet2",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#ffd700"}),c.jsx("stop",{offset:"100%",stopColor:"#ff8c42"})]})}),c.jsx("circle",{cx:"40",cy:"40",r:"35",fill:"url(#planet2)"})]})}),c.jsx("div",{className:"planet planet-3",children:c.jsxs("svg",{viewBox:"0 0 60 60",className:"planet-svg",children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"planet3",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#74b9ff"}),c.jsx("stop",{offset:"100%",stopColor:"#0984e3"})]})}),c.jsx("circle",{cx:"30",cy:"30",r:"25",fill:"url(#planet3)"})]})}),c.jsx("div",{className:"rocket-container",children:c.jsxs("svg",{viewBox:"0 0 100 200",className:"rocket-svg",children:[c.jsxs("g",{className:"rocket-flame",children:[c.jsx("ellipse",{cx:"50",cy:"180",rx:"12",ry:"25",fill:"#ff6b35",opacity:"0.9"}),c.jsx("ellipse",{cx:"50",cy:"175",rx:"8",ry:"18",fill:"#ffd700"}),c.jsx("ellipse",{cx:"50",cy:"170",rx:"4",ry:"10",fill:"#fff"})]}),c.jsx("path",{d:"M50 10 L70 60 L70 130 L60 140 L40 140 L30 130 L30 60 Z",fill:"url(#rocketBody)"}),c.jsx("defs",{children:c.jsxs("linearGradient",{id:"rocketBody",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[c.jsx("stop",{offset:"0%",stopColor:"#e0e0e0"}),c.jsx("stop",{offset:"50%",stopColor:"#ffffff"}),c.jsx("stop",{offset:"100%",stopColor:"#c0c0c0"})]})}),c.jsx("path",{d:"M50 10 L65 45 L35 45 Z",fill:"#ff6b9d"}),c.jsx("circle",{cx:"50",cy:"70",r:"12",fill:"#74b9ff",stroke:"#2d3436",strokeWidth:"3"}),c.jsx("circle",{cx:"47",cy:"67",r:"4",fill:"rgba(255,255,255,0.6)"}),c.jsx("path",{d:"M30 110 L15 145 L30 135 Z",fill:"#ff8c42"}),c.jsx("path",{d:"M70 110 L85 145 L70 135 Z",fill:"#ff8c42"}),c.jsx("rect",{x:"35",y:"95",width:"30",height:"8",fill:"#ff6b9d"})]})}),c.jsxs("div",{className:"hero-content",children:[c.jsx("p",{className:"hero-invite",children:"You're invited to"}),c.jsx("h1",{children:"Hilde's Space Mission"}),c.jsxs("div",{className:"age-badge",children:[c.jsx("span",{className:"age-number",children:"5"}),c.jsx("span",{className:"age-text",children:"years around the sun!"})]})]}),c.jsx("div",{className:"astronaut-float",children:c.jsxs("svg",{viewBox:"0 0 100 140",className:"astronaut-svg",children:[c.jsx("rect",{x:"30",y:"45",width:"40",height:"50",rx:"5",fill:"#636e72"}),c.jsx("ellipse",{cx:"50",cy:"80",rx:"25",ry:"30",fill:"white"}),c.jsx("circle",{cx:"50",cy:"35",r:"28",fill:"white"}),c.jsx("ellipse",{cx:"50",cy:"38",rx:"20",ry:"18",fill:"#74b9ff",opacity:"0.8"}),c.jsx("ellipse",{cx:"45",cy:"33",rx:"6",ry:"4",fill:"rgba(255,255,255,0.5)"}),c.jsx("ellipse",{cx:"20",cy:"75",rx:"10",ry:"15",fill:"white"}),c.jsx("ellipse",{cx:"80",cy:"75",rx:"10",ry:"15",fill:"white"}),c.jsx("ellipse",{cx:"38",cy:"115",rx:"10",ry:"18",fill:"white"}),c.jsx("ellipse",{cx:"62",cy:"115",rx:"10",ry:"18",fill:"white"}),c.jsx("ellipse",{cx:"50",cy:"55",rx:"25",ry:"5",fill:"#dfe6e9"})]})})]})}const Gv=new Date("2026-02-08T10:00:00-05:00"),Qv="Stamford Museum & Nature Center - Planetarium",jd="39 Scofieldtown Rd, Stamford, CT 06903",Yv="https://maps.google.com/?q=Stamford+Museum+Nature+Center+Planetarium+39+Scofieldtown+Rd+Stamford+CT",Kv="https://kotharishalin-max.github.io/Hilde-5th-birthday/",qv="SPACE2026";function Xv(){const[t,e]=D.useState(n());function n(){const s=Gv-new Date;return s<=0?{days:0,hours:0,minutes:0,seconds:0,expired:!0}:{days:Math.floor(s/(1e3*60*60*24)),hours:Math.floor(s/(1e3*60*60)%24),minutes:Math.floor(s/(1e3*60)%60),seconds:Math.floor(s/1e3%60),expired:!1}}return D.useEffect(()=>{const r=setInterval(()=>{e(n())},1e3);return()=>clearInterval(r)},[]),t.expired?c.jsx("div",{className:"countdown countdown-expired",children:c.jsx("span",{className:"countdown-title",children:"Liftoff!"})}):c.jsxs("div",{className:"countdown",children:[c.jsx("span",{className:"countdown-title",children:"T-Minus"}),c.jsxs("div",{className:"countdown-units",children:[c.jsxs("div",{className:"countdown-unit",children:[c.jsx("span",{className:"countdown-number",children:t.days}),c.jsx("span",{className:"countdown-label",children:"days"})]}),c.jsxs("div",{className:"countdown-unit",children:[c.jsx("span",{className:"countdown-number",children:t.hours}),c.jsx("span",{className:"countdown-label",children:"hrs"})]}),c.jsxs("div",{className:"countdown-unit",children:[c.jsx("span",{className:"countdown-number",children:t.minutes}),c.jsx("span",{className:"countdown-label",children:"min"})]}),c.jsxs("div",{className:"countdown-unit",children:[c.jsx("span",{className:"countdown-number",children:t.seconds}),c.jsx("span",{className:"countdown-label",children:"sec"})]})]})]})}function Zv(){const t="Hilde's 5th Birthday - Space Mission!",e=`Join us for an out-of-this-world birthday celebration at the Planetarium!

RSVP & Details: ${Kv}
Access Code: ${qv}

See you among the stars!`,n="20260208T150000Z",r="20260208T180000Z",s=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(t)}&dates=${n}/${r}&details=${encodeURIComponent(e)}&location=${encodeURIComponent(jd)}`,i=e.replace(/\n/g,"\\n"),o=()=>{const l=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Hilde Birthday//EN
BEGIN:VEVENT
DTSTART:${n}
DTEND:${r}
SUMMARY:${t}
DESCRIPTION:${i}
LOCATION:${jd}
END:VEVENT
END:VCALENDAR`,a=new Blob([l],{type:"text/calendar;charset=utf-8"}),u=document.createElement("a");u.href=URL.createObjectURL(a),u.download="hilde-birthday.ics",document.body.appendChild(u),u.click(),document.body.removeChild(u)};return c.jsxs("div",{className:"calendar-buttons",children:[c.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"calendar-btn google",children:[c.jsx("svg",{viewBox:"0 0 24 24",className:"calendar-icon",children:c.jsx("path",{fill:"currentColor",d:"M19,4H17V3a1,1,0,0,0-2,0V4H9V3A1,1,0,0,0,7,3V4H5A2,2,0,0,0,3,6V20a2,2,0,0,0,2,2H19a2,2,0,0,0,2-2V6A2,2,0,0,0,19,4Zm0,16H5V10H19ZM9,14H7V12H9Zm4,0H11V12h2Zm4,0H15V12h2Zm-8,4H7V16H9Zm4,0H11V16h2Zm4,0H15V16h2Z"})}),"Google Calendar"]}),c.jsxs("button",{onClick:o,className:"calendar-btn ics",children:[c.jsx("svg",{viewBox:"0 0 24 24",className:"calendar-icon",children:c.jsx("path",{fill:"currentColor",d:"M19,4H17V3a1,1,0,0,0-2,0V4H9V3A1,1,0,0,0,7,3V4H5A2,2,0,0,0,3,6V20a2,2,0,0,0,2,2H19a2,2,0,0,0,2-2V6A2,2,0,0,0,19,4Zm0,16H5V10H19ZM9,14H7V12H9Zm4,0H11V12h2Zm4,0H15V12h2Zm-8,4H7V16H9Zm4,0H11V16h2Zm4,0H15V16h2Z"})}),"Apple / Outlook"]})]})}function Jv(){return c.jsxs("section",{className:"details",children:[c.jsx("h2",{children:"Mission Briefing"}),c.jsx(Xv,{}),c.jsxs("div",{className:"detail-cards",children:[c.jsxs("div",{className:"detail-card",children:[c.jsx("span",{className:"icon",role:"img","aria-label":"calendar",children:""}),c.jsx("h3",{children:"Launch Date"}),c.jsx("p",{children:"Saturday, February 8th, 2026"})]}),c.jsxs("div",{className:"detail-card",children:[c.jsx("span",{className:"icon",role:"img","aria-label":"clock",children:""}),c.jsx("h3",{children:"Countdown Begins"}),c.jsx("p",{children:"10:00 AM"})]}),c.jsxs("div",{className:"detail-card location-card",children:[c.jsx("span",{className:"icon",role:"img","aria-label":"location",children:""}),c.jsx("h3",{children:"Mission Control"}),c.jsx("p",{children:Qv.split(" - ")[0]}),c.jsx("p",{className:"address",children:"Planetarium"}),c.jsx("p",{className:"address",children:"39 Scofieldtown Rd, Stamford, CT"}),c.jsxs("a",{href:Yv,target:"_blank",rel:"noopener noreferrer",className:"maps-link",children:[c.jsx("svg",{viewBox:"0 0 24 24",className:"maps-icon",children:c.jsx("path",{fill:"currentColor",d:"M12,2C8.13,2,5,5.13,5,9c0,5.25,7,13,7,13s7-7.75,7-13C19,5.13,15.87,2,12,2zm0,9.5c-1.38,0-2.5-1.12-2.5-2.5s1.12-2.5,2.5-2.5s2.5,1.12,2.5,2.5S13.38,11.5,12,11.5z"})}),"Open in Maps"]})]})]}),c.jsx(Zv,{})]})}var Od={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E=function(t,e){if(!t)throw xr(e)},xr=function(t){return new Error("Firebase Database ("+Vp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ey=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],a=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Uu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,a=s+2<t.length,u=a?t[s+2]:0,f=i>>2,d=(i&3)<<4|l>>4;let h=(l&15)<<2|u>>6,_=u&63;a||(_=64,o||(h=64)),r.push(n[f],n[d],n[h],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hp(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ey(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||d==null)throw new ty;const h=i<<2|l>>4;if(r.push(h),u!==64){const _=l<<4&240|u>>2;if(r.push(_),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ty extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Wp=function(t){const e=Hp(t);return Uu.encodeByteArray(e,!0)},Ji=function(t){return Wp(t).replace(/\./g,"")},Na=function(t){try{return Uu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(t){return $p(void 0,t)}function $p(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!ry(n)||(t[n]=$p(t[n],e[n]));return t}function ry(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=()=>sy().__FIREBASE_DEFAULTS__,oy=()=>{if(typeof process>"u"||typeof Od>"u")return;const t=Od.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ly=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Na(t[1]);return e&&JSON.parse(e)},Gp=()=>{try{return iy()||oy()||ly()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ay=t=>{var e,n;return(n=(e=Gp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uy=t=>{const e=ay(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Qp=()=>{var t;return(t=Gp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ji(JSON.stringify(n)),Ji(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dy())}function hy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fy(){return Vp.NODE_ADMIN===!0}function py(){try{return typeof indexedDB=="object"}catch{return!1}}function my(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="FirebaseError";class Bs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gy,Object.setPrototypeOf(this,Bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kp.prototype.create)}}class Kp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?_y(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Bs(s,l,r)}}function _y(t,e){return t.replace(vy,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const vy=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(t){return JSON.parse(t)}function ce(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=Ss(Na(i[0])||""),n=Ss(Na(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},yy=function(t){const e=qp(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},wy=function(t){const e=qp(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function gr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Ld(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function eo(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function ka(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Fd(i)&&Fd(o)){if(!ka(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Fd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,f;for(let d=0;d<80;d++){d<40?d<20?(u=l^i&(o^l),f=1518500249):(u=i^o^l,f=1859775393):d<60?(u=i&o|l&(i|o),f=2400959708):(u=i^o^l,f=3395469782);const h=(s<<5|s>>>27)+u+a+f+r[d]&4294967295;a=l,l=o,o=(i<<30|i>>>2)&4294967295,i=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function jo(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,E(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Oo=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t){return t&&t._delegate?t._delegate:t}class Es{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zs;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ky(e))try{this.getOrInitializeService({instanceIdentifier:yn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=yn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yn){return this.instances.has(e)}getOptions(e=yn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ny(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yn){return this.component?this.component.multipleInstances?e:yn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ny(t){return t===yn?void 0:t}function ky(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Q||(Q={}));const Ty={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},Ry=Q.INFO,Py={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},Ay=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Py[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xp{constructor(e){this.name=e,this._logLevel=Ry,this._logHandler=Ay,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ty[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...e),this._logHandler(this,Q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...e),this._logHandler(this,Q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...e),this._logHandler(this,Q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...e),this._logHandler(this,Q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...e),this._logHandler(this,Q.ERROR,...e)}}const Dy=(t,e)=>e.some(n=>t instanceof n);let bd,zd;function My(){return bd||(bd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jy(){return zd||(zd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zp=new WeakMap,Ia=new WeakMap,Jp=new WeakMap,wl=new WeakMap,Vu=new WeakMap;function Oy(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(tn(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Zp.set(n,t)}).catch(()=>{}),Vu.set(e,t),e}function Ly(t){if(Ia.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ia.set(t,e)}let Ta={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ia.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Jp.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Fy(t){Ta=t(Ta)}function by(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Cl(this),e,...n);return Jp.set(r,e.sort?e.sort():[e]),tn(r)}:jy().includes(t)?function(...e){return t.apply(Cl(this),e),tn(Zp.get(this))}:function(...e){return tn(t.apply(Cl(this),e))}}function zy(t){return typeof t=="function"?by(t):(t instanceof IDBTransaction&&Ly(t),Dy(t,My())?new Proxy(t,Ta):t)}function tn(t){if(t instanceof IDBRequest)return Oy(t);if(wl.has(t))return wl.get(t);const e=zy(t);return e!==t&&(wl.set(t,e),Vu.set(e,t)),e}const Cl=t=>Vu.get(t);function By(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=tn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(tn(o.result),a.oldVersion,a.newVersion,tn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{i&&a.addEventListener("close",()=>i()),s&&a.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const Uy=["get","getKey","getAll","getAllKeys","count"],Vy=["put","add","delete","clear"],Sl=new Map;function Bd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sl.get(e))return Sl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Vy.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Uy.includes(n)))return;const i=async function(o,...l){const a=this.transaction(o,s?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&a.done]))[0]};return Sl.set(e,i),i}Fy(t=>({...t,get:(e,n,r)=>Bd(e,n)||t.get(e,n,r),has:(e,n)=>!!Bd(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Wy(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Wy(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ra="@firebase/app",Ud="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot=new Xp("@firebase/app"),$y="@firebase/app-compat",Gy="@firebase/analytics-compat",Qy="@firebase/analytics",Yy="@firebase/app-check-compat",Ky="@firebase/app-check",qy="@firebase/auth",Xy="@firebase/auth-compat",Zy="@firebase/database",Jy="@firebase/data-connect",e0="@firebase/database-compat",t0="@firebase/functions",n0="@firebase/functions-compat",r0="@firebase/installations",s0="@firebase/installations-compat",i0="@firebase/messaging",o0="@firebase/messaging-compat",l0="@firebase/performance",a0="@firebase/performance-compat",u0="@firebase/remote-config",c0="@firebase/remote-config-compat",d0="@firebase/storage",h0="@firebase/storage-compat",f0="@firebase/firestore",p0="@firebase/vertexai-preview",m0="@firebase/firestore-compat",g0="firebase",_0="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="[DEFAULT]",v0={[Ra]:"fire-core",[$y]:"fire-core-compat",[Qy]:"fire-analytics",[Gy]:"fire-analytics-compat",[Ky]:"fire-app-check",[Yy]:"fire-app-check-compat",[qy]:"fire-auth",[Xy]:"fire-auth-compat",[Zy]:"fire-rtdb",[Jy]:"fire-data-connect",[e0]:"fire-rtdb-compat",[t0]:"fire-fn",[n0]:"fire-fn-compat",[r0]:"fire-iid",[s0]:"fire-iid-compat",[i0]:"fire-fcm",[o0]:"fire-fcm-compat",[l0]:"fire-perf",[a0]:"fire-perf-compat",[u0]:"fire-rc",[c0]:"fire-rc-compat",[d0]:"fire-gcs",[h0]:"fire-gcs-compat",[f0]:"fire-fst",[m0]:"fire-fst-compat",[p0]:"fire-vertex","fire-js":"fire-js",[g0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new Map,y0=new Map,Aa=new Map;function Vd(t,e){try{t.container.addComponent(e)}catch(n){Ot.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function no(t){const e=t.name;if(Aa.has(e))return Ot.debug(`There were multiple attempts to register component ${e}.`),!1;Aa.set(e,t);for(const n of to.values())Vd(n,t);for(const n of y0.values())Vd(n,t);return!0}function w0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nn=new Kp("app","Firebase",C0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=_0;function em(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Pa,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw nn.create("bad-app-name",{appName:String(s)});if(n||(n=Qp()),!n)throw nn.create("no-options");const i=to.get(s);if(i){if(ka(n,i.options)&&ka(r,i.config))return i;throw nn.create("duplicate-app",{appName:s})}const o=new Iy(s);for(const a of Aa.values())o.addComponent(a);const l=new S0(n,r,o);return to.set(s,l),l}function x0(t=Pa){const e=to.get(t);if(!e&&t===Pa&&Qp())return em();if(!e)throw nn.create("no-app",{appName:t});return e}function lr(t,e,n){var r;let s=(r=v0[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ot.warn(l.join(" "));return}no(new Es(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="firebase-heartbeat-database",k0=1,xs="firebase-heartbeat-store";let El=null;function tm(){return El||(El=By(N0,k0,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xs)}catch(n){console.warn(n)}}}}).catch(t=>{throw nn.create("idb-open",{originalErrorMessage:t.message})})),El}async function I0(t){try{const n=(await tm()).transaction(xs),r=await n.objectStore(xs).get(nm(t));return await n.done,r}catch(e){if(e instanceof Bs)Ot.warn(e.message);else{const n=nn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ot.warn(n.message)}}}async function Hd(t,e){try{const r=(await tm()).transaction(xs,"readwrite");await r.objectStore(xs).put(e,nm(t)),await r.done}catch(n){if(n instanceof Bs)Ot.warn(n.message);else{const r=nn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ot.warn(r.message)}}}function nm(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=1024,R0=30*24*60*60*1e3;class P0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new D0(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Wd();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=R0}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ot.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Wd(),{heartbeatsToSend:r,unsentEntries:s}=A0(this._heartbeatsCache.heartbeats),i=Ji(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ot.warn(n),""}}}function Wd(){return new Date().toISOString().substring(0,10)}function A0(t,e=T0){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),$d(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),$d(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class D0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return py()?my().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await I0(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Hd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Hd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function $d(t){return Ji(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(t){no(new Es("platform-logger",e=>new Hy(e),"PRIVATE")),no(new Es("heartbeat",e=>new P0(e),"PRIVATE")),lr(Ra,Ud,t),lr(Ra,Ud,"esm2017"),lr("fire-js","")}M0("");var Gd={};const Qd="@firebase/database",Yd="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rm="";function j0(t){rm=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ce(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ss(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return St(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new O0(e)}}catch{}return new L0},xn=sm("localStorage"),F0=sm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new Xp("@firebase/database"),b0=function(){let t=1;return function(){return t++}}(),im=function(t){const e=Ey(t),n=new Sy;n.update(e);const r=n.digest();return Uu.encodeByteArray(r)},Us=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Us.apply(null,r):typeof r=="object"?e+=ce(r):e+=r,e+=" "}return e};let es=null,Kd=!0;const z0=function(t,e){E(!0,"Can't turn on custom loggers persistently."),ar.logLevel=Q.VERBOSE,es=ar.log.bind(ar)},ye=function(...t){if(Kd===!0&&(Kd=!1,es===null&&F0.get("logging_enabled")===!0&&z0()),es){const e=Us.apply(null,t);es(e)}},Vs=function(t){return function(...e){ye(t,...e)}},Da=function(...t){const e="FIREBASE INTERNAL ERROR: "+Us(...t);ar.error(e)},Lt=function(...t){const e=`FIREBASE FATAL ERROR: ${Us(...t)}`;throw ar.error(e),new Error(e)},De=function(...t){const e="FIREBASE WARNING: "+Us(...t);ar.warn(e)},B0=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&De("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Hu=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},U0=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Mn="[MIN_NAME]",an="[MAX_NAME]",bn=function(t,e){if(t===e)return 0;if(t===Mn||e===an)return-1;if(e===Mn||t===an)return 1;{const n=qd(t),r=qd(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},V0=function(t,e){return t===e?0:t<e?-1:1},Fr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ce(e))},Wu=function(t){if(typeof t!="object"||t===null)return ce(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ce(e[r]),n+=":",n+=Wu(t[e[r]]);return n+="}",n},om=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Se(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const lm=function(t){E(!Hu(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,l,a;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)u.push(i%2?1:0),i=Math.floor(i/2);u.push(s?1:0),u.reverse();const f=u.join("");let d="";for(a=0;a<64;a+=8){let h=parseInt(f.substr(a,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},H0=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},W0=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function $0(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const G0=new RegExp("^-?(0*)\\d{1,10}$"),Q0=-2147483648,Y0=2147483647,qd=function(t){if(G0.test(t)){const e=Number(t);if(e>=Q0&&e<=Y0)return e}return null},Nr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw De("Exception was thrown by user callback.",n),e},Math.floor(0))}},K0=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ts=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){De(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ye("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',De(e)}}class Ti{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ti.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u="5",am="v",um="s",cm="r",dm="f",hm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,fm="ls",pm="p",Ma="ac",mm="websocket",gm="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n,r,s,i=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&xn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Z0(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function vm(t,e,n){E(typeof e=="string","typeof type must == string"),E(typeof n=="object","typeof params must == object");let r;if(e===mm)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===gm)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Z0(t)&&(n.ns=t.namespace);const s=[];return Se(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(){this.counters_={}}incrementCounter(e,n=1){St(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return ny(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl={},Nl={};function Gu(t){const e=t.toString();return xl[e]||(xl[e]=new J0),xl[e]}function ew(t,e){const n=t.toString();return Nl[n]||(Nl[n]=e()),Nl[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Nr(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="start",nw="close",rw="pLPCommand",sw="pRTLPCB",ym="id",wm="pw",Cm="ser",iw="cb",ow="seg",lw="ts",aw="d",uw="dframe",Sm=1870,Em=30,cw=Sm-Em,dw=25e3,hw=3e4;class er{constructor(e,n,r,s,i,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vs(e),this.stats_=Gu(n),this.urlFn=a=>(this.appCheckToken&&(a[Ma]=this.appCheckToken),vm(n,gm,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new tw(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(hw)),U0(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Qu((...i)=>{const[o,l,a,u,f]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Xd)this.id=l,this.password=a;else if(o===nw)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,l]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Xd]="t",r[Cm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[iw]=this.scriptTagHolder.uniqueCallbackIdentifier),r[am]=$u,this.transportSessionId&&(r[um]=this.transportSessionId),this.lastSessionId&&(r[fm]=this.lastSessionId),this.applicationId&&(r[pm]=this.applicationId),this.appCheckToken&&(r[Ma]=this.appCheckToken),typeof location<"u"&&location.hostname&&hm.test(location.hostname)&&(r[cm]=dm);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){er.forceAllow_=!0}static forceDisallow(){er.forceDisallow_=!0}static isAvailable(){return er.forceAllow_?!0:!er.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!H0()&&!W0()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ce(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Wp(n),s=om(r,cw);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[uw]="t",r[ym]=e,r[wm]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ce(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Qu{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=b0(),window[rw+this.uniqueCallbackIdentifier]=e,window[sw+this.uniqueCallbackIdentifier]=n,this.myIFrame=Qu.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){ye("frame writing exception"),l.stack&&ye(l.stack),ye(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ye("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[ym]=this.myID,e[wm]=this.myPW,e[Cm]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Em+r.length<=Sm;){const o=this.pendingSegs.shift();r=r+"&"+ow+s+"="+o.seg+"&"+lw+s+"="+o.ts+"&"+aw+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(dw)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ye("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=16384,pw=45e3;let ro=null;typeof MozWebSocket<"u"?ro=MozWebSocket:typeof WebSocket<"u"&&(ro=WebSocket);class at{constructor(e,n,r,s,i,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vs(this.connId),this.stats_=Gu(n),this.connURL=at.connectionURL_(n,o,l,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[am]=$u,typeof location<"u"&&location.hostname&&hm.test(location.hostname)&&(o[cm]=dm),n&&(o[um]=n),r&&(o[fm]=r),s&&(o[Ma]=s),i&&(o[pm]=i),vm(e,mm,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xn.set("previous_websocket_failure",!0);try{let r;fy(),this.mySock=new ro(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){at.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&ro!==null&&!at.forceDisallow_}static previouslyFailed(){return xn.isInMemoryStorage||xn.get("previous_websocket_failure")===!0}markConnectionHealthy(){xn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ss(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(E(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=ce(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=om(n,fw);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(pw))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}at.responsesRequiredToBeHealthy=2;at.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[er,at]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=at&&at.isAvailable();let r=n&&!at.previouslyFailed();if(e.webSocketOnly&&(n||De("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[at];else{const s=this.transports_=[];for(const i of Ns.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Ns.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ns.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=6e4,gw=5e3,_w=10*1024,vw=100*1024,kl="t",Zd="d",yw="s",Jd="r",ww="e",eh="o",th="a",nh="n",rh="p",Cw="h";class Sw{constructor(e,n,r,s,i,o,l,a,u,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vs("c:"+this.id+":"),this.transportManager_=new Ns(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=ts(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>vw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>_w?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(kl in e){const n=e[kl];n===th?this.upgradeIfSecondaryHealthy_():n===Jd?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===eh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Fr("t",e),r=Fr("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:rh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:th,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:nh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Fr("t",e),r=Fr("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Fr(kl,e);if(Zd in e){const r=e[Zd];if(n===Cw){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===nh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===yw?this.onConnectionShutdown_(r):n===Jd?this.onReset_(r):n===ww?Da("Server Error: "+r):n===eh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Da("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),$u!==r&&De("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ts(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(mw))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ts(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(gw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:rh,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e){this.allowedEvents_=e,this.listeners_={},E(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){E(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Nm{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Yp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new so}getInitialEvent(e){return E(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=32,ih=768;class W{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function U(){return new W("")}function L(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function un(t){return t.pieces_.length-t.pieceNum_}function Y(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new W(t.pieces_,e)}function Yu(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Ew(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ks(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function km(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new W(e,0)}function ie(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof W)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new W(n,0)}function F(t){return t.pieceNum_>=t.pieces_.length}function Pe(t,e){const n=L(t),r=L(e);if(n===null)return e;if(n===r)return Pe(Y(t),Y(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function xw(t,e){const n=ks(t,0),r=ks(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=bn(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function Ku(t,e){if(un(t)!==un(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ze(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(un(t)>un(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Nw{constructor(e,n){this.errorPrefix_=n,this.parts_=ks(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Oo(this.parts_[r]);Im(this)}}function kw(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Oo(e),Im(t)}function Iw(t){const e=t.parts_.pop();t.byteLength_-=Oo(e),t.parts_.length>0&&(t.byteLength_-=1)}function Im(t){if(t.byteLength_>ih)throw new Error(t.errorPrefix_+"has a key path longer than "+ih+" bytes ("+t.byteLength_+").");if(t.parts_.length>sh)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+sh+") or object contains a cycle "+wn(t))}function wn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends Nm{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new qu}getInitialEvent(e){return E(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=1e3,Tw=60*5*1e3,oh=30*1e3,Rw=1.3,Pw=3e4,Aw="server_kill",lh=3;class Pt extends xm{constructor(e,n,r,s,i,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Pt.nextPersistentConnectionId_++,this.log_=Vs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=br,this.maxReconnectDelay_=Tw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qu.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&so.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(ce(i)),E(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new zs,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),E(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),E(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,l=>{const a=l.d,u=l.s;Pt.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&St(e,"w")){const r=gr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();De(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||wy(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=oh)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=yy(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),E(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ce(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Da("Unrecognized action received from server: "+ce(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){E(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=br,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=br,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Pw&&(this.reconnectDelay_=br),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Rw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Pt.nextConnectionId_++,i=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(d){E(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:u};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?ye("getToken() completed but was canceled"):(ye("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,l=new Sw(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,_=>{De(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(Aw)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&De(d),a())}}}interrupt(e){ye("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ye("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ld(this.interruptReasons_)&&(this.reconnectDelay_=br,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Wu(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new W(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){ye("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lh&&(this.reconnectDelay_=oh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ye("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+rm.replace(/\./g,"-")]=1,Yp()?e["framework.cordova"]=1:hy()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=so.getInstance().currentlyOnline();return Ld(this.interruptReasons_)&&e}}Pt.nextPersistentConnectionId_=0;Pt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new b(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new b(Mn,e),s=new b(Mn,n);return this.compare(r,s)!==0}minPost(){return b.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hi;class Tm extends Lo{static get __EMPTY_NODE(){return hi}static set __EMPTY_NODE(e){hi=e}compare(e,n){return bn(e.name,n.name)}isDefinedOn(e){throw xr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return b.MIN}maxPost(){return new b(an,hi)}makePost(e,n){return E(typeof e=="string","KeyIndex indexValue must always be a string."),new b(e,hi)}toString(){return".key"}}const In=new Tm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ge{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ge.RED,this.left=s??Fe.EMPTY_NODE,this.right=i??Fe.EMPTY_NODE}copy(e,n,r,s,i){return new ge(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Fe.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Fe.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ge.RED=!0;ge.BLACK=!1;class Dw{copy(e,n,r,s,i){return this}insert(e,n,r){return new ge(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Fe{constructor(e,n=Fe.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Fe(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ge.BLACK,null,null))}remove(e){return new Fe(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ge.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new fi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new fi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new fi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new fi(this.root_,null,this.comparator_,!0,e)}}Fe.EMPTY_NODE=new Dw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t,e){return bn(t.name,e.name)}function Xu(t,e){return bn(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ja;function jw(t){ja=t}const Rm=function(t){return typeof t=="number"?"number:"+lm(t):"string:"+t},Pm=function(t){if(t.isLeafNode()){const e=t.val();E(typeof e=="string"||typeof e=="number"||typeof e=="object"&&St(e,".sv"),"Priority must be a string or number.")}else E(t===ja||t.isEmpty(),"priority of unexpected type.");E(t===ja||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah;class pe{constructor(e,n=pe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,E(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Pm(this.priorityNode_)}static set __childrenNodeConstructor(e){ah=e}static get __childrenNodeConstructor(){return ah}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new pe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:pe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return F(e)?this:L(e)===".priority"?this.priorityNode_:pe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:pe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=L(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(E(r!==".priority"||un(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,pe.__childrenNodeConstructor.EMPTY_NODE.updateChild(Y(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Rm(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=lm(this.value_):e+=this.value_,this.lazyHash_=im(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===pe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof pe.__childrenNodeConstructor?-1:(E(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=pe.VALUE_TYPE_ORDER.indexOf(n),i=pe.VALUE_TYPE_ORDER.indexOf(r);return E(s>=0,"Unknown leaf type: "+n),E(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}pe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am,Dm;function Ow(t){Am=t}function Lw(t){Dm=t}class Fw extends Lo{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?bn(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return b.MIN}maxPost(){return new b(an,new pe("[PRIORITY-POST]",Dm))}makePost(e,n){const r=Am(e);return new b(n,new pe("[PRIORITY-POST]",r))}toString(){return".priority"}}const te=new Fw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=Math.log(2);class zw{constructor(e){const n=i=>parseInt(Math.log(i)/bw,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const io=function(t,e,n,r){t.sort(e);const s=function(a,u){const f=u-a;let d,h;if(f===0)return null;if(f===1)return d=t[a],h=n?n(d):d,new ge(h,d.node,ge.BLACK,null,null);{const _=parseInt(f/2,10)+a,v=s(a,_),y=s(_+1,u);return d=t[_],h=n?n(d):d,new ge(h,d.node,ge.BLACK,v,y)}},i=function(a){let u=null,f=null,d=t.length;const h=function(v,y){const M=d-v,m=d;d-=v;const p=s(M+1,m),g=t[M],w=n?n(g):g;_(new ge(w,g.node,y,null,p))},_=function(v){u?(u.left=v,u=v):(f=v,u=v)};for(let v=0;v<a.count;++v){const y=a.nextBitIsOne(),M=Math.pow(2,a.count-(v+1));y?h(M,ge.BLACK):(h(M,ge.BLACK),h(M,ge.RED))}return f},o=new zw(t.length),l=i(o);return new Fe(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il;const Un={};class Tt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return E(Un&&te,"ChildrenNode.ts has not been loaded"),Il=Il||new Tt({".priority":Un},{".priority":te}),Il}get(e){const n=gr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Fe?n:null}hasIndex(e){return St(this.indexSet_,e.toString())}addIndex(e,n){E(e!==In,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(b.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let l;s?l=io(r,e.getCompare()):l=Un;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const f=Object.assign({},this.indexes_);return f[a]=l,new Tt(f,u)}addToIndexes(e,n){const r=eo(this.indexes_,(s,i)=>{const o=gr(this.indexSet_,i);if(E(o,"Missing index implementation for "+i),s===Un)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(b.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&l.push(u),u=a.getNext();return l.push(e),io(l,o.getCompare())}else return Un;else{const l=n.get(e.name);let a=s;return l&&(a=a.remove(new b(e.name,l))),a.insert(e,e.node)}});return new Tt(r,this.indexSet_)}removeFromIndexes(e,n){const r=eo(this.indexes_,s=>{if(s===Un)return s;{const i=n.get(e.name);return i?s.remove(new b(e.name,i)):s}});return new Tt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zr;class j{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Pm(this.priorityNode_),this.children_.isEmpty()&&E(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return zr||(zr=new j(new Fe(Xu),null,Tt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zr}updatePriority(e){return this.children_.isEmpty()?this:new j(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?zr:n}}getChild(e){const n=L(e);return n===null?this:this.getImmediateChild(n).getChild(Y(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(E(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new b(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?zr:this.priorityNode_;return new j(s,o,i)}}updateChild(e,n){const r=L(e);if(r===null)return n;{E(L(e)!==".priority"||un(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Y(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(te,(o,l)=>{n[o]=l.val(e),r++,i&&j.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Rm(this.getPriority().val())+":"),this.forEachChild(te,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":im(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new b(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new b(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new b(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,b.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,b.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Hs?-1:0}withIndex(e){if(e===In||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new j(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===In||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(te),s=n.getIterator(te);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===In?null:this.indexMap_.get(e.toString())}}j.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Bw extends j{constructor(){super(new Fe(Xu),j.EMPTY_NODE,Tt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return j.EMPTY_NODE}isEmpty(){return!1}}const Hs=new Bw;Object.defineProperties(b,{MIN:{value:new b(Mn,j.EMPTY_NODE)},MAX:{value:new b(an,Hs)}});Tm.__EMPTY_NODE=j.EMPTY_NODE;pe.__childrenNodeConstructor=j;jw(Hs);Lw(Hs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=!0;function ue(t,e=null){if(t===null)return j.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),E(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new pe(n,ue(e))}if(!(t instanceof Array)&&Uw){const n=[];let r=!1;if(Se(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=ue(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new b(o,a)))}}),n.length===0)return j.EMPTY_NODE;const i=io(n,Mw,o=>o.name,Xu);if(r){const o=io(n,te.getCompare());return new j(i,ue(e),new Tt({".priority":o},{".priority":te}))}else return new j(i,ue(e),Tt.Default)}else{let n=j.EMPTY_NODE;return Se(t,(r,s)=>{if(St(t,r)&&r.substring(0,1)!=="."){const i=ue(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(ue(e))}}Ow(ue);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends Lo{constructor(e){super(),this.indexPath_=e,E(!F(e)&&L(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?bn(e.name,n.name):i}makePost(e,n){const r=ue(e),s=j.EMPTY_NODE.updateChild(this.indexPath_,r);return new b(n,s)}maxPost(){const e=j.EMPTY_NODE.updateChild(this.indexPath_,Hs);return new b(an,e)}toString(){return ks(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw extends Lo{compare(e,n){const r=e.node.compareTo(n.node);return r===0?bn(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return b.MIN}maxPost(){return b.MAX}makePost(e,n){const r=ue(e);return new b(n,r)}toString(){return".value"}}const Mm=new Vw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t){return{type:"value",snapshotNode:t}}function _r(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Is(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ts(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Hw(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){E(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(r.getChild(s))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Is(n,l)):E(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(_r(n,r)):o.trackChildChange(Ts(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(te,(s,i)=>{n.hasChild(s)||r.trackChildChange(Is(s,i))}),n.isLeafNode()||n.forEachChild(te,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(Ts(s,i,o))}else r.trackChildChange(_r(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?j.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.indexedFilter_=new Ju(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Rs.getStartPost_(e),this.endPost_=Rs.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new b(n,r))||(r=j.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=j.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(j.EMPTY_NODE);const i=this;return n.forEachChild(te,(o,l)=>{i.matches(new b(o,l))||(s=s.updateImmediateChild(o,j.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Rs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new b(n,r))||(r=j.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=j.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=j.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const l=i.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(j.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const l=i.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:s=s.updateImmediateChild(l.name,j.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,_)=>d(_,h)}else o=this.index_.getCompare();const l=e;E(l.numChildren()===this.limit_,"");const a=new b(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),f=this.rangedFilter_.matches(a);if(l.hasChild(n)){const d=l.getImmediateChild(n);let h=s.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||l.hasChild(h.name));)h=s.getChildAfterChild(this.index_,h,this.reverse_);const _=h==null?1:o(h,a);if(f&&!r.isEmpty()&&_>=0)return i!=null&&i.trackChildChange(Ts(n,r,d)),l.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(Is(n,d));const y=l.updateImmediateChild(n,j.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(i!=null&&i.trackChildChange(_r(h.name,h.node)),y.updateImmediateChild(h.name,h.node)):y}}else return r.isEmpty()?e:f&&o(u,a)>=0?(i!=null&&(i.trackChildChange(Is(u.name,u.node)),i.trackChildChange(_r(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,j.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=te}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return E(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return E(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mn}hasEnd(){return this.endSet_}getIndexEndValue(){return E(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return E(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:an}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return E(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===te}copy(){const e=new ec;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function $w(t){return t.loadsAllData()?new Ju(t.getIndex()):t.hasLimit()?new Ww(t):new Rs(t)}function Gw(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Qw(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Yw(t,e){const n=t.copy();return n.index_=e,n}function uh(t){const e={};if(t.isDefault())return e;let n;if(t.index_===te?n="$priority":t.index_===Mm?n="$value":t.index_===In?n="$key":(E(t.index_ instanceof Zu,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ce(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=ce(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ce(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ce(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ce(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function ch(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==te&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends xm{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Vs("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(E(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=oo.getListenId_(e,r),l={};this.listens_[o]=l;const a=uh(e._queryParams);this.restRequest_(i+".json",a,(u,f)=>{let d=f;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(i,d,!1,r),gr(this.listens_,o)===l){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",s(h,null)}})}unlisten(e,n){const r=oo.getListenId_(e,n);delete this.listens_[r]}get(e){const n=uh(e._queryParams),r=e._path.toString(),s=new zs;return this.restRequest_(r+".json",n,(i,o)=>{let l=o;i===404&&(l=null,i=null),i===null?(this.onDataUpdate_(r,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Cy(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Ss(l.responseText)}catch{De("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&De("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.rootNode_=j.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(){return{value:null,children:new Map}}function Om(t,e,n){if(F(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=L(e);t.children.has(r)||t.children.set(r,lo());const s=t.children.get(r);e=Y(e),Om(s,e,n)}}function Oa(t,e,n){t.value!==null?n(e,t.value):qw(t,(r,s)=>{const i=new W(e.toString()+"/"+r);Oa(s,i,n)})}function qw(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Se(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=10*1e3,Zw=30*1e3,Jw=5*60*1e3;class eC{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Xw(e);const r=dh+(Zw-dh)*Math.random();ts(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Se(e,(s,i)=>{i>0&&St(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),ts(this.reportStats_.bind(this),Math.floor(Math.random()*2*Jw))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ut||(ut={}));function tc(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function nc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function rc(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ut.ACK_USER_WRITE,this.source=tc()}operationForChild(e){if(F(this.path)){if(this.affectedTree.value!=null)return E(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new W(e));return new ao(U(),n,this.revert)}}else return E(L(this.path)===e,"operationForChild called for unrelated child."),new ao(Y(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n){this.source=e,this.path=n,this.type=ut.LISTEN_COMPLETE}operationForChild(e){return F(this.path)?new Ps(this.source,U()):new Ps(this.source,Y(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ut.OVERWRITE}operationForChild(e){return F(this.path)?new jn(this.source,U(),this.snap.getImmediateChild(e)):new jn(this.source,Y(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ut.MERGE}operationForChild(e){if(F(this.path)){const n=this.children.subtree(new W(e));return n.isEmpty()?null:n.value?new jn(this.source,U(),n.value):new vr(this.source,U(),n)}else return E(L(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new vr(this.source,Y(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(F(e))return this.isFullyInitialized()&&!this.filtered_;const n=L(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function nC(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(Hw(o.childName,o.snapshotNode))}),Br(t,s,"child_removed",e,r,n),Br(t,s,"child_added",e,r,n),Br(t,s,"child_moved",i,r,n),Br(t,s,"child_changed",e,r,n),Br(t,s,"value",e,r,n),s}function Br(t,e,n,r,s,i){const o=r.filter(l=>l.type===n);o.sort((l,a)=>sC(t,l,a)),o.forEach(l=>{const a=rC(t,l,i);s.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(a,t.query_))})})}function rC(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function sC(t,e,n){if(e.childName==null||n.childName==null)throw xr("Should only compare child_ events.");const r=new b(e.childName,e.snapshotNode),s=new b(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(t,e){return{eventCache:t,serverCache:e}}function ns(t,e,n,r){return Fo(new cn(e,n,r),t.serverCache)}function Lm(t,e,n,r){return Fo(t.eventCache,new cn(e,n,r))}function uo(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function On(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl;const iC=()=>(Tl||(Tl=new Fe(V0)),Tl);class G{constructor(e,n=iC()){this.value=e,this.children=n}static fromObject(e){let n=new G(null);return Se(e,(r,s)=>{n=n.set(new W(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:U(),value:this.value};if(F(e))return null;{const r=L(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(Y(e),n);return i!=null?{path:ie(new W(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(F(e))return this;{const n=L(e),r=this.children.get(n);return r!==null?r.subtree(Y(e)):new G(null)}}set(e,n){if(F(e))return new G(n,this.children);{const r=L(e),i=(this.children.get(r)||new G(null)).set(Y(e),n),o=this.children.insert(r,i);return new G(this.value,o)}}remove(e){if(F(e))return this.children.isEmpty()?new G(null):new G(null,this.children);{const n=L(e),r=this.children.get(n);if(r){const s=r.remove(Y(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new G(null):new G(this.value,i)}else return this}}get(e){if(F(e))return this.value;{const n=L(e),r=this.children.get(n);return r?r.get(Y(e)):null}}setTree(e,n){if(F(e))return n;{const r=L(e),i=(this.children.get(r)||new G(null)).setTree(Y(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new G(this.value,o)}}fold(e){return this.fold_(U(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(ie(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,U(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(F(e))return null;{const i=L(e),o=this.children.get(i);return o?o.findOnPath_(Y(e),ie(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,U(),n)}foreachOnPath_(e,n,r){if(F(e))return this;{this.value&&r(n,this.value);const s=L(e),i=this.children.get(s);return i?i.foreachOnPath_(Y(e),ie(n,s),r):new G(null)}}foreach(e){this.foreach_(U(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(ie(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.writeTree_=e}static empty(){return new pt(new G(null))}}function rs(t,e,n){if(F(e))return new pt(new G(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=Pe(s,e);return i=i.updateChild(o,n),new pt(t.writeTree_.set(s,i))}else{const s=new G(n),i=t.writeTree_.setTree(e,s);return new pt(i)}}}function La(t,e,n){let r=t;return Se(n,(s,i)=>{r=rs(r,ie(e,s),i)}),r}function hh(t,e){if(F(e))return pt.empty();{const n=t.writeTree_.setTree(e,new G(null));return new pt(n)}}function Fa(t,e){return zn(t,e)!=null}function zn(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Pe(n.path,e)):null}function fh(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(te,(r,s)=>{e.push(new b(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new b(r,s.value))}),e}function rn(t,e){if(F(e))return t;{const n=zn(t,e);return n!=null?new pt(new G(n)):new pt(t.writeTree_.subtree(e))}}function ba(t){return t.writeTree_.isEmpty()}function yr(t,e){return Fm(U(),t.writeTree_,e)}function Fm(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(E(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=Fm(ie(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ie(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t,e){return Um(e,t)}function oC(t,e,n,r,s){E(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=rs(t.visibleWrites,e,n)),t.lastWriteId=r}function lC(t,e,n,r){E(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=La(t.visibleWrites,e,n),t.lastWriteId=r}function aC(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function uC(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);E(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&cC(l,r.path)?s=!1:Ze(r.path,l.path)&&(i=!0)),o--}if(s){if(i)return dC(t),!0;if(r.snap)t.visibleWrites=hh(t.visibleWrites,r.path);else{const l=r.children;Se(l,a=>{t.visibleWrites=hh(t.visibleWrites,ie(r.path,a))})}return!0}else return!1}function cC(t,e){if(t.snap)return Ze(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ze(ie(t.path,n),e))return!0;return!1}function dC(t){t.visibleWrites=bm(t.allWrites,hC,U()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function hC(t){return t.visible}function bm(t,e,n){let r=pt.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let l;if(i.snap)Ze(n,o)?(l=Pe(n,o),r=rs(r,l,i.snap)):Ze(o,n)&&(l=Pe(o,n),r=rs(r,U(),i.snap.getChild(l)));else if(i.children){if(Ze(n,o))l=Pe(n,o),r=La(r,l,i.children);else if(Ze(o,n))if(l=Pe(o,n),F(l))r=La(r,U(),i.children);else{const a=gr(i.children,L(l));if(a){const u=a.getChild(Y(l));r=rs(r,U(),u)}}}else throw xr("WriteRecord should have .snap or .children")}}return r}function zm(t,e,n,r,s){if(!r&&!s){const i=zn(t.visibleWrites,e);if(i!=null)return i;{const o=rn(t.visibleWrites,e);if(ba(o))return n;if(n==null&&!Fa(o,U()))return null;{const l=n||j.EMPTY_NODE;return yr(o,l)}}}else{const i=rn(t.visibleWrites,e);if(!s&&ba(i))return n;if(!s&&n==null&&!Fa(i,U()))return null;{const o=function(u){return(u.visible||s)&&(!r||!~r.indexOf(u.writeId))&&(Ze(u.path,e)||Ze(e,u.path))},l=bm(t.allWrites,o,e),a=n||j.EMPTY_NODE;return yr(l,a)}}}function fC(t,e,n){let r=j.EMPTY_NODE;const s=zn(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(te,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=rn(t.visibleWrites,e);return n.forEachChild(te,(o,l)=>{const a=yr(rn(i,new W(o)),l);r=r.updateImmediateChild(o,a)}),fh(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=rn(t.visibleWrites,e);return fh(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function pC(t,e,n,r,s){E(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=ie(e,n);if(Fa(t.visibleWrites,i))return null;{const o=rn(t.visibleWrites,i);return ba(o)?s.getChild(n):yr(o,s.getChild(n))}}function mC(t,e,n,r){const s=ie(e,n),i=zn(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=rn(t.visibleWrites,s);return yr(o,r.getNode().getImmediateChild(n))}else return null}function gC(t,e){return zn(t.visibleWrites,e)}function _C(t,e,n,r,s,i,o){let l;const a=rn(t.visibleWrites,e),u=zn(a,U());if(u!=null)l=u;else if(n!=null)l=yr(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const f=[],d=o.getCompare(),h=i?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let _=h.getNext();for(;_&&f.length<s;)d(_,r)!==0&&f.push(_),_=h.getNext();return f}else return[]}function vC(){return{visibleWrites:pt.empty(),allWrites:[],lastWriteId:-1}}function co(t,e,n,r){return zm(t.writeTree,t.treePath,e,n,r)}function sc(t,e){return fC(t.writeTree,t.treePath,e)}function ph(t,e,n,r){return pC(t.writeTree,t.treePath,e,n,r)}function ho(t,e){return gC(t.writeTree,ie(t.treePath,e))}function yC(t,e,n,r,s,i){return _C(t.writeTree,t.treePath,e,n,r,s,i)}function ic(t,e,n){return mC(t.writeTree,t.treePath,e,n)}function Bm(t,e){return Um(ie(t.treePath,e),t.writeTree)}function Um(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;E(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),E(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,Ts(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Is(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,_r(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,Ts(r,e.snapshotNode,s.oldSnap));else throw xr("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Vm=new CC;class oc{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new cn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ic(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:On(this.viewCache_),i=yC(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t){return{filter:t}}function EC(t,e){E(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),E(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function xC(t,e,n,r,s){const i=new wC;let o,l;if(n.type===ut.OVERWRITE){const u=n;u.source.fromUser?o=za(t,e,u.path,u.snap,r,s,i):(E(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!F(u.path),o=fo(t,e,u.path,u.snap,r,s,l,i))}else if(n.type===ut.MERGE){const u=n;u.source.fromUser?o=kC(t,e,u.path,u.children,r,s,i):(E(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=Ba(t,e,u.path,u.children,r,s,l,i))}else if(n.type===ut.ACK_USER_WRITE){const u=n;u.revert?o=RC(t,e,u.path,r,s,i):o=IC(t,e,u.path,u.affectedTree,r,s,i)}else if(n.type===ut.LISTEN_COMPLETE)o=TC(t,e,n.path,r,i);else throw xr("Unknown operation type: "+n.type);const a=i.getChanges();return NC(e,o,a),{viewCache:o,changes:a}}function NC(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=uo(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(jm(uo(e)))}}function Hm(t,e,n,r,s,i){const o=e.eventCache;if(ho(r,n)!=null)return e;{let l,a;if(F(n))if(E(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=On(e),f=u instanceof j?u:j.EMPTY_NODE,d=sc(r,f);l=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const u=co(r,On(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,i)}else{const u=L(n);if(u===".priority"){E(un(n)===1,"Can't have a priority with additional path components");const f=o.getNode();a=e.serverCache.getNode();const d=ph(r,n,f,a);d!=null?l=t.filter.updatePriority(f,d):l=o.getNode()}else{const f=Y(n);let d;if(o.isCompleteForChild(u)){a=e.serverCache.getNode();const h=ph(r,n,o.getNode(),a);h!=null?d=o.getNode().getImmediateChild(u).updateChild(f,h):d=o.getNode().getImmediateChild(u)}else d=ic(r,u,e.serverCache);d!=null?l=t.filter.updateChild(o.getNode(),u,d,f,s,i):l=o.getNode()}}return ns(e,l,o.isFullyInitialized()||F(n),t.filter.filtersNodes())}}function fo(t,e,n,r,s,i,o,l){const a=e.serverCache;let u;const f=o?t.filter:t.filter.getIndexedFilter();if(F(n))u=f.updateFullNode(a.getNode(),r,null);else if(f.filtersNodes()&&!a.isFiltered()){const _=a.getNode().updateChild(n,r);u=f.updateFullNode(a.getNode(),_,null)}else{const _=L(n);if(!a.isCompleteForPath(n)&&un(n)>1)return e;const v=Y(n),M=a.getNode().getImmediateChild(_).updateChild(v,r);_===".priority"?u=f.updatePriority(a.getNode(),M):u=f.updateChild(a.getNode(),_,M,v,Vm,null)}const d=Lm(e,u,a.isFullyInitialized()||F(n),f.filtersNodes()),h=new oc(s,d,i);return Hm(t,d,n,s,h,l)}function za(t,e,n,r,s,i,o){const l=e.eventCache;let a,u;const f=new oc(s,e,i);if(F(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=ns(e,u,!0,t.filter.filtersNodes());else{const d=L(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),a=ns(e,u,l.isFullyInitialized(),l.isFiltered());else{const h=Y(n),_=l.getNode().getImmediateChild(d);let v;if(F(h))v=r;else{const y=f.getCompleteChild(d);y!=null?Yu(h)===".priority"&&y.getChild(km(h)).isEmpty()?v=y:v=y.updateChild(h,r):v=j.EMPTY_NODE}if(_.equals(v))a=e;else{const y=t.filter.updateChild(l.getNode(),d,v,h,f,o);a=ns(e,y,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function mh(t,e){return t.eventCache.isCompleteForChild(e)}function kC(t,e,n,r,s,i,o){let l=e;return r.foreach((a,u)=>{const f=ie(n,a);mh(e,L(f))&&(l=za(t,l,f,u,s,i,o))}),r.foreach((a,u)=>{const f=ie(n,a);mh(e,L(f))||(l=za(t,l,f,u,s,i,o))}),l}function gh(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Ba(t,e,n,r,s,i,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;F(n)?u=r:u=new G(null).setTree(n,r);const f=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(f.hasChild(d)){const _=e.serverCache.getNode().getImmediateChild(d),v=gh(t,_,h);a=fo(t,a,new W(d),v,s,i,o,l)}}),u.children.inorderTraversal((d,h)=>{const _=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!f.hasChild(d)&&!_){const v=e.serverCache.getNode().getImmediateChild(d),y=gh(t,v,h);a=fo(t,a,new W(d),y,s,i,o,l)}}),a}function IC(t,e,n,r,s,i,o){if(ho(s,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(F(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return fo(t,e,n,a.getNode().getChild(n),s,i,l,o);if(F(n)){let u=new G(null);return a.getNode().forEachChild(In,(f,d)=>{u=u.set(new W(f),d)}),Ba(t,e,n,u,s,i,l,o)}else return e}else{let u=new G(null);return r.foreach((f,d)=>{const h=ie(n,f);a.isCompleteForPath(h)&&(u=u.set(f,a.getNode().getChild(h)))}),Ba(t,e,n,u,s,i,l,o)}}function TC(t,e,n,r,s){const i=e.serverCache,o=Lm(e,i.getNode(),i.isFullyInitialized()||F(n),i.isFiltered());return Hm(t,o,n,r,Vm,s)}function RC(t,e,n,r,s,i){let o;if(ho(r,n)!=null)return e;{const l=new oc(r,e,s),a=e.eventCache.getNode();let u;if(F(n)||L(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=co(r,On(e));else{const d=e.serverCache.getNode();E(d instanceof j,"serverChildren would be complete if leaf node"),f=sc(r,d)}f=f,u=t.filter.updateFullNode(a,f,i)}else{const f=L(n);let d=ic(r,f,e.serverCache);d==null&&e.serverCache.isCompleteForChild(f)&&(d=a.getImmediateChild(f)),d!=null?u=t.filter.updateChild(a,f,d,Y(n),l,i):e.eventCache.getNode().hasChild(f)?u=t.filter.updateChild(a,f,j.EMPTY_NODE,Y(n),l,i):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=co(r,On(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,i)))}return o=e.serverCache.isFullyInitialized()||ho(r,U())!=null,ns(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new Ju(r.getIndex()),i=$w(r);this.processor_=SC(i);const o=n.serverCache,l=n.eventCache,a=s.updateFullNode(j.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(j.EMPTY_NODE,l.getNode(),null),f=new cn(a,o.isFullyInitialized(),s.filtersNodes()),d=new cn(u,l.isFullyInitialized(),i.filtersNodes());this.viewCache_=Fo(d,f),this.eventGenerator_=new tC(this.query_)}get query(){return this.query_}}function AC(t){return t.viewCache_.serverCache.getNode()}function DC(t){return uo(t.viewCache_)}function MC(t,e){const n=On(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!F(e)&&!n.getImmediateChild(L(e)).isEmpty())?n.getChild(e):null}function _h(t){return t.eventRegistrations_.length===0}function jC(t,e){t.eventRegistrations_.push(e)}function vh(t,e,n){const r=[];if(n){E(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function yh(t,e,n,r){e.type===ut.MERGE&&e.source.queryId!==null&&(E(On(t.viewCache_),"We should always have a full cache before handling merges"),E(uo(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=xC(t.processor_,s,e,n,r);return EC(t.processor_,i.viewCache),E(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,Wm(t,i.changes,i.viewCache.eventCache.getNode(),null)}function OC(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(te,(i,o)=>{r.push(_r(i,o))}),n.isFullyInitialized()&&r.push(jm(n.getNode())),Wm(t,r,n.getNode(),e)}function Wm(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return nC(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po;class $m{constructor(){this.views=new Map}}function LC(t){E(!po,"__referenceConstructor has already been defined"),po=t}function FC(){return E(po,"Reference.ts has not been loaded"),po}function bC(t){return t.views.size===0}function lc(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return E(i!=null,"SyncTree gave us an op for an invalid query."),yh(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(yh(o,e,n,r));return i}}function Gm(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let l=co(n,s?r:null),a=!1;l?a=!0:r instanceof j?(l=sc(n,r),a=!1):(l=j.EMPTY_NODE,a=!1);const u=Fo(new cn(l,a,!1),new cn(r,s,!1));return new PC(e,u)}return o}function zC(t,e,n,r,s,i){const o=Gm(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),jC(o,n),OC(o,n)}function BC(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const l=dn(t);if(s==="default")for(const[a,u]of t.views.entries())o=o.concat(vh(u,n,r)),_h(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||i.push(u.query));else{const a=t.views.get(s);a&&(o=o.concat(vh(a,n,r)),_h(a)&&(t.views.delete(s),a.query._queryParams.loadsAllData()||i.push(a.query)))}return l&&!dn(t)&&i.push(new(FC())(e._repo,e._path)),{removed:i,events:o}}function Qm(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function sn(t,e){let n=null;for(const r of t.views.values())n=n||MC(r,e);return n}function Ym(t,e){if(e._queryParams.loadsAllData())return zo(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Km(t,e){return Ym(t,e)!=null}function dn(t){return zo(t)!=null}function zo(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo;function UC(t){E(!mo,"__referenceConstructor has already been defined"),mo=t}function VC(){return E(mo,"Reference.ts has not been loaded"),mo}let HC=1;class wh{constructor(e){this.listenProvider_=e,this.syncPointTree_=new G(null),this.pendingWriteTree_=vC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function qm(t,e,n,r,s){return oC(t.pendingWriteTree_,e,n,r,s),s?kr(t,new jn(tc(),e,n)):[]}function WC(t,e,n,r){lC(t.pendingWriteTree_,e,n,r);const s=G.fromObject(n);return kr(t,new vr(tc(),e,s))}function Gt(t,e,n=!1){const r=aC(t.pendingWriteTree_,e);if(uC(t.pendingWriteTree_,e)){let i=new G(null);return r.snap!=null?i=i.set(U(),!0):Se(r.children,o=>{i=i.set(new W(o),!0)}),kr(t,new ao(r.path,i,n))}else return[]}function Ws(t,e,n){return kr(t,new jn(nc(),e,n))}function $C(t,e,n){const r=G.fromObject(n);return kr(t,new vr(nc(),e,r))}function GC(t,e){return kr(t,new Ps(nc(),e))}function QC(t,e,n){const r=uc(t,n);if(r){const s=cc(r),i=s.path,o=s.queryId,l=Pe(i,e),a=new Ps(rc(o),l);return dc(t,i,a)}else return[]}function go(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let l=[];if(o&&(e._queryIdentifier==="default"||Km(o,e))){const a=BC(o,e,n,r);bC(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const u=a.removed;if(l=a.events,!s){const f=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(i,(h,_)=>dn(_));if(f&&!d){const h=t.syncPointTree_.subtree(i);if(!h.isEmpty()){const _=qC(h);for(let v=0;v<_.length;++v){const y=_[v],M=y.query,m=eg(t,y);t.listenProvider_.startListening(ss(M),As(t,M),m.hashFn,m.onComplete)}}}!d&&u.length>0&&!r&&(f?t.listenProvider_.stopListening(ss(e),null):u.forEach(h=>{const _=t.queryToTagMap.get(Bo(h));t.listenProvider_.stopListening(ss(h),_)}))}XC(t,u)}return l}function Xm(t,e,n,r){const s=uc(t,r);if(s!=null){const i=cc(s),o=i.path,l=i.queryId,a=Pe(o,e),u=new jn(rc(l),a,n);return dc(t,o,u)}else return[]}function YC(t,e,n,r){const s=uc(t,r);if(s){const i=cc(s),o=i.path,l=i.queryId,a=Pe(o,e),u=G.fromObject(n),f=new vr(rc(l),a,u);return dc(t,o,f)}else return[]}function Ua(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(h,_)=>{const v=Pe(h,s);i=i||sn(_,v),o=o||dn(_)});let l=t.syncPointTree_.get(s);l?(o=o||dn(l),i=i||sn(l,U())):(l=new $m,t.syncPointTree_=t.syncPointTree_.set(s,l));let a;i!=null?a=!0:(a=!1,i=j.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((_,v)=>{const y=sn(v,U());y&&(i=i.updateImmediateChild(_,y))}));const u=Km(l,e);if(!u&&!e._queryParams.loadsAllData()){const h=Bo(e);E(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const _=ZC();t.queryToTagMap.set(h,_),t.tagToQueryMap.set(_,h)}const f=bo(t.pendingWriteTree_,s);let d=zC(l,e,n,f,i,a);if(!u&&!o&&!r){const h=Ym(l,e);d=d.concat(JC(t,e,h))}return d}function ac(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=Pe(o,e),u=sn(l,a);if(u)return u});return zm(s,e,i,n,!0)}function KC(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,f)=>{const d=Pe(u,n);r=r||sn(f,d)});let s=t.syncPointTree_.get(n);s?r=r||sn(s,U()):(s=new $m,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new cn(r,!0,!1):null,l=bo(t.pendingWriteTree_,e._path),a=Gm(s,e,l,i?o.getNode():j.EMPTY_NODE,i);return DC(a)}function kr(t,e){return Zm(e,t.syncPointTree_,null,bo(t.pendingWriteTree_,U()))}function Zm(t,e,n,r){if(F(t.path))return Jm(t,e,n,r);{const s=e.get(U());n==null&&s!=null&&(n=sn(s,U()));let i=[];const o=L(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,f=Bm(r,o);i=i.concat(Zm(l,a,u,f))}return s&&(i=i.concat(lc(s,t,r,n))),i}}function Jm(t,e,n,r){const s=e.get(U());n==null&&s!=null&&(n=sn(s,U()));let i=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=Bm(r,o),f=t.operationForChild(o);f&&(i=i.concat(Jm(f,l,a,u)))}),s&&(i=i.concat(lc(s,t,r,n))),i}function eg(t,e){const n=e.query,r=As(t,n);return{hashFn:()=>(AC(e)||j.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?QC(t,n._path,r):GC(t,n._path);{const i=$0(s,n);return go(t,n,null,i)}}}}function As(t,e){const n=Bo(e);return t.queryToTagMap.get(n)}function Bo(t){return t._path.toString()+"$"+t._queryIdentifier}function uc(t,e){return t.tagToQueryMap.get(e)}function cc(t){const e=t.indexOf("$");return E(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new W(t.substr(0,e))}}function dc(t,e,n){const r=t.syncPointTree_.get(e);E(r,"Missing sync point for query tag that we're tracking");const s=bo(t.pendingWriteTree_,e);return lc(r,n,s,null)}function qC(t){return t.fold((e,n,r)=>{if(n&&dn(n))return[zo(n)];{let s=[];return n&&(s=Qm(n)),Se(r,(i,o)=>{s=s.concat(o)}),s}})}function ss(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(VC())(t._repo,t._path):t}function XC(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=Bo(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function ZC(){return HC++}function JC(t,e,n){const r=e._path,s=As(t,e),i=eg(t,n),o=t.listenProvider_.startListening(ss(e),s,i.hashFn,i.onComplete),l=t.syncPointTree_.subtree(r);if(s)E(!dn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,f,d)=>{if(!F(u)&&f&&dn(f))return[zo(f).query];{let h=[];return f&&(h=h.concat(Qm(f).map(_=>_.query))),Se(d,(_,v)=>{h=h.concat(v)}),h}});for(let u=0;u<a.length;++u){const f=a[u];t.listenProvider_.stopListening(ss(f),As(t,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new hc(n)}node(){return this.node_}}class fc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ie(this.path_,e);return new fc(this.syncTree_,n)}node(){return ac(this.syncTree_,this.path_)}}const eS=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Ch=function(t,e,n){if(!t||typeof t!="object")return t;if(E(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return tS(t[".sv"],e,n);if(typeof t[".sv"]=="object")return nS(t[".sv"],e);E(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},tS=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:E(!1,"Unexpected server value: "+t)}},nS=function(t,e,n){t.hasOwnProperty("increment")||E(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&E(!1,"Unexpected increment value: "+r);const s=e.node();if(E(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},tg=function(t,e,n,r){return pc(e,new fc(n,t),r)},ng=function(t,e,n){return pc(t,new hc(e),n)};function pc(t,e,n){const r=t.getPriority().val(),s=Ch(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,l=Ch(o.getValue(),e,n);return l!==o.getValue()||s!==o.getPriority().val()?new pe(l,ue(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new pe(s))),o.forEachChild(te,(l,a)=>{const u=pc(a,e.getImmediateChild(l),n);u!==a&&(i=i.updateImmediateChild(l,u))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function gc(t,e){let n=e instanceof W?e:new W(e),r=t,s=L(n);for(;s!==null;){const i=gr(r.node.children,s)||{children:{},childCount:0};r=new mc(s,r,i),n=Y(n),s=L(n)}return r}function Ir(t){return t.node.value}function rg(t,e){t.node.value=e,Va(t)}function sg(t){return t.node.childCount>0}function rS(t){return Ir(t)===void 0&&!sg(t)}function Uo(t,e){Se(t.node.children,(n,r)=>{e(new mc(n,t,r))})}function ig(t,e,n,r){n&&e(t),Uo(t,s=>{ig(s,e,!0)})}function sS(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function $s(t){return new W(t.parent===null?t.name:$s(t.parent)+"/"+t.name)}function Va(t){t.parent!==null&&iS(t.parent,t.name,t)}function iS(t,e,n){const r=rS(n),s=St(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Va(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Va(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=/[\[\].#$\/\u0000-\u001F\u007F]/,lS=/[\[\].#$\u0000-\u001F\u007F]/,Rl=10*1024*1024,_c=function(t){return typeof t=="string"&&t.length!==0&&!oS.test(t)},og=function(t){return typeof t=="string"&&t.length!==0&&!lS.test(t)},aS=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),og(t)},Ha=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Hu(t)||t&&typeof t=="object"&&St(t,".sv")},Gs=function(t,e,n,r){r&&e===void 0||Vo(jo(t,"value"),e,n)},Vo=function(t,e,n){const r=n instanceof W?new Nw(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+wn(r));if(typeof e=="function")throw new Error(t+"contains a function "+wn(r)+" with contents = "+e.toString());if(Hu(e))throw new Error(t+"contains "+e.toString()+" "+wn(r));if(typeof e=="string"&&e.length>Rl/3&&Oo(e)>Rl)throw new Error(t+"contains a string greater than "+Rl+" utf8 bytes "+wn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Se(e,(o,l)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!_c(o)))throw new Error(t+" contains an invalid key ("+o+") "+wn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);kw(r,o),Vo(t,l,r),Iw(r)}),s&&i)throw new Error(t+' contains ".value" child '+wn(r)+" in addition to actual children.")}},uS=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=ks(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!_c(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(xw);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&Ze(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},cS=function(t,e,n,r){const s=jo(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];Se(e,(o,l)=>{const a=new W(o);if(Vo(s,l,ie(n,a)),Yu(a)===".priority"&&!Ha(l))throw new Error(s+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(a)}),uS(s,i)},vc=function(t,e,n,r){if(!og(n))throw new Error(jo(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},dS=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),vc(t,e,n)},yc=function(t,e){if(L(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},hS=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!_c(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!aS(n))throw new Error(jo(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ho(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!Ku(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function lg(t,e,n){Ho(t,n),ag(t,r=>Ku(r,e))}function nt(t,e,n){Ho(t,n),ag(t,r=>Ze(r,e)||Ze(e,r))}function ag(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(pS(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function pS(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();es&&ye("event: "+n.toString()),Nr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="repo_interrupt",gS=25;class _S{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lo(),this.transactionQueueTree_=new mc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function vS(t,e,n){if(t.stats_=Gu(t.repoInfo_),t.forceRestClient_||K0())t.server_=new oo(t.repoInfo_,(r,s,i,o)=>{Sh(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Eh(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ce(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Pt(t.repoInfo_,e,(r,s,i,o)=>{Sh(t,r,s,i,o)},r=>{Eh(t,r)},r=>{yS(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=ew(t.repoInfo_,()=>new eC(t.stats_,t.server_)),t.infoData_=new Kw,t.infoSyncTree_=new wh({startListening:(r,s,i,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=Ws(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),wc(t,"connected",!1),t.serverSyncTree_=new wh({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(l,a)=>{const u=o(l,a);nt(t.eventQueue_,r._path,u)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function ug(t){const n=t.infoData_.getNode(new W(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Wo(t){return eS({timestamp:ug(t)})}function Sh(t,e,n,r,s){t.dataUpdateCount++;const i=new W(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const a=eo(n,u=>ue(u));o=YC(t.serverSyncTree_,i,a,s)}else{const a=ue(n);o=Xm(t.serverSyncTree_,i,a,s)}else if(r){const a=eo(n,u=>ue(u));o=$C(t.serverSyncTree_,i,a)}else{const a=ue(n);o=Ws(t.serverSyncTree_,i,a)}let l=i;o.length>0&&(l=wr(t,i)),nt(t.eventQueue_,l,o)}function Eh(t,e){wc(t,"connected",e),e===!1&&ES(t)}function yS(t,e){Se(e,(n,r)=>{wc(t,n,r)})}function wc(t,e,n){const r=new W("/.info/"+e),s=ue(n);t.infoData_.updateSnapshot(r,s);const i=Ws(t.infoSyncTree_,r,s);nt(t.eventQueue_,r,i)}function Cc(t){return t.nextWriteId_++}function wS(t,e,n){const r=KC(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=ue(s).withIndex(e._queryParams.getIndex());Ua(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Ws(t.serverSyncTree_,e._path,i);else{const l=As(t.serverSyncTree_,e);o=Xm(t.serverSyncTree_,e._path,i,l)}return nt(t.eventQueue_,e._path,o),go(t.serverSyncTree_,e,n,null,!0),i},s=>(Qs(t,"get for query "+ce(e)+" failed: "+s),Promise.reject(new Error(s))))}function CS(t,e,n,r,s){Qs(t,"set",{path:e.toString(),value:n,priority:r});const i=Wo(t),o=ue(n,r),l=ac(t.serverSyncTree_,e),a=ng(o,l,i),u=Cc(t),f=qm(t.serverSyncTree_,e,a,u,!0);Ho(t.eventQueue_,f),t.server_.put(e.toString(),o.val(!0),(h,_)=>{const v=h==="ok";v||De("set at "+e+" failed: "+h);const y=Gt(t.serverSyncTree_,u,!v);nt(t.eventQueue_,e,y),Wa(t,s,h,_)});const d=Ec(t,e);wr(t,d),nt(t.eventQueue_,d,[])}function SS(t,e,n,r){Qs(t,"update",{path:e.toString(),value:n});let s=!0;const i=Wo(t),o={};if(Se(n,(l,a)=>{s=!1,o[l]=tg(ie(e,l),ue(a),t.serverSyncTree_,i)}),s)ye("update() called with empty data.  Don't do anything."),Wa(t,r,"ok",void 0);else{const l=Cc(t),a=WC(t.serverSyncTree_,e,o,l);Ho(t.eventQueue_,a),t.server_.merge(e.toString(),n,(u,f)=>{const d=u==="ok";d||De("update at "+e+" failed: "+u);const h=Gt(t.serverSyncTree_,l,!d),_=h.length>0?wr(t,e):e;nt(t.eventQueue_,_,h),Wa(t,r,u,f)}),Se(n,u=>{const f=Ec(t,ie(e,u));wr(t,f)}),nt(t.eventQueue_,e,[])}}function ES(t){Qs(t,"onDisconnectEvents");const e=Wo(t),n=lo();Oa(t.onDisconnect_,U(),(s,i)=>{const o=tg(s,i,t.serverSyncTree_,e);Om(n,s,o)});let r=[];Oa(n,U(),(s,i)=>{r=r.concat(Ws(t.serverSyncTree_,s,i));const o=Ec(t,s);wr(t,o)}),t.onDisconnect_=lo(),nt(t.eventQueue_,U(),r)}function xS(t,e,n){let r;L(e._path)===".info"?r=Ua(t.infoSyncTree_,e,n):r=Ua(t.serverSyncTree_,e,n),lg(t.eventQueue_,e._path,r)}function NS(t,e,n){let r;L(e._path)===".info"?r=go(t.infoSyncTree_,e,n):r=go(t.serverSyncTree_,e,n),lg(t.eventQueue_,e._path,r)}function kS(t){t.persistentConnection_&&t.persistentConnection_.interrupt(mS)}function Qs(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ye(n,...e)}function Wa(t,e,n,r){e&&Nr(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function cg(t,e,n){return ac(t.serverSyncTree_,e,n)||j.EMPTY_NODE}function Sc(t,e=t.transactionQueueTree_){if(e||$o(t,e),Ir(e)){const n=hg(t,e);E(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&IS(t,$s(e),n)}else sg(e)&&Uo(e,n=>{Sc(t,n)})}function IS(t,e,n){const r=n.map(u=>u.currentWriteId),s=cg(t,e,r);let i=s;const o=s.hash();for(let u=0;u<n.length;u++){const f=n[u];E(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const d=Pe(e,f.path);i=i.updateChild(d,f.currentOutputSnapshotRaw)}const l=i.val(!0),a=e;t.server_.put(a.toString(),l,u=>{Qs(t,"transaction put response",{path:a.toString(),status:u});let f=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,f=f.concat(Gt(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();$o(t,gc(t.transactionQueueTree_,e)),Sc(t,t.transactionQueueTree_),nt(t.eventQueue_,e,f);for(let h=0;h<d.length;h++)Nr(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{De("transaction at "+a.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}wr(t,e)}},o)}function wr(t,e){const n=dg(t,e),r=$s(n),s=hg(t,n);return TS(t,s,r),r}function TS(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],u=Pe(n,a.path);let f=!1,d;if(E(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)f=!0,d=a.abortReason,s=s.concat(Gt(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=gS)f=!0,d="maxretry",s=s.concat(Gt(t.serverSyncTree_,a.currentWriteId,!0));else{const h=cg(t,a.path,o);a.currentInputSnapshot=h;const _=e[l].update(h.val());if(_!==void 0){Vo("transaction failed: Data returned ",_,a.path);let v=ue(_);typeof _=="object"&&_!=null&&St(_,".priority")||(v=v.updatePriority(h.getPriority()));const M=a.currentWriteId,m=Wo(t),p=ng(v,h,m);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=p,a.currentWriteId=Cc(t),o.splice(o.indexOf(M),1),s=s.concat(qm(t.serverSyncTree_,a.path,p,a.currentWriteId,a.applyLocally)),s=s.concat(Gt(t.serverSyncTree_,M,!0))}else f=!0,d="nodata",s=s.concat(Gt(t.serverSyncTree_,a.currentWriteId,!0))}nt(t.eventQueue_,n,s),s=[],f&&(e[l].status=2,function(h){setTimeout(h,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(d==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(d),!1,null))))}$o(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Nr(r[l]);Sc(t,t.transactionQueueTree_)}function dg(t,e){let n,r=t.transactionQueueTree_;for(n=L(e);n!==null&&Ir(r)===void 0;)r=gc(r,n),e=Y(e),n=L(e);return r}function hg(t,e){const n=[];return fg(t,e,n),n.sort((r,s)=>r.order-s.order),n}function fg(t,e,n){const r=Ir(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Uo(e,s=>{fg(t,s,n)})}function $o(t,e){const n=Ir(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,rg(e,n.length>0?n:void 0)}Uo(e,r=>{$o(t,r)})}function Ec(t,e){const n=$s(dg(t,e)),r=gc(t.transactionQueueTree_,e);return sS(r,s=>{Pl(t,s)}),Pl(t,r),ig(r,s=>{Pl(t,s)}),n}function Pl(t,e){const n=Ir(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(E(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(E(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Gt(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?rg(e,void 0):n.length=i+1,nt(t.eventQueue_,$s(e),s);for(let o=0;o<r.length;o++)Nr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function PS(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):De(`Invalid query segment '${n}' in query '${t}'`)}return e}const xh=function(t,e){const n=AS(t),r=n.namespace;n.domain==="firebase.com"&&Lt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Lt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||B0();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new _m(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new W(n.pathString)}},AS=function(t){let e="",n="",r="",s="",i="",o=!0,l="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let f=t.indexOf("/");f===-1&&(f=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(f,d)),f<d&&(s=RS(t.substring(f,d)));const h=PS(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const _=e.slice(0,u);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),i=r}"ns"in h&&(i=h.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",DS=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=Nh.charAt(n%64),n=Math.floor(n/64);E(n===0,"Cannot push at time == 0");let o=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=Nh.charAt(e[s]);return E(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ce(this.snapshot.exportVal())}}class jS{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return E(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return F(this._path)?null:Yu(this._path)}get ref(){return new bt(this._repo,this._path)}get _queryIdentifier(){const e=ch(this._queryParams),n=Wu(e);return n==="{}"?"default":n}get _queryObject(){return ch(this._queryParams)}isEqual(e){if(e=mn(e),!(e instanceof Tr))return!1;const n=this._repo===e._repo,r=Ku(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+Ew(this._path)}}function OS(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function xc(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===In){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Mn)throw new Error(r);if(typeof e!="string")throw new Error(s)}if(t.hasEnd()){if(t.getIndexEndName()!==an)throw new Error(r);if(typeof n!="string")throw new Error(s)}}else if(t.getIndex()===te){if(e!=null&&!Ha(e)||n!=null&&!Ha(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(E(t.getIndex()instanceof Zu||t.getIndex()===Mm,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function mg(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class bt extends Tr{constructor(e,n){super(e,n,new ec,!1)}get parent(){const e=km(this._path);return e===null?null:new bt(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ds{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new W(e),r=Ms(this.ref,e);return new Ds(this._node.getChild(n),r,te)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Ds(s,Ms(this.ref,r),te)))}hasChild(e){const n=new W(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ct(t,e){return t=mn(t),t._checkNotDeleted("ref"),e!==void 0?Ms(t._root,e):t._root}function Ms(t,e){return t=mn(t),L(t._path)===null?dS("child","path",e):vc("child","path",e),new bt(t._repo,ie(t._path,e))}function $a(t,e){t=mn(t),yc("push",t._path),Gs("push",e,t._path,!0);const n=ug(t._repo),r=DS(n),s=Ms(t,r),i=Ms(t,r);let o;return e!=null?o=gg(i,e).then(()=>i):o=Promise.resolve(i),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function kh(t){return yc("remove",t._path),gg(t,null)}function gg(t,e){t=mn(t),yc("set",t._path),Gs("set",e,t._path,!1);const n=new zs;return CS(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function LS(t,e){cS("update",e,t._path);const n=new zs;return SS(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function FS(t){t=mn(t);const e=new pg(()=>{}),n=new Go(e);return wS(t._repo,t,n).then(r=>new Ds(r,new bt(t._repo,t._path),t._queryParams.getIndex()))}class Go{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new MS("value",this,new Ds(e.snapshotNode,new bt(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new jS(this,e,n):null}matches(e){return e instanceof Go?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function bS(t,e,n,r,s){const i=new pg(n,void 0),o=new Go(i);return xS(t._repo,t,o),()=>NS(t._repo,t,o)}function _o(t,e,n,r){return bS(t,"value",e)}class Qo{}class zS extends Qo{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Gs("endAt",this._value,e._path,!0);const n=Qw(e._queryParams,this._value,this._key);if(mg(n),xc(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Tr(e._repo,e._path,n,e._orderByCalled)}}class BS extends Qo{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Gs("startAt",this._value,e._path,!0);const n=Gw(e._queryParams,this._value,this._key);if(mg(n),xc(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Tr(e._repo,e._path,n,e._orderByCalled)}}class US extends Qo{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){OS(e,"orderByChild");const n=new W(this._path);if(F(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Zu(n),s=Yw(e._queryParams,r);return xc(s),new Tr(e._repo,e._path,s,!0)}}function VS(t){return vc("orderByChild","path",t),new US(t)}class HS extends Qo{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Gs("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new zS(this._value,this._key)._apply(new BS(this._value,this._key)._apply(e))}}function WS(t,e){return new HS(t,e)}function $S(t,...e){let n=mn(t);for(const r of e)n=r._apply(n);return n}LC(bt);UC(bt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="FIREBASE_DATABASE_EMULATOR_HOST",Ga={};let QS=!1;function YS(t,e,n,r){t.repoInfo_=new _m(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function KS(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||Lt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ye("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=xh(i,s),l=o.repoInfo,a;typeof process<"u"&&Gd&&(a=Gd[GS]),a?(i=`http://${a}?ns=${l.namespace}`,o=xh(i,s),l=o.repoInfo):o.repoInfo.secure;const u=new X0(t.name,t.options,e);hS("Invalid Firebase Database URL",o),F(o.path)||Lt("Database URL must point to the root of a Firebase Database (not including a child path).");const f=XS(l,t,u,new q0(t.name,n));return new ZS(f,t)}function qS(t,e){const n=Ga[e];(!n||n[t.key]!==t)&&Lt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),kS(t),delete n[t.key]}function XS(t,e,n,r){let s=Ga[e.name];s||(s={},Ga[e.name]=s);let i=s[t.toURLString()];return i&&Lt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new _S(t,QS,n,r),s[t.toURLString()]=i,i}class ZS{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(vS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new bt(this._repo,U())),this._rootInternal}_delete(){return this._rootInternal!==null&&(qS(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Lt("Cannot call "+e+" on a deleted database.")}}function JS(t=x0(),e){const n=w0(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=uy("database");r&&eE(n,...r)}return n}function eE(t,e,n,r={}){t=mn(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Lt("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Lt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Ti(Ti.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:cy(r.mockUserToken,t.app.options.projectId);i=new Ti(o)}YS(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t){j0(E0),no(new Es("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return KS(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),lr(Qd,Yd,t),lr(Qd,Yd,"esm2017")}Pt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Pt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};tE();var nE="firebase",rE="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr(nE,rE,"app");const sE={apiKey:"AIzaSyA7bCJ740dlOwfB7jzZ9RPZ49JO8-XzMcc",authDomain:"hilde-5th-birthday.firebaseapp.com",databaseURL:"https://hilde-5th-birthday-default-rtdb.firebaseio.com",projectId:"hilde-5th-birthday",storageBucket:"hilde-5th-birthday.firebasestorage.app",messagingSenderId:"37156501458",appId:"1:37156501458:web:bbbf39de05a681fbec3a0b"},iE=em(sE),dt=JS(iE),pi="hilde-bday-rsvp-email",oE="hilde-bday-rsvp-id";function lE({active:t}){const e=D.useRef(null);return D.useEffect(()=>{if(!t)return;const n=e.current,r=n.getContext("2d");n.width=window.innerWidth,n.height=window.innerHeight;const s=[],i=["#ff6b9d","#ffd700","#74b9ff","#ff8c42","#a29bfe","#00cec9"];for(let a=0;a<150;a++)s.push({x:Math.random()*n.width,y:-10-Math.random()*100,size:Math.random()*8+4,color:i[Math.floor(Math.random()*i.length)],speedY:Math.random()*3+2,speedX:Math.random()*4-2,rotation:Math.random()*360,rotationSpeed:Math.random()*10-5});let o;const l=()=>{r.clearRect(0,0,n.width,n.height);let a=0;s.forEach(u=>{u.y<n.height+50&&(a++,u.y+=u.speedY,u.x+=u.speedX,u.rotation+=u.rotationSpeed,u.speedY+=.1,r.save(),r.translate(u.x,u.y),r.rotate(u.rotation*Math.PI/180),r.fillStyle=u.color,r.fillRect(-u.size/2,-u.size/2,u.size,u.size*.6),r.restore())}),a>0&&(o=requestAnimationFrame(l))};return l(),()=>{o&&cancelAnimationFrame(o)}},[t]),t?c.jsx("canvas",{ref:e,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:1e3}}):null}function aE(){const[t,e]=D.useState("lookup"),[n,r]=D.useState(""),[s,i]=D.useState(""),[o,l]=D.useState(null),[a,u]=D.useState(1),[f,d]=D.useState(1),[h,_]=D.useState(null),[v,y]=D.useState(""),[M,m]=D.useState(!0),[p,g]=D.useState(!1),[w,N]=D.useState(!1),[k,I]=D.useState(""),[R,$]=D.useState(!1),[O,Ee]=D.useState(!1);D.useEffect(()=>{(async()=>{localStorage.removeItem(oE);const P=localStorage.getItem(pi);if(P){r(P);const V=await gt(P);e(V?"submitted":"lookup")}m(!1)})()},[]);const gt=async S=>{if(!S.trim())return null;try{const P=ct(dt,"rsvps"),V=$S(P,VS("email"),WS(S.toLowerCase().trim())),J=await FS(V);if(J.exists()){const he=J.val(),[fe,rt]=Object.entries(he)[0];return i(rt.childName||rt.name||""),l(rt.attending),u(rt.adultCount||rt.guestCount||1),d(rt.kidCount||1),_(fe),rt}}catch(P){console.log("Email lookup error:",P.message)}return null},Et=async S=>{if(S.preventDefault(),y(""),!n.trim()){y("Please enter your email");return}g(!0);const P=await gt(n);g(!1),P?(localStorage.setItem(pi,n.toLowerCase().trim()),e("submitted")):e("form")},A=()=>{e("form")},Te=async S=>{if(S.preventDefault(),y(""),!n.trim()){y("Please enter your email");return}if(!s.trim()){y("Please enter your child's name");return}if(o===null){y("Please let us know if you can make it");return}const P={email:n.toLowerCase().trim(),childName:s.trim(),name:s.trim(),attending:o,adultCount:o?a:0,kidCount:o?f:0,timestamp:Date.now()};try{if(h)await LS(ct(dt,`rsvps/${h}`),P);else{const V=await $a(ct(dt,"rsvps"),P);_(V.key)}localStorage.setItem(pi,n.toLowerCase().trim()),N(!0),setTimeout(()=>N(!1),4e3),e("submitted")}catch(V){y("Oops! Something went wrong. Please try again."),console.error(V)}},Ue=async()=>{if(k.trim()){Ee(!0);try{await $a(ct(dt,"messages"),{name:s.trim()+"'s family",message:k.trim(),timestamp:Date.now()}),$(!0),I("")}catch(S){console.error(S)}Ee(!1)}},Ve=()=>{e("form")},x=()=>{localStorage.removeItem(pi),r(""),i(""),l(null),u(1),d(1),_(null),$(!1),I(""),e("lookup")};return M?c.jsxs("section",{className:"rsvp",children:[c.jsx("h2",{children:"Mission Log"}),c.jsx("p",{className:"rsvp-subtitle",children:"Loading..."})]}):t==="lookup"?c.jsxs("section",{className:"rsvp",children:[c.jsx("h2",{children:"Mission Log"}),c.jsx("p",{className:"rsvp-subtitle",children:"Already RSVP'd? Find your response to update it."}),c.jsxs("form",{onSubmit:Et,className:"lookup-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"lookup-email",children:"Your Email"}),c.jsx("input",{type:"email",id:"lookup-email",value:n,onChange:S=>r(S.target.value),placeholder:"astronaut@email.com"})]}),v&&c.jsx("p",{className:"error",children:v}),c.jsx("button",{type:"submit",className:"submit-btn",disabled:p,children:p?"Searching...":"Find My RSVP"})]}),c.jsx("div",{className:"divider",children:c.jsx("span",{children:"or"})}),c.jsx("button",{onClick:A,className:"secondary-btn",children:"New here? Submit your RSVP"})]}):t==="submitted"?c.jsxs("section",{className:"rsvp",children:[c.jsx(lE,{active:w}),c.jsx("h2",{children:"Mission Log"}),c.jsxs("div",{className:"success-message",children:[c.jsx("span",{className:"success-icon",children:""}),c.jsxs("p",{className:"success-name",children:["Thanks, ",s,"'s family!"]}),c.jsx("p",{className:"success-status",children:o?"We're excited to see you at the launch!":"We'll miss you! Thanks for letting us know."}),o&&c.jsxs("p",{className:"guest-summary",children:[a," ",a===1?"adult":"adults",f>0&&`, ${f} ${f===1?"kid":"kids"}`]}),R?c.jsx("p",{className:"message-sent-confirmation",children:"Message sent! Thank you!"}):c.jsxs("div",{className:"optional-message",children:[c.jsx("p",{className:"optional-message-prompt",children:"Want to send a message to Hilde?"}),c.jsx("textarea",{value:k,onChange:S=>I(S.target.value),placeholder:"Write a birthday wish or note...",rows:3,className:"optional-message-input"}),k.trim()&&c.jsx("button",{onClick:Ue,className:"send-message-btn",disabled:O,children:O?"Sending...":"Send Message"})]}),c.jsxs("div",{className:"rsvp-actions",children:[c.jsx("button",{onClick:Ve,className:"edit-btn",children:"Edit RSVP"}),c.jsx("button",{onClick:x,className:"reset-link",children:"Not you? Start fresh"})]})]})]}):c.jsxs("section",{className:"rsvp",children:[c.jsx("h2",{children:"Mission Log"}),c.jsx("p",{className:"rsvp-subtitle",children:h?"Update your RSVP":"Will you be joining our space adventure?"}),c.jsxs("form",{onSubmit:Te,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:"Your Email"}),c.jsx("input",{type:"email",id:"email",value:n,onChange:S=>r(S.target.value),placeholder:"astronaut@email.com"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"childName",children:"Child's Name"}),c.jsx("input",{type:"text",id:"childName",value:s,onChange:S=>i(S.target.value),placeholder:"Little astronaut's name..."})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Can you make it?"}),c.jsxs("div",{className:"toggle-buttons",children:[c.jsx("button",{type:"button",className:`toggle-btn ${o===!0?"active yes":""}`,onClick:()=>l(!0),children:"Yes, count us in!"}),c.jsx("button",{type:"button",className:`toggle-btn ${o===!1?"active no":""}`,onClick:()=>l(!1),children:"Can't make it"})]})]}),o&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Adults"}),c.jsx("div",{className:"count-selector",children:[1,2,3,4,5,6].map(S=>c.jsx("button",{type:"button",className:`count-btn ${a===S?"active":""}`,onClick:()=>u(S),children:S},S))})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Kids"}),c.jsx("div",{className:"count-selector",children:[1,2,3,4,5,6].map(S=>c.jsx("button",{type:"button",className:`count-btn ${f===S?"active":""}`,onClick:()=>d(S),children:S},S))})]})]}),v&&c.jsx("p",{className:"error",children:v}),c.jsx("button",{type:"submit",className:"submit-btn",children:h?"Update RSVP":"Submit RSVP"}),!h&&c.jsx("button",{type:"button",onClick:x,className:"reset-link",children:" Back to lookup"})]})]})}function uE(){const[t,e]=D.useState([]),[n,r]=D.useState(""),[s,i]=D.useState(""),[o,l]=D.useState(!1),[a,u]=D.useState(!1),[f,d]=D.useState(!1),[h,_]=D.useState(!1);D.useEffect(()=>{const p=ct(dt,"messages"),g=_o(p,w=>{const N=w.val();if(N){const k=Object.entries(N).map(([I,R])=>({id:I,...R})).sort((I,R)=>R.timestamp-I.timestamp);e(k)}else e([])});return()=>g()},[]);const v=async p=>{if(p.preventDefault(),!(!n.trim()||!s.trim())){l(!0);try{await $a(ct(dt,"messages"),{name:n.trim(),message:s.trim(),timestamp:Date.now()}),r(""),i(""),_(!0),setTimeout(()=>{u(!1),_(!1)},1500)}catch(g){console.error(g)}l(!1)}},y=p=>new Date(p).toLocaleDateString("en-US",{month:"short",day:"numeric"}),M=f?t:t.slice(0,3),m=c.jsxs(c.Fragment,{children:[c.jsxs("button",{className:"fab-message",onClick:()=>u(!0),"aria-label":"Send a message",children:[c.jsxs("svg",{viewBox:"0 0 24 24",className:"fab-icon",children:[c.jsx("path",{fill:"currentColor",d:"M20,2H4A2,2,0,0,0,2,4V22l4-4H20a2,2,0,0,0,2-2V4A2,2,0,0,0,20,2Zm0,14H5.17L4,17.17V4H20Z"}),c.jsx("path",{fill:"currentColor",d:"M7,9H17v2H7Zm0-3H17v2H7Zm0,6h10v2H7Z"})]}),t.length>0&&c.jsx("span",{className:"fab-badge",children:t.length})]}),a&&c.jsx("div",{className:"message-modal-overlay",onClick:()=>u(!1),children:c.jsxs("div",{className:"message-modal",onClick:p=>p.stopPropagation(),children:[c.jsx("button",{className:"modal-close",onClick:()=>u(!1),children:""}),h?c.jsxs("div",{className:"message-sent-success",children:[c.jsx("span",{className:"success-rocket",children:""}),c.jsx("p",{children:"Message sent to space!"})]}):c.jsxs(c.Fragment,{children:[c.jsx("h3",{children:"Send a Transmission"}),c.jsx("p",{className:"modal-subtitle",children:"Leave a birthday wish for Hilde!"}),c.jsxs("form",{onSubmit:v,className:"modal-form",children:[c.jsx("input",{type:"text",value:n,onChange:p=>r(p.target.value),placeholder:"Your name",required:!0}),c.jsx("textarea",{value:s,onChange:p=>i(p.target.value),placeholder:"Your message...",rows:4,required:!0}),c.jsx("button",{type:"submit",disabled:o,className:"modal-submit",children:o?"Transmitting...":"Send Message"})]})]})]})})]});return c.jsxs(c.Fragment,{children:[Up.createPortal(m,document.body),c.jsxs("section",{className:"guestbook",children:[c.jsxs("div",{className:"guestbook-header",children:[c.jsxs("div",{children:[c.jsx("h2",{children:"Transmissions from Space"}),c.jsx("p",{className:"guestbook-subtitle",children:t.length===0?"No messages yet - be the first!":`${t.length} message${t.length!==1?"s":""} received`})]}),c.jsx("button",{className:"send-message-btn-inline",onClick:()=>u(!0),children:"+ Send Message"})]}),t.length>0&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"messages-grid",children:M.map((p,g)=>c.jsxs("div",{className:"message-card",style:{animationDelay:`${g*100}ms`},children:[c.jsx("div",{className:"message-avatar",children:p.name.charAt(0).toUpperCase()}),c.jsxs("div",{className:"message-content",children:[c.jsxs("div",{className:"message-header",children:[c.jsx("span",{className:"message-author",children:p.name}),c.jsx("span",{className:"message-date",children:y(p.timestamp)})]}),c.jsx("p",{className:"message-text",children:p.message})]})]},p.id))}),t.length>3&&c.jsx("button",{className:"view-all-btn",onClick:()=>d(!f),children:f?"Show Less":`View All ${t.length} Messages`})]}),t.length===0&&c.jsxs("div",{className:"no-messages-cta",children:[c.jsx("div",{className:"empty-state-icon",children:""}),c.jsx("p",{children:"Awaiting transmissions..."}),c.jsx("button",{className:"send-first-btn",onClick:()=>u(!0),children:"Be the First to Send a Message"})]})]})]})}function cE({name:t,index:e}){const n=[{suit:"#ff6b9d",visor:"#74b9ff"},{suit:"#ffd700",visor:"#a29bfe"},{suit:"#74b9ff",visor:"#ff8c42"},{suit:"#00cec9",visor:"#ff6b9d"},{suit:"#a29bfe",visor:"#ffd700"},{suit:"#ff8c42",visor:"#00cec9"}],r=n[e%n.length];return c.jsxs("svg",{viewBox:"0 0 60 80",className:"astronaut-avatar",children:[c.jsx("circle",{cx:"30",cy:"25",r:"20",fill:"white"}),c.jsx("ellipse",{cx:"30",cy:"27",rx:"14",ry:"12",fill:r.visor,opacity:"0.8"}),c.jsx("ellipse",{cx:"26",cy:"24",rx:"4",ry:"3",fill:"rgba(255,255,255,0.4)"}),c.jsx("ellipse",{cx:"30",cy:"55",rx:"18",ry:"22",fill:r.suit}),c.jsx("ellipse",{cx:"30",cy:"40",rx:"18",ry:"4",fill:"#dfe6e9"}),c.jsx("ellipse",{cx:"10",cy:"52",rx:"7",ry:"10",fill:r.suit}),c.jsx("ellipse",{cx:"50",cy:"52",rx:"7",ry:"10",fill:r.suit})]})}function mi({delay:t=0}){return c.jsxs("svg",{viewBox:"0 0 30 40",className:"mini-astronaut",style:{animationDelay:`${t}ms`},children:[c.jsx("circle",{cx:"15",cy:"12",r:"10",fill:"white"}),c.jsx("ellipse",{cx:"15",cy:"14",rx:"7",ry:"6",fill:"#74b9ff",opacity:"0.8"}),c.jsx("ellipse",{cx:"30",cy:"27",rx:"9",ry:"11",fill:"white"})]})}function dE(){const[t,e]=D.useState([]),[n,r]=D.useState({adults:0,kids:0});D.useEffect(()=>{const i=ct(dt,"rsvps"),o=_o(i,l=>{const a=l.val();if(a){const u=Object.entries(a).map(([h,_])=>({id:h,..._})).filter(h=>h.attending).sort((h,_)=>(h.childName||h.name||"").localeCompare(_.childName||_.name||""));e(u);const f=u.reduce((h,_)=>h+(_.adultCount||_.guestCount||1),0),d=u.reduce((h,_)=>h+(_.kidCount||0),0);r({adults:f,kids:d})}});return()=>o()},[]);const s=n.adults+n.kids;return t.length===0?c.jsxs("section",{className:"guest-list",children:[c.jsx("h2",{children:"Mission Crew"}),c.jsxs("div",{className:"crew-status empty",children:[c.jsxs("div",{className:"astronaut-row",children:[c.jsx(mi,{delay:0}),c.jsx(mi,{delay:100}),c.jsx(mi,{delay:200})]}),c.jsx("p",{className:"crew-message",children:"Awaiting crew members..."}),c.jsx("p",{className:"crew-cta",children:"Be the first to join the mission!"})]})]}):c.jsxs("section",{className:"guest-list",children:[c.jsx("h2",{children:"Mission Crew"}),c.jsxs("div",{className:"crew-status",children:[c.jsxs("div",{className:"astronaut-row",children:[[...Array(Math.min(s,12))].map((i,o)=>c.jsx(mi,{delay:o*50},o)),s>12&&c.jsxs("span",{className:"more-astronauts",children:["+",s-12]})]}),c.jsxs("p",{className:"crew-count",children:[c.jsx("span",{className:"crew-number",children:s}),c.jsxs("span",{className:"crew-text",children:[s===1?"astronaut":"astronauts"," ready for launch!"]})]}),c.jsxs("p",{className:"crew-breakdown",children:[n.adults," ",n.adults===1?"adult":"adults","  ",n.kids," ",n.kids===1?"kid":"kids"]})]}),c.jsx("div",{className:"guest-cards",children:t.map((i,o)=>c.jsxs("div",{className:"guest-card",style:{animationDelay:`${o*100}ms`},children:[c.jsx(cE,{name:i.childName||i.name,index:o}),c.jsxs("div",{className:"guest-info",children:[c.jsx("span",{className:"guest-name",children:i.childName||i.name}),c.jsxs("span",{className:"guest-count",children:[i.adultCount||i.guestCount||1," adult",(i.adultCount||1)!==1?"s":"",(i.kidCount||0)>0&&`, ${i.kidCount} kid${i.kidCount!==1?"s":""}`]})]})]},i.id))})]})}const hE="SPACE2026",Ih="hilde-bday-access";function fE({children:t}){const[e,n]=D.useState(!1),[r,s]=D.useState(""),[i,o]=D.useState(""),[l,a]=D.useState(!0);D.useEffect(()=>{localStorage.getItem(Ih)==="granted"&&n(!0),a(!1)},[]);const u=d=>{d.preventDefault(),o(""),r.toUpperCase()===hE?(localStorage.setItem(Ih,"granted"),n(!0)):o("Invalid code. Please check your invitation.")};if(l)return c.jsxs("div",{className:"access-gate",children:[c.jsx("div",{className:"stars"}),c.jsx("div",{className:"stars2"}),c.jsx("div",{className:"access-box",children:c.jsx("p",{children:"Loading..."})})]});if(e)return t;const f=()=>{window.location.href="?admin=true"};return c.jsxs("div",{className:"access-gate",children:[c.jsx("div",{className:"stars"}),c.jsx("div",{className:"stars2"}),c.jsx("div",{className:"stars3"}),c.jsxs("div",{className:"access-box",children:[c.jsx("div",{className:"lock-icon",children:""}),c.jsx("h1",{children:"Mission Access Required"}),c.jsx("p",{children:"Enter the code from your invitation to continue"}),c.jsxs("form",{onSubmit:u,children:[c.jsx("input",{type:"text",value:r,onChange:d=>s(d.target.value),placeholder:"Enter access code...",autoFocus:!0}),i&&c.jsx("p",{className:"error",children:i}),c.jsx("button",{type:"submit",children:"Launch "})]}),c.jsx("button",{className:"gate-admin-link",onClick:f,children:"Mission Control"})]})]})}const pE="HILDE-ADMIN-2026",Al="hilde-bday-admin";function mE({attending:t,notAttending:e}){const n=t+e;if(n===0)return null;const r=t/n*100,s=t/n*360,i=40,o=50,l=50,a=(f,d,h)=>{const _=u(o,l,h,d),v=u(o,l,h,f),y=d-f<=180?"0":"1";return`M ${o} ${l} L ${_.x} ${_.y} A ${h} ${h} 0 ${y} 0 ${v.x} ${v.y} Z`},u=(f,d,h,_)=>{const v=(_-90)*Math.PI/180;return{x:f+h*Math.cos(v),y:d+h*Math.sin(v)}};return c.jsxs("div",{className:"chart-container pie-chart-container",children:[c.jsx("h3",{children:"Response Breakdown"}),c.jsxs("svg",{viewBox:"0 0 100 100",className:"pie-chart",children:[t>0&&c.jsx("path",{d:s>=360?`M ${o} ${l-i} A ${i} ${i} 0 1 1 ${o-.01} ${l-i} Z`:a(0,s,i),fill:"#4caf50"}),e>0&&c.jsx("path",{d:s<=0?`M ${o} ${l-i} A ${i} ${i} 0 1 1 ${o-.01} ${l-i} Z`:a(s,360,i),fill:"#f44336"})]}),c.jsxs("div",{className:"chart-legend",children:[c.jsxs("div",{className:"legend-item",children:[c.jsx("span",{className:"legend-color",style:{background:"#4caf50"}}),c.jsxs("span",{children:["Attending (",t,") - ",r.toFixed(0),"%"]})]}),c.jsxs("div",{className:"legend-item",children:[c.jsx("span",{className:"legend-color",style:{background:"#f44336"}}),c.jsxs("span",{children:["Can't Make It (",e,") - ",(100-r).toFixed(0),"%"]})]})]})]})}function gE({adults:t,kids:e}){const n=Math.max(t,e,1),r=t/n*100,s=e/n*100;return c.jsxs("div",{className:"chart-container bar-chart-container",children:[c.jsx("h3",{children:"Guest Breakdown"}),c.jsxs("div",{className:"bar-chart",children:[c.jsxs("div",{className:"bar-row",children:[c.jsx("span",{className:"bar-label",children:"Adults"}),c.jsx("div",{className:"bar-track",children:c.jsx("div",{className:"bar-fill adults",style:{width:`${r}%`},children:c.jsx("span",{className:"bar-value",children:t})})})]}),c.jsxs("div",{className:"bar-row",children:[c.jsx("span",{className:"bar-label",children:"Kids"}),c.jsx("div",{className:"bar-track",children:c.jsx("div",{className:"bar-fill kids",style:{width:`${s}%`},children:c.jsx("span",{className:"bar-value",children:e})})})]})]})]})}function _E({onBack:t}){const[e,n]=D.useState(!1),[r,s]=D.useState(""),[i,o]=D.useState(""),[l,a]=D.useState([]),[u,f]=D.useState([]),[d,h]=D.useState({attending:0,notAttending:0,adults:0,kids:0}),[_,v]=D.useState(""),[y,M]=D.useState("all"),[m,p]=D.useState(null),[g,w]=D.useState(null),[N,k]=D.useState("rsvps");D.useEffect(()=>{localStorage.getItem(Al)==="granted"&&n(!0)},[]),D.useEffect(()=>{if(!e)return;const A=ct(dt,"rsvps"),Te=_o(A,Ue=>{const Ve=Ue.val();if(Ve){const x=Object.entries(Ve).map(([he,fe])=>({id:he,...fe})).sort((he,fe)=>fe.timestamp-he.timestamp);a(x);const S=x.filter(he=>he.attending),P=x.filter(he=>!he.attending),V=S.reduce((he,fe)=>he+(fe.adultCount||fe.guestCount||1),0),J=S.reduce((he,fe)=>he+(fe.kidCount||0),0);h({attending:S.length,notAttending:P.length,adults:V,kids:J})}else a([]),h({attending:0,notAttending:0,adults:0,kids:0})});return()=>Te()},[e]),D.useEffect(()=>{if(!e)return;const A=ct(dt,"messages"),Te=_o(A,Ue=>{const Ve=Ue.val();if(Ve){const x=Object.entries(Ve).map(([S,P])=>({id:S,...P})).sort((S,P)=>P.timestamp-S.timestamp);f(x)}else f([])});return()=>Te()},[e]);const I=A=>{A.preventDefault(),r.toUpperCase()===pE?(localStorage.setItem(Al,"granted"),n(!0)):o("Invalid admin code")},R=()=>{localStorage.removeItem(Al),n(!1)},$=A=>new Date(A).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}),O=l.filter(A=>{const Te=_===""||(A.childName||A.name||"").toLowerCase().includes(_.toLowerCase())||(A.email||"").toLowerCase().includes(_.toLowerCase()),Ue=y==="all"||y==="attending"&&A.attending||y==="not-attending"&&!A.attending;return Te&&Ue}),Ee=()=>{const A=["Name","Email","Attending","Adults","Kids","Date"],Te=l.map(S=>[S.childName||S.name||"",S.email||"",S.attending?"Yes":"No",S.attending?S.adultCount||S.guestCount||1:0,S.attending&&S.kidCount||0,new Date(S.timestamp).toLocaleDateString()]),Ue=[A.join(","),...Te.map(S=>S.map(P=>`"${P}"`).join(","))].join(`
`),Ve=new Blob([Ue],{type:"text/csv;charset=utf-8;"}),x=document.createElement("a");x.href=URL.createObjectURL(Ve),x.download=`hilde-birthday-rsvps-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(x),x.click(),document.body.removeChild(x)},gt=async A=>{try{await kh(ct(dt,`rsvps/${A}`)),p(null)}catch(Te){console.error("Delete error:",Te)}},Et=async A=>{try{await kh(ct(dt,`messages/${A}`)),w(null)}catch(Te){console.error("Delete message error:",Te)}};return e?c.jsxs("div",{className:"admin-page",children:[c.jsxs("div",{className:"admin-header",children:[c.jsx("h1",{children:"Mission Control"}),c.jsxs("div",{className:"admin-header-actions",children:[c.jsx("button",{className:"back-link",onClick:t,children:" Back to site"}),c.jsx("button",{className:"logout-btn",onClick:R,children:"Logout"})]})]}),c.jsxs("div",{className:"admin-stats",children:[c.jsxs("div",{className:"stat-card",children:[c.jsx("span",{className:"stat-number",children:d.attending}),c.jsx("span",{className:"stat-label",children:"Attending"})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("span",{className:"stat-number",children:d.notAttending}),c.jsx("span",{className:"stat-label",children:"Can't Make It"})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("span",{className:"stat-number",children:d.adults}),c.jsx("span",{className:"stat-label",children:"Adults"})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("span",{className:"stat-number",children:d.kids}),c.jsx("span",{className:"stat-label",children:"Kids"})]}),c.jsxs("div",{className:"stat-card highlight",children:[c.jsx("span",{className:"stat-number",children:d.adults+d.kids}),c.jsx("span",{className:"stat-label",children:"Total Guests"})]})]}),c.jsxs("div",{className:"admin-charts",children:[c.jsx(mE,{attending:d.attending,notAttending:d.notAttending}),c.jsx(gE,{adults:d.adults,kids:d.kids})]}),c.jsxs("div",{className:"admin-tabs",children:[c.jsxs("button",{className:`admin-tab ${N==="rsvps"?"active":""}`,onClick:()=>k("rsvps"),children:["RSVPs (",l.length,")"]}),c.jsxs("button",{className:`admin-tab ${N==="messages"?"active":""}`,onClick:()=>k("messages"),children:["Messages (",u.length,")"]})]}),N==="rsvps"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"admin-controls",children:[c.jsxs("div",{className:"search-box",children:[c.jsx("input",{type:"text",value:_,onChange:A=>v(A.target.value),placeholder:"Search by name or email...",className:"search-input"}),_&&c.jsx("button",{className:"clear-search",onClick:()=>v(""),children:""})]}),c.jsxs("div",{className:"filter-buttons",children:[c.jsxs("button",{className:`filter-btn ${y==="all"?"active":""}`,onClick:()=>M("all"),children:["All (",l.length,")"]}),c.jsxs("button",{className:`filter-btn ${y==="attending"?"active":""}`,onClick:()=>M("attending"),children:["Attending (",d.attending,")"]}),c.jsxs("button",{className:`filter-btn ${y==="not-attending"?"active":""}`,onClick:()=>M("not-attending"),children:["Can't Make It (",d.notAttending,")"]})]}),c.jsxs("button",{className:"export-btn",onClick:Ee,children:[c.jsx("svg",{viewBox:"0 0 24 24",className:"export-icon",children:c.jsx("path",{fill:"currentColor",d:"M14,2H6A2,2,0,0,0,4,4V20a2,2,0,0,0,2,2H18a2,2,0,0,0,2-2V8ZM12,18l-4-4h2.5V11h3v3H16Zm1-9V3.5L18.5,9Z"})}),"Export CSV"]})]}),c.jsxs("div",{className:"admin-table-container",children:[c.jsxs("h2",{children:["All RSVPs ",O.length!==l.length&&`(${O.length} of ${l.length})`]}),O.length===0?c.jsx("p",{className:"no-results",children:"No RSVPs match your search/filter."}):c.jsxs("table",{className:"admin-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Email"}),c.jsx("th",{children:"Response"}),c.jsx("th",{children:"Adults"}),c.jsx("th",{children:"Kids"}),c.jsx("th",{children:"Date"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:O.map(A=>c.jsxs("tr",{className:A.attending?"attending":"not-attending",children:[c.jsx("td",{children:A.childName||A.name}),c.jsx("td",{children:A.email||"-"}),c.jsx("td",{children:A.attending?" Yes":" No"}),c.jsx("td",{children:A.attending?A.adultCount||A.guestCount||1:"-"}),c.jsx("td",{children:A.attending?A.kidCount||0:"-"}),c.jsx("td",{children:$(A.timestamp)}),c.jsx("td",{children:m===A.id?c.jsxs("div",{className:"delete-confirm",children:[c.jsx("span",{children:"Delete?"}),c.jsx("button",{className:"confirm-yes",onClick:()=>gt(A.id),children:"Yes"}),c.jsx("button",{className:"confirm-no",onClick:()=>p(null),children:"No"})]}):c.jsx("button",{className:"delete-btn",onClick:()=>p(A.id),title:"Delete RSVP",children:""})})]},A.id))})]})]})]}),N==="messages"&&c.jsxs("div",{className:"admin-messages-section",children:[c.jsxs("h2",{children:["All Messages (",u.length,")"]}),u.length===0?c.jsx("p",{className:"no-results",children:"No messages yet."}):c.jsx("div",{className:"admin-messages-list",children:u.map(A=>c.jsxs("div",{className:"admin-message-card",children:[c.jsx("div",{className:"admin-message-avatar",children:A.name.charAt(0).toUpperCase()}),c.jsxs("div",{className:"admin-message-content",children:[c.jsxs("div",{className:"admin-message-header",children:[c.jsx("span",{className:"admin-message-author",children:A.name}),c.jsx("span",{className:"admin-message-date",children:$(A.timestamp)})]}),c.jsx("p",{className:"admin-message-text",children:A.message})]}),c.jsx("div",{className:"admin-message-actions",children:g===A.id?c.jsxs("div",{className:"delete-confirm",children:[c.jsx("span",{children:"Delete?"}),c.jsx("button",{className:"confirm-yes",onClick:()=>Et(A.id),children:"Yes"}),c.jsx("button",{className:"confirm-no",onClick:()=>w(null),children:"No"})]}):c.jsx("button",{className:"delete-btn",onClick:()=>w(A.id),title:"Delete message",children:""})})]},A.id))})]})]}):c.jsx("div",{className:"admin-page",children:c.jsxs("div",{className:"admin-login",children:[c.jsx("h1",{children:"Mission Control"}),c.jsx("p",{children:"Enter admin code to access"}),c.jsxs("form",{onSubmit:I,children:[c.jsx("input",{type:"password",value:r,onChange:A=>s(A.target.value),placeholder:"Admin code...",autoFocus:!0}),i&&c.jsx("p",{className:"error",children:i}),c.jsx("button",{type:"submit",children:"Access"})]}),c.jsx("button",{className:"back-link",onClick:t,children:" Back to site"})]})})}function vE(){const[t,e]=D.useState(!1);D.useEffect(()=>{new URLSearchParams(window.location.search).get("admin")==="true"&&e(!0)},[]);const n=()=>{e(!0),window.history.pushState({},"","?admin=true")},r=()=>{e(!1),window.history.pushState({},"",window.location.pathname)};return t?c.jsx(_E,{onBack:r}):c.jsx(fE,{children:c.jsxs("div",{className:"app",children:[c.jsx("div",{className:"stars"}),c.jsx("div",{className:"stars2"}),c.jsx("div",{className:"stars3"}),c.jsxs("main",{children:[c.jsx($v,{}),c.jsx(Jv,{}),c.jsx(aE,{}),c.jsx(dE,{}),c.jsx(uE,{})]}),c.jsxs("footer",{children:[c.jsx("p",{children:"See you among the stars!"}),c.jsx("button",{className:"admin-link",onClick:n,children:"Mission Control"})]})]})})}const _g=()=>{const t=document.getElementById("loading-screen");t&&setTimeout(()=>{t.classList.add("hidden"),setTimeout(()=>{t.remove()},500)},300)};Dl.createRoot(document.getElementById("root")).render(c.jsx(jg.StrictMode,{children:c.jsx(vE,{})}));window.addEventListener("load",_g);document.readyState==="complete"&&_g();
