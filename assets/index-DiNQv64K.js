(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function pg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var If={exports:{}},go={},Tf={exports:{}},b={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Di=Symbol.for("react.element"),mg=Symbol.for("react.portal"),gg=Symbol.for("react.fragment"),_g=Symbol.for("react.strict_mode"),vg=Symbol.for("react.profiler"),yg=Symbol.for("react.provider"),wg=Symbol.for("react.context"),Cg=Symbol.for("react.forward_ref"),Eg=Symbol.for("react.suspense"),Sg=Symbol.for("react.memo"),xg=Symbol.for("react.lazy"),Sc=Symbol.iterator;function Ng(t){return t===null||typeof t!="object"?null:(t=Sc&&t[Sc]||t["@@iterator"],typeof t=="function"?t:null)}var Rf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pf=Object.assign,Af={};function _r(t,e,n){this.props=t,this.context=e,this.refs=Af,this.updater=n||Rf}_r.prototype.isReactComponent={};_r.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_r.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Df(){}Df.prototype=_r.prototype;function $a(t,e,n){this.props=t,this.context=e,this.refs=Af,this.updater=n||Rf}var Ga=$a.prototype=new Df;Ga.constructor=$a;Pf(Ga,_r.prototype);Ga.isPureReactComponent=!0;var xc=Array.isArray,Mf=Object.prototype.hasOwnProperty,Qa={current:null},Of={key:!0,ref:!0,__self:!0,__source:!0};function Lf(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Mf.call(e,r)&&!Of.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Di,type:t,key:s,ref:o,props:i,_owner:Qa.current}}function kg(t,e){return{$$typeof:Di,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ya(t){return typeof t=="object"&&t!==null&&t.$$typeof===Di}function Ig(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Nc=/\/+/g;function Qo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ig(""+t.key):e.toString(36)}function ms(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Di:case mg:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Qo(o,0):r,xc(i)?(n="",t!=null&&(n=t.replace(Nc,"$&/")+"/"),ms(i,e,n,"",function(u){return u})):i!=null&&(Ya(i)&&(i=kg(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Nc,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",xc(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+Qo(s,l);o+=ms(s,e,n,a,i)}else if(a=Ng(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+Qo(s,l++),o+=ms(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yi(t,e,n){if(t==null)return t;var r=[],i=0;return ms(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Tg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Te={current:null},gs={transition:null},Rg={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:gs,ReactCurrentOwner:Qa};function jf(){throw Error("act(...) is not supported in production builds of React.")}b.Children={map:Yi,forEach:function(t,e,n){Yi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yi(t,function(){e++}),e},toArray:function(t){return Yi(t,function(e){return e})||[]},only:function(t){if(!Ya(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};b.Component=_r;b.Fragment=gg;b.Profiler=vg;b.PureComponent=$a;b.StrictMode=_g;b.Suspense=Eg;b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rg;b.act=jf;b.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Pf({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Qa.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Mf.call(e,a)&&!Of.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Di,type:t.type,key:i,ref:s,props:r,_owner:o}};b.createContext=function(t){return t={$$typeof:wg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yg,_context:t},t.Consumer=t};b.createElement=Lf;b.createFactory=function(t){var e=Lf.bind(null,t);return e.type=t,e};b.createRef=function(){return{current:null}};b.forwardRef=function(t){return{$$typeof:Cg,render:t}};b.isValidElement=Ya;b.lazy=function(t){return{$$typeof:xg,_payload:{_status:-1,_result:t},_init:Tg}};b.memo=function(t,e){return{$$typeof:Sg,type:t,compare:e===void 0?null:e}};b.startTransition=function(t){var e=gs.transition;gs.transition={};try{t()}finally{gs.transition=e}};b.unstable_act=jf;b.useCallback=function(t,e){return Te.current.useCallback(t,e)};b.useContext=function(t){return Te.current.useContext(t)};b.useDebugValue=function(){};b.useDeferredValue=function(t){return Te.current.useDeferredValue(t)};b.useEffect=function(t,e){return Te.current.useEffect(t,e)};b.useId=function(){return Te.current.useId()};b.useImperativeHandle=function(t,e,n){return Te.current.useImperativeHandle(t,e,n)};b.useInsertionEffect=function(t,e){return Te.current.useInsertionEffect(t,e)};b.useLayoutEffect=function(t,e){return Te.current.useLayoutEffect(t,e)};b.useMemo=function(t,e){return Te.current.useMemo(t,e)};b.useReducer=function(t,e,n){return Te.current.useReducer(t,e,n)};b.useRef=function(t){return Te.current.useRef(t)};b.useState=function(t){return Te.current.useState(t)};b.useSyncExternalStore=function(t,e,n){return Te.current.useSyncExternalStore(t,e,n)};b.useTransition=function(){return Te.current.useTransition()};b.version="18.3.1";Tf.exports=b;var M=Tf.exports;const Pg=pg(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag=M,Dg=Symbol.for("react.element"),Mg=Symbol.for("react.fragment"),Og=Object.prototype.hasOwnProperty,Lg=Ag.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jg={key:!0,ref:!0,__self:!0,__source:!0};function Ff(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Og.call(e,r)&&!jg.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Dg,type:t,key:s,ref:o,props:i,_owner:Lg.current}}go.Fragment=Mg;go.jsx=Ff;go.jsxs=Ff;If.exports=go;var c=If.exports,Pl={},bf={exports:{}},Ue={},zf={exports:{}},Bf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,k){var P=I.length;I.push(k);e:for(;0<P;){var U=P-1>>>1,ie=I[U];if(0<i(ie,k))I[U]=k,I[P]=ie,P=U;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var k=I[0],P=I.pop();if(P!==k){I[0]=P;e:for(var U=0,ie=I.length,Ln=ie>>>1;U<Ln;){var pt=2*(U+1)-1,Xe=I[pt],dn=pt+1,Qi=I[dn];if(0>i(Xe,P))dn<ie&&0>i(Qi,Xe)?(I[U]=Qi,I[dn]=P,U=dn):(I[U]=Xe,I[pt]=P,U=pt);else if(dn<ie&&0>i(Qi,P))I[U]=Qi,I[dn]=P,U=dn;else break e}}return k}function i(I,k){var P=I.sortIndex-k.sortIndex;return P!==0?P:I.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],f=1,d=null,h=3,m=!1,v=!1,y=!1,A=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(I){for(var k=n(u);k!==null;){if(k.callback===null)r(u);else if(k.startTime<=I)r(u),k.sortIndex=k.expirationTime,e(a,k);else break;k=n(u)}}function w(I){if(y=!1,_(I),!v)if(n(a)!==null)v=!0,Nr(N);else{var k=n(u);k!==null&&kr(w,k.startTime-I)}}function N(I,k){v=!1,y&&(y=!1,g(R),R=-1),m=!0;var P=h;try{for(_(k),d=n(a);d!==null&&(!(d.expirationTime>k)||I&&!Pe());){var U=d.callback;if(typeof U=="function"){d.callback=null,h=d.priorityLevel;var ie=U(d.expirationTime<=k);k=t.unstable_now(),typeof ie=="function"?d.callback=ie:d===n(a)&&r(a),_(k)}else r(a);d=n(a)}if(d!==null)var Ln=!0;else{var pt=n(u);pt!==null&&kr(w,pt.startTime-k),Ln=!1}return Ln}finally{d=null,h=P,m=!1}}var S=!1,x=null,R=-1,q=5,O=-1;function Pe(){return!(t.unstable_now()-O<q)}function Pt(){if(x!==null){var I=t.unstable_now();O=I;var k=!0;try{k=x(!0,I)}finally{k?cn():(S=!1,x=null)}}else S=!1}var cn;if(typeof p=="function")cn=function(){p(Pt)};else if(typeof MessageChannel<"u"){var Gi=new MessageChannel,Go=Gi.port2;Gi.port1.onmessage=Pt,cn=function(){Go.postMessage(null)}}else cn=function(){A(Pt,0)};function Nr(I){x=I,S||(S=!0,cn())}function kr(I,k){R=A(function(){I(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,Nr(N))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(I){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var P=h;h=k;try{return I()}finally{h=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,k){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var P=h;h=I;try{return k()}finally{h=P}},t.unstable_scheduleCallback=function(I,k,P){var U=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?U+P:U):P=U,I){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=P+ie,I={id:f++,callback:k,priorityLevel:I,startTime:P,expirationTime:ie,sortIndex:-1},P>U?(I.sortIndex=P,e(u,I),n(a)===null&&I===n(u)&&(y?(g(R),R=-1):y=!0,kr(w,P-U))):(I.sortIndex=ie,e(a,I),v||m||(v=!0,Nr(N))),I},t.unstable_shouldYield=Pe,t.unstable_wrapCallback=function(I){var k=h;return function(){var P=h;h=k;try{return I.apply(this,arguments)}finally{h=P}}}})(Bf);zf.exports=Bf;var Fg=zf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg=M,Be=Fg;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Uf=new Set,ri={};function An(t,e){sr(t,e),sr(t+"Capture",e)}function sr(t,e){for(ri[t]=e,t=0;t<e.length;t++)Uf.add(e[t])}var Et=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Al=Object.prototype.hasOwnProperty,zg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kc={},Ic={};function Bg(t){return Al.call(Ic,t)?!0:Al.call(kc,t)?!1:zg.test(t)?Ic[t]=!0:(kc[t]=!0,!1)}function Ug(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Wg(t,e,n,r){if(e===null||typeof e>"u"||Ug(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Re(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ve[t]=new Re(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ve[e]=new Re(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ve[t]=new Re(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ve[t]=new Re(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ve[t]=new Re(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ve[t]=new Re(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ve[t]=new Re(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ve[t]=new Re(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ve[t]=new Re(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ka=/[\-:]([a-z])/g;function qa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ka,qa);ve[e]=new Re(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ka,qa);ve[e]=new Re(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ka,qa);ve[e]=new Re(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ve[t]=new Re(t,1,!1,t.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ve[t]=new Re(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xa(t,e,n,r){var i=ve.hasOwnProperty(e)?ve[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Wg(e,n,i,r)&&(n=null),r||i===null?Bg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Tt=bg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ki=Symbol.for("react.element"),bn=Symbol.for("react.portal"),zn=Symbol.for("react.fragment"),Za=Symbol.for("react.strict_mode"),Dl=Symbol.for("react.profiler"),Wf=Symbol.for("react.provider"),Vf=Symbol.for("react.context"),Ja=Symbol.for("react.forward_ref"),Ml=Symbol.for("react.suspense"),Ol=Symbol.for("react.suspense_list"),eu=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Hf=Symbol.for("react.offscreen"),Tc=Symbol.iterator;function Ir(t){return t===null||typeof t!="object"?null:(t=Tc&&t[Tc]||t["@@iterator"],typeof t=="function"?t:null)}var te=Object.assign,Yo;function zr(t){if(Yo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yo=e&&e[1]||""}return`
`+Yo+t}var Ko=!1;function qo(t,e){if(!t||Ko)return"";Ko=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Ko=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zr(t):""}function Vg(t){switch(t.tag){case 5:return zr(t.type);case 16:return zr("Lazy");case 13:return zr("Suspense");case 19:return zr("SuspenseList");case 0:case 2:case 15:return t=qo(t.type,!1),t;case 11:return t=qo(t.type.render,!1),t;case 1:return t=qo(t.type,!0),t;default:return""}}function Ll(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zn:return"Fragment";case bn:return"Portal";case Dl:return"Profiler";case Za:return"StrictMode";case Ml:return"Suspense";case Ol:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Vf:return(t.displayName||"Context")+".Consumer";case Wf:return(t._context.displayName||"Context")+".Provider";case Ja:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case eu:return e=t.displayName||null,e!==null?e:Ll(t.type)||"Memo";case Dt:e=t._payload,t=t._init;try{return Ll(t(e))}catch{}}return null}function Hg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ll(e);case 8:return e===Za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $f(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $g(t){var e=$f(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qi(t){t._valueTracker||(t._valueTracker=$g(t))}function Gf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$f(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ts(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jl(t,e){var n=e.checked;return te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Rc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Jt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Qf(t,e){e=e.checked,e!=null&&Xa(t,"checked",e,!1)}function Fl(t,e){Qf(t,e);var n=Jt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bl(t,e.type,n):e.hasOwnProperty("defaultValue")&&bl(t,e.type,Jt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Pc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bl(t,e,n){(e!=="number"||Ts(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Br=Array.isArray;function Xn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Jt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ac(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(C(92));if(Br(n)){if(1<n.length)throw Error(C(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Jt(n)}}function Yf(t,e){var n=Jt(e.value),r=Jt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Dc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Kf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Kf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xi,qf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xi=Xi||document.createElement("div"),Xi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ii(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gg=["Webkit","ms","Moz","O"];Object.keys(Vr).forEach(function(t){Gg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Vr[e]=Vr[t]})});function Xf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Vr.hasOwnProperty(t)&&Vr[t]?(""+e).trim():e+"px"}function Zf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Xf(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Qg=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ul(t,e){if(e){if(Qg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function Wl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vl=null;function tu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hl=null,Zn=null,Jn=null;function Mc(t){if(t=Li(t)){if(typeof Hl!="function")throw Error(C(280));var e=t.stateNode;e&&(e=Co(e),Hl(t.stateNode,t.type,e))}}function Jf(t){Zn?Jn?Jn.push(t):Jn=[t]:Zn=t}function eh(){if(Zn){var t=Zn,e=Jn;if(Jn=Zn=null,Mc(t),e)for(t=0;t<e.length;t++)Mc(e[t])}}function th(t,e){return t(e)}function nh(){}var Xo=!1;function rh(t,e,n){if(Xo)return t(e,n);Xo=!0;try{return th(t,e,n)}finally{Xo=!1,(Zn!==null||Jn!==null)&&(nh(),eh())}}function si(t,e){var n=t.stateNode;if(n===null)return null;var r=Co(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(C(231,e,typeof n));return n}var $l=!1;if(Et)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){$l=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{$l=!1}function Yg(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Hr=!1,Rs=null,Ps=!1,Gl=null,Kg={onError:function(t){Hr=!0,Rs=t}};function qg(t,e,n,r,i,s,o,l,a){Hr=!1,Rs=null,Yg.apply(Kg,arguments)}function Xg(t,e,n,r,i,s,o,l,a){if(qg.apply(this,arguments),Hr){if(Hr){var u=Rs;Hr=!1,Rs=null}else throw Error(C(198));Ps||(Ps=!0,Gl=u)}}function Dn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ih(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Oc(t){if(Dn(t)!==t)throw Error(C(188))}function Zg(t){var e=t.alternate;if(!e){if(e=Dn(t),e===null)throw Error(C(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Oc(i),t;if(s===r)return Oc(i),e;s=s.sibling}throw Error(C(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?t:e}function sh(t){return t=Zg(t),t!==null?oh(t):null}function oh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=oh(t);if(e!==null)return e;t=t.sibling}return null}var lh=Be.unstable_scheduleCallback,Lc=Be.unstable_cancelCallback,Jg=Be.unstable_shouldYield,e_=Be.unstable_requestPaint,se=Be.unstable_now,t_=Be.unstable_getCurrentPriorityLevel,nu=Be.unstable_ImmediatePriority,ah=Be.unstable_UserBlockingPriority,As=Be.unstable_NormalPriority,n_=Be.unstable_LowPriority,uh=Be.unstable_IdlePriority,_o=null,dt=null;function r_(t){if(dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(_o,t,void 0,(t.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:o_,i_=Math.log,s_=Math.LN2;function o_(t){return t>>>=0,t===0?32:31-(i_(t)/s_|0)|0}var Zi=64,Ji=4194304;function Ur(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ds(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Ur(l):(s&=o,s!==0&&(r=Ur(s)))}else o=n&~i,o!==0?r=Ur(o):s!==0&&(r=Ur(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-it(e),i=1<<n,r|=t[n],e&=~i;return r}function l_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-it(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=l_(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function Ql(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ch(){var t=Zi;return Zi<<=1,!(Zi&4194240)&&(Zi=64),t}function Zo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Mi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-it(e),t[e]=n}function u_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-it(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ru(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-it(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var W=0;function dh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fh,iu,hh,ph,mh,Yl=!1,es=[],Ut=null,Wt=null,Vt=null,oi=new Map,li=new Map,Ot=[],c_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jc(t,e){switch(t){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":oi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":li.delete(e.pointerId)}}function Rr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Li(e),e!==null&&iu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function d_(t,e,n,r,i){switch(e){case"focusin":return Ut=Rr(Ut,t,e,n,r,i),!0;case"dragenter":return Wt=Rr(Wt,t,e,n,r,i),!0;case"mouseover":return Vt=Rr(Vt,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return oi.set(s,Rr(oi.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,li.set(s,Rr(li.get(s)||null,t,e,n,r,i)),!0}return!1}function gh(t){var e=gn(t.target);if(e!==null){var n=Dn(e);if(n!==null){if(e=n.tag,e===13){if(e=ih(n),e!==null){t.blockedOn=e,mh(t.priority,function(){hh(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _s(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Kl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vl=r,n.target.dispatchEvent(r),Vl=null}else return e=Li(n),e!==null&&iu(e),t.blockedOn=n,!1;e.shift()}return!0}function Fc(t,e,n){_s(t)&&n.delete(e)}function f_(){Yl=!1,Ut!==null&&_s(Ut)&&(Ut=null),Wt!==null&&_s(Wt)&&(Wt=null),Vt!==null&&_s(Vt)&&(Vt=null),oi.forEach(Fc),li.forEach(Fc)}function Pr(t,e){t.blockedOn===e&&(t.blockedOn=null,Yl||(Yl=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,f_)))}function ai(t){function e(i){return Pr(i,t)}if(0<es.length){Pr(es[0],t);for(var n=1;n<es.length;n++){var r=es[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ut!==null&&Pr(Ut,t),Wt!==null&&Pr(Wt,t),Vt!==null&&Pr(Vt,t),oi.forEach(e),li.forEach(e),n=0;n<Ot.length;n++)r=Ot[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ot.length&&(n=Ot[0],n.blockedOn===null);)gh(n),n.blockedOn===null&&Ot.shift()}var er=Tt.ReactCurrentBatchConfig,Ms=!0;function h_(t,e,n,r){var i=W,s=er.transition;er.transition=null;try{W=1,su(t,e,n,r)}finally{W=i,er.transition=s}}function p_(t,e,n,r){var i=W,s=er.transition;er.transition=null;try{W=4,su(t,e,n,r)}finally{W=i,er.transition=s}}function su(t,e,n,r){if(Ms){var i=Kl(t,e,n,r);if(i===null)al(t,e,r,Os,n),jc(t,r);else if(d_(i,t,e,n,r))r.stopPropagation();else if(jc(t,r),e&4&&-1<c_.indexOf(t)){for(;i!==null;){var s=Li(i);if(s!==null&&fh(s),s=Kl(t,e,n,r),s===null&&al(t,e,r,Os,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else al(t,e,r,null,n)}}var Os=null;function Kl(t,e,n,r){if(Os=null,t=tu(r),t=gn(t),t!==null)if(e=Dn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ih(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Os=t,null}function _h(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(t_()){case nu:return 1;case ah:return 4;case As:case n_:return 16;case uh:return 536870912;default:return 16}default:return 16}}var jt=null,ou=null,vs=null;function vh(){if(vs)return vs;var t,e=ou,n=e.length,r,i="value"in jt?jt.value:jt.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return vs=i.slice(t,1<r?1-r:void 0)}function ys(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ts(){return!0}function bc(){return!1}function We(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ts:bc,this.isPropagationStopped=bc,this}return te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),e}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lu=We(vr),Oi=te({},vr,{view:0,detail:0}),m_=We(Oi),Jo,el,Ar,vo=te({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:au,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ar&&(Ar&&t.type==="mousemove"?(Jo=t.screenX-Ar.screenX,el=t.screenY-Ar.screenY):el=Jo=0,Ar=t),Jo)},movementY:function(t){return"movementY"in t?t.movementY:el}}),zc=We(vo),g_=te({},vo,{dataTransfer:0}),__=We(g_),v_=te({},Oi,{relatedTarget:0}),tl=We(v_),y_=te({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),w_=We(y_),C_=te({},vr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),E_=We(C_),S_=te({},vr,{data:0}),Bc=We(S_),x_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=k_[t])?!!e[t]:!1}function au(){return I_}var T_=te({},Oi,{key:function(t){if(t.key){var e=x_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ys(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?N_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:au,charCode:function(t){return t.type==="keypress"?ys(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ys(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),R_=We(T_),P_=te({},vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uc=We(P_),A_=te({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:au}),D_=We(A_),M_=te({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),O_=We(M_),L_=te({},vo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),j_=We(L_),F_=[9,13,27,32],uu=Et&&"CompositionEvent"in window,$r=null;Et&&"documentMode"in document&&($r=document.documentMode);var b_=Et&&"TextEvent"in window&&!$r,yh=Et&&(!uu||$r&&8<$r&&11>=$r),Wc=" ",Vc=!1;function wh(t,e){switch(t){case"keyup":return F_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ch(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bn=!1;function z_(t,e){switch(t){case"compositionend":return Ch(e);case"keypress":return e.which!==32?null:(Vc=!0,Wc);case"textInput":return t=e.data,t===Wc&&Vc?null:t;default:return null}}function B_(t,e){if(Bn)return t==="compositionend"||!uu&&wh(t,e)?(t=vh(),vs=ou=jt=null,Bn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yh&&e.locale!=="ko"?null:e.data;default:return null}}var U_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!U_[t.type]:e==="textarea"}function Eh(t,e,n,r){Jf(r),e=Ls(e,"onChange"),0<e.length&&(n=new lu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gr=null,ui=null;function W_(t){Mh(t,0)}function yo(t){var e=Vn(t);if(Gf(e))return t}function V_(t,e){if(t==="change")return e}var Sh=!1;if(Et){var nl;if(Et){var rl="oninput"in document;if(!rl){var $c=document.createElement("div");$c.setAttribute("oninput","return;"),rl=typeof $c.oninput=="function"}nl=rl}else nl=!1;Sh=nl&&(!document.documentMode||9<document.documentMode)}function Gc(){Gr&&(Gr.detachEvent("onpropertychange",xh),ui=Gr=null)}function xh(t){if(t.propertyName==="value"&&yo(ui)){var e=[];Eh(e,ui,t,tu(t)),rh(W_,e)}}function H_(t,e,n){t==="focusin"?(Gc(),Gr=e,ui=n,Gr.attachEvent("onpropertychange",xh)):t==="focusout"&&Gc()}function $_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yo(ui)}function G_(t,e){if(t==="click")return yo(e)}function Q_(t,e){if(t==="input"||t==="change")return yo(e)}function Y_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lt=typeof Object.is=="function"?Object.is:Y_;function ci(t,e){if(lt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Al.call(e,i)||!lt(t[i],e[i]))return!1}return!0}function Qc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yc(t,e){var n=Qc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qc(n)}}function Nh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Nh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kh(){for(var t=window,e=Ts();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ts(t.document)}return e}function cu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function K_(t){var e=kh(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Nh(n.ownerDocument.documentElement,n)){if(r!==null&&cu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Yc(n,s);var o=Yc(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var q_=Et&&"documentMode"in document&&11>=document.documentMode,Un=null,ql=null,Qr=null,Xl=!1;function Kc(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xl||Un==null||Un!==Ts(r)||(r=Un,"selectionStart"in r&&cu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qr&&ci(Qr,r)||(Qr=r,r=Ls(ql,"onSelect"),0<r.length&&(e=new lu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Un)))}function ns(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wn={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionend:ns("Transition","TransitionEnd")},il={},Ih={};Et&&(Ih=document.createElement("div").style,"AnimationEvent"in window||(delete Wn.animationend.animation,delete Wn.animationiteration.animation,delete Wn.animationstart.animation),"TransitionEvent"in window||delete Wn.transitionend.transition);function wo(t){if(il[t])return il[t];if(!Wn[t])return t;var e=Wn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ih)return il[t]=e[n];return t}var Th=wo("animationend"),Rh=wo("animationiteration"),Ph=wo("animationstart"),Ah=wo("transitionend"),Dh=new Map,qc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function on(t,e){Dh.set(t,e),An(e,[t])}for(var sl=0;sl<qc.length;sl++){var ol=qc[sl],X_=ol.toLowerCase(),Z_=ol[0].toUpperCase()+ol.slice(1);on(X_,"on"+Z_)}on(Th,"onAnimationEnd");on(Rh,"onAnimationIteration");on(Ph,"onAnimationStart");on("dblclick","onDoubleClick");on("focusin","onFocus");on("focusout","onBlur");on(Ah,"onTransitionEnd");sr("onMouseEnter",["mouseout","mouseover"]);sr("onMouseLeave",["mouseout","mouseover"]);sr("onPointerEnter",["pointerout","pointerover"]);sr("onPointerLeave",["pointerout","pointerover"]);An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));An("onBeforeInput",["compositionend","keypress","textInput","paste"]);An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wr));function Xc(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Xg(r,e,void 0,t),t.currentTarget=null}function Mh(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Xc(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Xc(i,l,u),s=a}}}if(Ps)throw t=Gl,Ps=!1,Gl=null,t}function Y(t,e){var n=e[na];n===void 0&&(n=e[na]=new Set);var r=t+"__bubble";n.has(r)||(Oh(e,t,2,!1),n.add(r))}function ll(t,e,n){var r=0;e&&(r|=4),Oh(n,t,r,e)}var rs="_reactListening"+Math.random().toString(36).slice(2);function di(t){if(!t[rs]){t[rs]=!0,Uf.forEach(function(n){n!=="selectionchange"&&(J_.has(n)||ll(n,!1,t),ll(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rs]||(e[rs]=!0,ll("selectionchange",!1,e))}}function Oh(t,e,n,r){switch(_h(e)){case 1:var i=h_;break;case 4:i=p_;break;default:i=su}n=i.bind(null,e,n,t),i=void 0,!$l||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function al(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=gn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}rh(function(){var u=s,f=tu(n),d=[];e:{var h=Dh.get(t);if(h!==void 0){var m=lu,v=t;switch(t){case"keypress":if(ys(n)===0)break e;case"keydown":case"keyup":m=R_;break;case"focusin":v="focus",m=tl;break;case"focusout":v="blur",m=tl;break;case"beforeblur":case"afterblur":m=tl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=zc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=__;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=D_;break;case Th:case Rh:case Ph:m=w_;break;case Ah:m=O_;break;case"scroll":m=m_;break;case"wheel":m=j_;break;case"copy":case"cut":case"paste":m=E_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Uc}var y=(e&4)!==0,A=!y&&t==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var p=u,_;p!==null;){_=p;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,g!==null&&(w=si(p,g),w!=null&&y.push(fi(p,w,_)))),A)break;p=p.return}0<y.length&&(h=new m(h,v,null,n,f),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Vl&&(v=n.relatedTarget||n.fromElement)&&(gn(v)||v[St]))break e;if((m||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?gn(v):null,v!==null&&(A=Dn(v),v!==A||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(y=zc,w="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=Uc,w="onPointerLeave",g="onPointerEnter",p="pointer"),A=m==null?h:Vn(m),_=v==null?h:Vn(v),h=new y(w,p+"leave",m,n,f),h.target=A,h.relatedTarget=_,w=null,gn(f)===u&&(y=new y(g,p+"enter",v,n,f),y.target=_,y.relatedTarget=A,w=y),A=w,m&&v)t:{for(y=m,g=v,p=0,_=y;_;_=jn(_))p++;for(_=0,w=g;w;w=jn(w))_++;for(;0<p-_;)y=jn(y),p--;for(;0<_-p;)g=jn(g),_--;for(;p--;){if(y===g||g!==null&&y===g.alternate)break t;y=jn(y),g=jn(g)}y=null}else y=null;m!==null&&Zc(d,h,m,y,!1),v!==null&&A!==null&&Zc(d,A,v,y,!0)}}e:{if(h=u?Vn(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var N=V_;else if(Hc(h))if(Sh)N=Q_;else{N=$_;var S=H_}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=G_);if(N&&(N=N(t,u))){Eh(d,N,n,f);break e}S&&S(t,h,u),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&bl(h,"number",h.value)}switch(S=u?Vn(u):window,t){case"focusin":(Hc(S)||S.contentEditable==="true")&&(Un=S,ql=u,Qr=null);break;case"focusout":Qr=ql=Un=null;break;case"mousedown":Xl=!0;break;case"contextmenu":case"mouseup":case"dragend":Xl=!1,Kc(d,n,f);break;case"selectionchange":if(q_)break;case"keydown":case"keyup":Kc(d,n,f)}var x;if(uu)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Bn?wh(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(yh&&n.locale!=="ko"&&(Bn||R!=="onCompositionStart"?R==="onCompositionEnd"&&Bn&&(x=vh()):(jt=f,ou="value"in jt?jt.value:jt.textContent,Bn=!0)),S=Ls(u,R),0<S.length&&(R=new Bc(R,t,null,n,f),d.push({event:R,listeners:S}),x?R.data=x:(x=Ch(n),x!==null&&(R.data=x)))),(x=b_?z_(t,n):B_(t,n))&&(u=Ls(u,"onBeforeInput"),0<u.length&&(f=new Bc("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=x))}Mh(d,e)})}function fi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ls(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=si(t,n),s!=null&&r.unshift(fi(t,s,i)),s=si(t,e),s!=null&&r.push(fi(t,s,i))),t=t.return}return r}function jn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Zc(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=si(n,s),a!=null&&o.unshift(fi(n,a,l))):i||(a=si(n,s),a!=null&&o.push(fi(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ev=/\r\n?/g,tv=/\u0000|\uFFFD/g;function Jc(t){return(typeof t=="string"?t:""+t).replace(ev,`
`).replace(tv,"")}function is(t,e,n){if(e=Jc(e),Jc(t)!==e&&n)throw Error(C(425))}function js(){}var Zl=null,Jl=null;function ea(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ta=typeof setTimeout=="function"?setTimeout:void 0,nv=typeof clearTimeout=="function"?clearTimeout:void 0,ed=typeof Promise=="function"?Promise:void 0,rv=typeof queueMicrotask=="function"?queueMicrotask:typeof ed<"u"?function(t){return ed.resolve(null).then(t).catch(iv)}:ta;function iv(t){setTimeout(function(){throw t})}function ul(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ai(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ai(e)}function Ht(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function td(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yr=Math.random().toString(36).slice(2),ct="__reactFiber$"+yr,hi="__reactProps$"+yr,St="__reactContainer$"+yr,na="__reactEvents$"+yr,sv="__reactListeners$"+yr,ov="__reactHandles$"+yr;function gn(t){var e=t[ct];if(e)return e;for(var n=t.parentNode;n;){if(e=n[St]||n[ct]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=td(t);t!==null;){if(n=t[ct])return n;t=td(t)}return e}t=n,n=t.parentNode}return null}function Li(t){return t=t[ct]||t[St],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function Co(t){return t[hi]||null}var ra=[],Hn=-1;function ln(t){return{current:t}}function K(t){0>Hn||(t.current=ra[Hn],ra[Hn]=null,Hn--)}function Q(t,e){Hn++,ra[Hn]=t.current,t.current=e}var en={},Se=ln(en),Oe=ln(!1),Sn=en;function or(t,e){var n=t.type.contextTypes;if(!n)return en;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Le(t){return t=t.childContextTypes,t!=null}function Fs(){K(Oe),K(Se)}function nd(t,e,n){if(Se.current!==en)throw Error(C(168));Q(Se,e),Q(Oe,n)}function Lh(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(C(108,Hg(t)||"Unknown",i));return te({},n,r)}function bs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||en,Sn=Se.current,Q(Se,t),Q(Oe,Oe.current),!0}function rd(t,e,n){var r=t.stateNode;if(!r)throw Error(C(169));n?(t=Lh(t,e,Sn),r.__reactInternalMemoizedMergedChildContext=t,K(Oe),K(Se),Q(Se,t)):K(Oe),Q(Oe,n)}var gt=null,Eo=!1,cl=!1;function jh(t){gt===null?gt=[t]:gt.push(t)}function lv(t){Eo=!0,jh(t)}function an(){if(!cl&&gt!==null){cl=!0;var t=0,e=W;try{var n=gt;for(W=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gt=null,Eo=!1}catch(i){throw gt!==null&&(gt=gt.slice(t+1)),lh(nu,an),i}finally{W=e,cl=!1}}return null}var $n=[],Gn=0,zs=null,Bs=0,Ve=[],He=0,xn=null,_t=1,vt="";function fn(t,e){$n[Gn++]=Bs,$n[Gn++]=zs,zs=t,Bs=e}function Fh(t,e,n){Ve[He++]=_t,Ve[He++]=vt,Ve[He++]=xn,xn=t;var r=_t;t=vt;var i=32-it(r)-1;r&=~(1<<i),n+=1;var s=32-it(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_t=1<<32-it(e)+i|n<<i|r,vt=s+t}else _t=1<<s|n<<i|r,vt=t}function du(t){t.return!==null&&(fn(t,1),Fh(t,1,0))}function fu(t){for(;t===zs;)zs=$n[--Gn],$n[Gn]=null,Bs=$n[--Gn],$n[Gn]=null;for(;t===xn;)xn=Ve[--He],Ve[He]=null,vt=Ve[--He],Ve[He]=null,_t=Ve[--He],Ve[He]=null}var ze=null,be=null,X=!1,tt=null;function bh(t,e){var n=$e(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function id(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ze=t,be=Ht(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ze=t,be=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xn!==null?{id:_t,overflow:vt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$e(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ze=t,be=null,!0):!1;default:return!1}}function ia(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sa(t){if(X){var e=be;if(e){var n=e;if(!id(t,e)){if(ia(t))throw Error(C(418));e=Ht(n.nextSibling);var r=ze;e&&id(t,e)?bh(r,n):(t.flags=t.flags&-4097|2,X=!1,ze=t)}}else{if(ia(t))throw Error(C(418));t.flags=t.flags&-4097|2,X=!1,ze=t}}}function sd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ze=t}function ss(t){if(t!==ze)return!1;if(!X)return sd(t),X=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ea(t.type,t.memoizedProps)),e&&(e=be)){if(ia(t))throw zh(),Error(C(418));for(;e;)bh(t,e),e=Ht(e.nextSibling)}if(sd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){be=Ht(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}be=null}}else be=ze?Ht(t.stateNode.nextSibling):null;return!0}function zh(){for(var t=be;t;)t=Ht(t.nextSibling)}function lr(){be=ze=null,X=!1}function hu(t){tt===null?tt=[t]:tt.push(t)}var av=Tt.ReactCurrentBatchConfig;function Dr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,t))}return t}function os(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function od(t){var e=t._init;return e(t._payload)}function Bh(t){function e(g,p){if(t){var _=g.deletions;_===null?(g.deletions=[p],g.flags|=16):_.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=Yt(g,p),g.index=0,g.sibling=null,g}function s(g,p,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<p?(g.flags|=2,p):_):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,p,_,w){return p===null||p.tag!==6?(p=_l(_,g.mode,w),p.return=g,p):(p=i(p,_),p.return=g,p)}function a(g,p,_,w){var N=_.type;return N===zn?f(g,p,_.props.children,w,_.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Dt&&od(N)===p.type)?(w=i(p,_.props),w.ref=Dr(g,p,_),w.return=g,w):(w=ks(_.type,_.key,_.props,null,g.mode,w),w.ref=Dr(g,p,_),w.return=g,w)}function u(g,p,_,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==_.containerInfo||p.stateNode.implementation!==_.implementation?(p=vl(_,g.mode,w),p.return=g,p):(p=i(p,_.children||[]),p.return=g,p)}function f(g,p,_,w,N){return p===null||p.tag!==7?(p=Cn(_,g.mode,w,N),p.return=g,p):(p=i(p,_),p.return=g,p)}function d(g,p,_){if(typeof p=="string"&&p!==""||typeof p=="number")return p=_l(""+p,g.mode,_),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ki:return _=ks(p.type,p.key,p.props,null,g.mode,_),_.ref=Dr(g,null,p),_.return=g,_;case bn:return p=vl(p,g.mode,_),p.return=g,p;case Dt:var w=p._init;return d(g,w(p._payload),_)}if(Br(p)||Ir(p))return p=Cn(p,g.mode,_,null),p.return=g,p;os(g,p)}return null}function h(g,p,_,w){var N=p!==null?p.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return N!==null?null:l(g,p,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ki:return _.key===N?a(g,p,_,w):null;case bn:return _.key===N?u(g,p,_,w):null;case Dt:return N=_._init,h(g,p,N(_._payload),w)}if(Br(_)||Ir(_))return N!==null?null:f(g,p,_,w,null);os(g,_)}return null}function m(g,p,_,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(_)||null,l(p,g,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ki:return g=g.get(w.key===null?_:w.key)||null,a(p,g,w,N);case bn:return g=g.get(w.key===null?_:w.key)||null,u(p,g,w,N);case Dt:var S=w._init;return m(g,p,_,S(w._payload),N)}if(Br(w)||Ir(w))return g=g.get(_)||null,f(p,g,w,N,null);os(p,w)}return null}function v(g,p,_,w){for(var N=null,S=null,x=p,R=p=0,q=null;x!==null&&R<_.length;R++){x.index>R?(q=x,x=null):q=x.sibling;var O=h(g,x,_[R],w);if(O===null){x===null&&(x=q);break}t&&x&&O.alternate===null&&e(g,x),p=s(O,p,R),S===null?N=O:S.sibling=O,S=O,x=q}if(R===_.length)return n(g,x),X&&fn(g,R),N;if(x===null){for(;R<_.length;R++)x=d(g,_[R],w),x!==null&&(p=s(x,p,R),S===null?N=x:S.sibling=x,S=x);return X&&fn(g,R),N}for(x=r(g,x);R<_.length;R++)q=m(x,g,R,_[R],w),q!==null&&(t&&q.alternate!==null&&x.delete(q.key===null?R:q.key),p=s(q,p,R),S===null?N=q:S.sibling=q,S=q);return t&&x.forEach(function(Pe){return e(g,Pe)}),X&&fn(g,R),N}function y(g,p,_,w){var N=Ir(_);if(typeof N!="function")throw Error(C(150));if(_=N.call(_),_==null)throw Error(C(151));for(var S=N=null,x=p,R=p=0,q=null,O=_.next();x!==null&&!O.done;R++,O=_.next()){x.index>R?(q=x,x=null):q=x.sibling;var Pe=h(g,x,O.value,w);if(Pe===null){x===null&&(x=q);break}t&&x&&Pe.alternate===null&&e(g,x),p=s(Pe,p,R),S===null?N=Pe:S.sibling=Pe,S=Pe,x=q}if(O.done)return n(g,x),X&&fn(g,R),N;if(x===null){for(;!O.done;R++,O=_.next())O=d(g,O.value,w),O!==null&&(p=s(O,p,R),S===null?N=O:S.sibling=O,S=O);return X&&fn(g,R),N}for(x=r(g,x);!O.done;R++,O=_.next())O=m(x,g,R,O.value,w),O!==null&&(t&&O.alternate!==null&&x.delete(O.key===null?R:O.key),p=s(O,p,R),S===null?N=O:S.sibling=O,S=O);return t&&x.forEach(function(Pt){return e(g,Pt)}),X&&fn(g,R),N}function A(g,p,_,w){if(typeof _=="object"&&_!==null&&_.type===zn&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ki:e:{for(var N=_.key,S=p;S!==null;){if(S.key===N){if(N=_.type,N===zn){if(S.tag===7){n(g,S.sibling),p=i(S,_.props.children),p.return=g,g=p;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Dt&&od(N)===S.type){n(g,S.sibling),p=i(S,_.props),p.ref=Dr(g,S,_),p.return=g,g=p;break e}n(g,S);break}else e(g,S);S=S.sibling}_.type===zn?(p=Cn(_.props.children,g.mode,w,_.key),p.return=g,g=p):(w=ks(_.type,_.key,_.props,null,g.mode,w),w.ref=Dr(g,p,_),w.return=g,g=w)}return o(g);case bn:e:{for(S=_.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===_.containerInfo&&p.stateNode.implementation===_.implementation){n(g,p.sibling),p=i(p,_.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=vl(_,g.mode,w),p.return=g,g=p}return o(g);case Dt:return S=_._init,A(g,p,S(_._payload),w)}if(Br(_))return v(g,p,_,w);if(Ir(_))return y(g,p,_,w);os(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,_),p.return=g,g=p):(n(g,p),p=_l(_,g.mode,w),p.return=g,g=p),o(g)):n(g,p)}return A}var ar=Bh(!0),Uh=Bh(!1),Us=ln(null),Ws=null,Qn=null,pu=null;function mu(){pu=Qn=Ws=null}function gu(t){var e=Us.current;K(Us),t._currentValue=e}function oa(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function tr(t,e){Ws=t,pu=Qn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(De=!0),t.firstContext=null)}function Ye(t){var e=t._currentValue;if(pu!==t)if(t={context:t,memoizedValue:e,next:null},Qn===null){if(Ws===null)throw Error(C(308));Qn=t,Ws.dependencies={lanes:0,firstContext:t}}else Qn=Qn.next=t;return e}var _n=null;function _u(t){_n===null?_n=[t]:_n.push(t)}function Wh(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,_u(e)):(n.next=i.next,i.next=n),e.interleaved=n,xt(t,r)}function xt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mt=!1;function vu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $t(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,z&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xt(t,n)}return i=r.interleaved,i===null?(e.next=e,_u(r)):(e.next=i.next,i.next=e),r.interleaved=e,xt(t,n)}function ws(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ru(t,n)}}function ld(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vs(t,e,n,r){var i=t.updateQueue;Mt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,f=u=a=null,l=s;do{var h=l.lane,m=l.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,y=l;switch(h=e,m=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(m,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(m,d,h):v,h==null)break e;d=te({},d,h);break e;case 2:Mt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=m,a=d):f=f.next=m,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);kn|=o,t.lanes=o,t.memoizedState=d}}function ad(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(C(191,i));i.call(r)}}}var ji={},ft=ln(ji),pi=ln(ji),mi=ln(ji);function vn(t){if(t===ji)throw Error(C(174));return t}function yu(t,e){switch(Q(mi,e),Q(pi,t),Q(ft,ji),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bl(e,t)}K(ft),Q(ft,e)}function ur(){K(ft),K(pi),K(mi)}function Hh(t){vn(mi.current);var e=vn(ft.current),n=Bl(e,t.type);e!==n&&(Q(pi,t),Q(ft,n))}function wu(t){pi.current===t&&(K(ft),K(pi))}var Z=ln(0);function Hs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dl=[];function Cu(){for(var t=0;t<dl.length;t++)dl[t]._workInProgressVersionPrimary=null;dl.length=0}var Cs=Tt.ReactCurrentDispatcher,fl=Tt.ReactCurrentBatchConfig,Nn=0,ee=null,le=null,fe=null,$s=!1,Yr=!1,gi=0,uv=0;function we(){throw Error(C(321))}function Eu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lt(t[n],e[n]))return!1;return!0}function Su(t,e,n,r,i,s){if(Nn=s,ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cs.current=t===null||t.memoizedState===null?hv:pv,t=n(r,i),Yr){s=0;do{if(Yr=!1,gi=0,25<=s)throw Error(C(301));s+=1,fe=le=null,e.updateQueue=null,Cs.current=mv,t=n(r,i)}while(Yr)}if(Cs.current=Gs,e=le!==null&&le.next!==null,Nn=0,fe=le=ee=null,$s=!1,e)throw Error(C(300));return t}function xu(){var t=gi!==0;return gi=0,t}function ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?ee.memoizedState=fe=t:fe=fe.next=t,fe}function Ke(){if(le===null){var t=ee.alternate;t=t!==null?t.memoizedState:null}else t=le.next;var e=fe===null?ee.memoizedState:fe.next;if(e!==null)fe=e,le=t;else{if(t===null)throw Error(C(310));le=t,t={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},fe===null?ee.memoizedState=fe=t:fe=fe.next=t}return fe}function _i(t,e){return typeof e=="function"?e(t):e}function hl(t){var e=Ke(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=le,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var f=u.lane;if((Nn&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,ee.lanes|=f,kn|=f}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,lt(r,e.memoizedState)||(De=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ee.lanes|=s,kn|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pl(t){var e=Ke(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);lt(s,e.memoizedState)||(De=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function $h(){}function Gh(t,e){var n=ee,r=Ke(),i=e(),s=!lt(r.memoizedState,i);if(s&&(r.memoizedState=i,De=!0),r=r.queue,Nu(Kh.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||fe!==null&&fe.memoizedState.tag&1){if(n.flags|=2048,vi(9,Yh.bind(null,n,r,i,e),void 0,null),pe===null)throw Error(C(349));Nn&30||Qh(n,e,i)}return i}function Qh(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Yh(t,e,n,r){e.value=n,e.getSnapshot=r,qh(e)&&Xh(t)}function Kh(t,e,n){return n(function(){qh(e)&&Xh(t)})}function qh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lt(t,n)}catch{return!0}}function Xh(t){var e=xt(t,1);e!==null&&st(e,t,1,-1)}function ud(t){var e=ut();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},e.queue=t,t=t.dispatch=fv.bind(null,ee,t),[e.memoizedState,t]}function vi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Zh(){return Ke().memoizedState}function Es(t,e,n,r){var i=ut();ee.flags|=t,i.memoizedState=vi(1|e,n,void 0,r===void 0?null:r)}function So(t,e,n,r){var i=Ke();r=r===void 0?null:r;var s=void 0;if(le!==null){var o=le.memoizedState;if(s=o.destroy,r!==null&&Eu(r,o.deps)){i.memoizedState=vi(e,n,s,r);return}}ee.flags|=t,i.memoizedState=vi(1|e,n,s,r)}function cd(t,e){return Es(8390656,8,t,e)}function Nu(t,e){return So(2048,8,t,e)}function Jh(t,e){return So(4,2,t,e)}function ep(t,e){return So(4,4,t,e)}function tp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function np(t,e,n){return n=n!=null?n.concat([t]):null,So(4,4,tp.bind(null,e,t),n)}function ku(){}function rp(t,e){var n=Ke();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Eu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ip(t,e){var n=Ke();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Eu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sp(t,e,n){return Nn&21?(lt(n,e)||(n=ch(),ee.lanes|=n,kn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,De=!0),t.memoizedState=n)}function cv(t,e){var n=W;W=n!==0&&4>n?n:4,t(!0);var r=fl.transition;fl.transition={};try{t(!1),e()}finally{W=n,fl.transition=r}}function op(){return Ke().memoizedState}function dv(t,e,n){var r=Qt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lp(t))ap(e,n);else if(n=Wh(t,e,n,r),n!==null){var i=ke();st(n,t,r,i),up(n,e,r)}}function fv(t,e,n){var r=Qt(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lp(t))ap(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,lt(l,o)){var a=e.interleaved;a===null?(i.next=i,_u(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=Wh(t,e,i,r),n!==null&&(i=ke(),st(n,t,r,i),up(n,e,r))}}function lp(t){var e=t.alternate;return t===ee||e!==null&&e===ee}function ap(t,e){Yr=$s=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function up(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ru(t,n)}}var Gs={readContext:Ye,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},hv={readContext:Ye,useCallback:function(t,e){return ut().memoizedState=[t,e===void 0?null:e],t},useContext:Ye,useEffect:cd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Es(4194308,4,tp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Es(4194308,4,t,e)},useInsertionEffect:function(t,e){return Es(4,2,t,e)},useMemo:function(t,e){var n=ut();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ut();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dv.bind(null,ee,t),[r.memoizedState,t]},useRef:function(t){var e=ut();return t={current:t},e.memoizedState=t},useState:ud,useDebugValue:ku,useDeferredValue:function(t){return ut().memoizedState=t},useTransition:function(){var t=ud(!1),e=t[0];return t=cv.bind(null,t[1]),ut().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ee,i=ut();if(X){if(n===void 0)throw Error(C(407));n=n()}else{if(n=e(),pe===null)throw Error(C(349));Nn&30||Qh(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,cd(Kh.bind(null,r,s,t),[t]),r.flags|=2048,vi(9,Yh.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ut(),e=pe.identifierPrefix;if(X){var n=vt,r=_t;n=(r&~(1<<32-it(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pv={readContext:Ye,useCallback:rp,useContext:Ye,useEffect:Nu,useImperativeHandle:np,useInsertionEffect:Jh,useLayoutEffect:ep,useMemo:ip,useReducer:hl,useRef:Zh,useState:function(){return hl(_i)},useDebugValue:ku,useDeferredValue:function(t){var e=Ke();return sp(e,le.memoizedState,t)},useTransition:function(){var t=hl(_i)[0],e=Ke().memoizedState;return[t,e]},useMutableSource:$h,useSyncExternalStore:Gh,useId:op,unstable_isNewReconciler:!1},mv={readContext:Ye,useCallback:rp,useContext:Ye,useEffect:Nu,useImperativeHandle:np,useInsertionEffect:Jh,useLayoutEffect:ep,useMemo:ip,useReducer:pl,useRef:Zh,useState:function(){return pl(_i)},useDebugValue:ku,useDeferredValue:function(t){var e=Ke();return le===null?e.memoizedState=t:sp(e,le.memoizedState,t)},useTransition:function(){var t=pl(_i)[0],e=Ke().memoizedState;return[t,e]},useMutableSource:$h,useSyncExternalStore:Gh,useId:op,unstable_isNewReconciler:!1};function Je(t,e){if(t&&t.defaultProps){e=te({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function la(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xo={isMounted:function(t){return(t=t._reactInternals)?Dn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ke(),i=Qt(t),s=wt(r,i);s.payload=e,n!=null&&(s.callback=n),e=$t(t,s,i),e!==null&&(st(e,t,i,r),ws(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ke(),i=Qt(t),s=wt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=$t(t,s,i),e!==null&&(st(e,t,i,r),ws(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ke(),r=Qt(t),i=wt(n,r);i.tag=2,e!=null&&(i.callback=e),e=$t(t,i,r),e!==null&&(st(e,t,r,n),ws(e,t,r))}};function dd(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ci(n,r)||!ci(i,s):!0}function cp(t,e,n){var r=!1,i=en,s=e.contextType;return typeof s=="object"&&s!==null?s=Ye(s):(i=Le(e)?Sn:Se.current,r=e.contextTypes,s=(r=r!=null)?or(t,i):en),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xo,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function fd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&xo.enqueueReplaceState(e,e.state,null)}function aa(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},vu(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ye(s):(s=Le(e)?Sn:Se.current,i.context=or(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(la(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&xo.enqueueReplaceState(i,i.state,null),Vs(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function cr(t,e){try{var n="",r=e;do n+=Vg(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ml(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ua(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gv=typeof WeakMap=="function"?WeakMap:Map;function dp(t,e,n){n=wt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ys||(Ys=!0,ya=r),ua(t,e)},n}function fp(t,e,n){n=wt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ua(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ua(t,e),typeof r!="function"&&(Gt===null?Gt=new Set([this]):Gt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function hd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gv;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Pv.bind(null,t,e,n),e.then(t,t))}function pd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function md(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wt(-1,1),e.tag=2,$t(n,e,1))),n.lanes|=1),t)}var _v=Tt.ReactCurrentOwner,De=!1;function xe(t,e,n,r){e.child=t===null?Uh(e,null,n,r):ar(e,t.child,n,r)}function gd(t,e,n,r,i){n=n.render;var s=e.ref;return tr(e,i),r=Su(t,e,n,r,s,i),n=xu(),t!==null&&!De?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Nt(t,e,i)):(X&&n&&du(e),e.flags|=1,xe(t,e,r,i),e.child)}function _d(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ou(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,hp(t,e,s,r,i)):(t=ks(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ci,n(o,r)&&t.ref===e.ref)return Nt(t,e,i)}return e.flags|=1,t=Yt(s,r),t.ref=e.ref,t.return=e,e.child=t}function hp(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ci(s,r)&&t.ref===e.ref)if(De=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(De=!0);else return e.lanes=t.lanes,Nt(t,e,i)}return ca(t,e,n,r,i)}function pp(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(Kn,Fe),Fe|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Q(Kn,Fe),Fe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Q(Kn,Fe),Fe|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Q(Kn,Fe),Fe|=r;return xe(t,e,i,n),e.child}function mp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ca(t,e,n,r,i){var s=Le(n)?Sn:Se.current;return s=or(e,s),tr(e,i),n=Su(t,e,n,r,s,i),r=xu(),t!==null&&!De?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Nt(t,e,i)):(X&&r&&du(e),e.flags|=1,xe(t,e,n,i),e.child)}function vd(t,e,n,r,i){if(Le(n)){var s=!0;bs(e)}else s=!1;if(tr(e,i),e.stateNode===null)Ss(t,e),cp(e,n,r),aa(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ye(u):(u=Le(n)?Sn:Se.current,u=or(e,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&fd(e,o,r,u),Mt=!1;var h=e.memoizedState;o.state=h,Vs(e,r,o,i),a=e.memoizedState,l!==r||h!==a||Oe.current||Mt?(typeof f=="function"&&(la(e,n,f,r),a=e.memoizedState),(l=Mt||dd(e,n,l,r,h,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Vh(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Je(e.type,l),o.props=u,d=e.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ye(a):(a=Le(n)?Sn:Se.current,a=or(e,a));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==a)&&fd(e,o,r,a),Mt=!1,h=e.memoizedState,o.state=h,Vs(e,r,o,i);var v=e.memoizedState;l!==d||h!==v||Oe.current||Mt?(typeof m=="function"&&(la(e,n,m,r),v=e.memoizedState),(u=Mt||dd(e,n,u,r,h,v,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return da(t,e,n,r,s,i)}function da(t,e,n,r,i,s){mp(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&rd(e,n,!1),Nt(t,e,s);r=e.stateNode,_v.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ar(e,t.child,null,s),e.child=ar(e,null,l,s)):xe(t,e,l,s),e.memoizedState=r.state,i&&rd(e,n,!0),e.child}function gp(t){var e=t.stateNode;e.pendingContext?nd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nd(t,e.context,!1),yu(t,e.containerInfo)}function yd(t,e,n,r,i){return lr(),hu(i),e.flags|=256,xe(t,e,n,r),e.child}var fa={dehydrated:null,treeContext:null,retryLane:0};function ha(t){return{baseLanes:t,cachePool:null,transitions:null}}function _p(t,e,n){var r=e.pendingProps,i=Z.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Q(Z,i&1),t===null)return sa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Io(o,r,0,null),t=Cn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ha(n),e.memoizedState=fa,t):Iu(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return vv(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Yt(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Yt(l,s):(s=Cn(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ha(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=fa,r}return s=t.child,t=s.sibling,r=Yt(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Iu(t,e){return e=Io({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ls(t,e,n,r){return r!==null&&hu(r),ar(e,t.child,null,n),t=Iu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vv(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ml(Error(C(422))),ls(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Io({mode:"visible",children:r.children},i,0,null),s=Cn(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ar(e,t.child,null,o),e.child.memoizedState=ha(o),e.memoizedState=fa,s);if(!(e.mode&1))return ls(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(C(419)),r=ml(s,r,void 0),ls(t,e,o,r)}if(l=(o&t.childLanes)!==0,De||l){if(r=pe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xt(t,i),st(r,t,i,-1))}return Mu(),r=ml(Error(C(421))),ls(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Av.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,be=Ht(i.nextSibling),ze=e,X=!0,tt=null,t!==null&&(Ve[He++]=_t,Ve[He++]=vt,Ve[He++]=xn,_t=t.id,vt=t.overflow,xn=e),e=Iu(e,r.children),e.flags|=4096,e)}function wd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),oa(t.return,e,n)}function gl(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function vp(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(xe(t,e,r.children,n),r=Z.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wd(t,n,e);else if(t.tag===19)wd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Q(Z,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Hs(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),gl(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hs(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}gl(e,!0,n,null,s);break;case"together":gl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ss(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),kn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,n=Yt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Yt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function yv(t,e,n){switch(e.tag){case 3:gp(e),lr();break;case 5:Hh(e);break;case 1:Le(e.type)&&bs(e);break;case 4:yu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Q(Us,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Q(Z,Z.current&1),e.flags|=128,null):n&e.child.childLanes?_p(t,e,n):(Q(Z,Z.current&1),t=Nt(t,e,n),t!==null?t.sibling:null);Q(Z,Z.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return vp(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Q(Z,Z.current),r)break;return null;case 22:case 23:return e.lanes=0,pp(t,e,n)}return Nt(t,e,n)}var yp,pa,wp,Cp;yp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pa=function(){};wp=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,vn(ft.current);var s=null;switch(n){case"input":i=jl(t,i),r=jl(t,r),s=[];break;case"select":i=te({},i,{value:void 0}),r=te({},r,{value:void 0}),s=[];break;case"textarea":i=zl(t,i),r=zl(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=js)}Ul(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ri.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ri.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&Y("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Cp=function(t,e,n,r){n!==r&&(e.flags|=4)};function Mr(t,e){if(!X)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ce(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function wv(t,e,n){var r=e.pendingProps;switch(fu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(e),null;case 1:return Le(e.type)&&Fs(),Ce(e),null;case 3:return r=e.stateNode,ur(),K(Oe),K(Se),Cu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ss(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tt!==null&&(Ea(tt),tt=null))),pa(t,e),Ce(e),null;case 5:wu(e);var i=vn(mi.current);if(n=e.type,t!==null&&e.stateNode!=null)wp(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(C(166));return Ce(e),null}if(t=vn(ft.current),ss(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ct]=e,r[hi]=s,t=(e.mode&1)!==0,n){case"dialog":Y("cancel",r),Y("close",r);break;case"iframe":case"object":case"embed":Y("load",r);break;case"video":case"audio":for(i=0;i<Wr.length;i++)Y(Wr[i],r);break;case"source":Y("error",r);break;case"img":case"image":case"link":Y("error",r),Y("load",r);break;case"details":Y("toggle",r);break;case"input":Rc(r,s),Y("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Y("invalid",r);break;case"textarea":Ac(r,s),Y("invalid",r)}Ul(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&is(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&is(r.textContent,l,t),i=["children",""+l]):ri.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Y("scroll",r)}switch(n){case"input":qi(r),Pc(r,s,!0);break;case"textarea":qi(r),Dc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=js)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Kf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ct]=e,t[hi]=r,yp(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wl(n,r),n){case"dialog":Y("cancel",t),Y("close",t),i=r;break;case"iframe":case"object":case"embed":Y("load",t),i=r;break;case"video":case"audio":for(i=0;i<Wr.length;i++)Y(Wr[i],t);i=r;break;case"source":Y("error",t),i=r;break;case"img":case"image":case"link":Y("error",t),Y("load",t),i=r;break;case"details":Y("toggle",t),i=r;break;case"input":Rc(t,r),i=jl(t,r),Y("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=te({},r,{value:void 0}),Y("invalid",t);break;case"textarea":Ac(t,r),i=zl(t,r),Y("invalid",t);break;default:i=r}Ul(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Zf(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&qf(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ii(t,a):typeof a=="number"&&ii(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ri.hasOwnProperty(s)?a!=null&&s==="onScroll"&&Y("scroll",t):a!=null&&Xa(t,s,a,o))}switch(n){case"input":qi(t),Pc(t,r,!1);break;case"textarea":qi(t),Dc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Jt(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Xn(t,!!r.multiple,s,!1):r.defaultValue!=null&&Xn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=js)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ce(e),null;case 6:if(t&&e.stateNode!=null)Cp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(C(166));if(n=vn(mi.current),vn(ft.current),ss(e)){if(r=e.stateNode,n=e.memoizedProps,r[ct]=e,(s=r.nodeValue!==n)&&(t=ze,t!==null))switch(t.tag){case 3:is(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&is(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ct]=e,e.stateNode=r}return Ce(e),null;case 13:if(K(Z),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(X&&be!==null&&e.mode&1&&!(e.flags&128))zh(),lr(),e.flags|=98560,s=!1;else if(s=ss(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(C(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(C(317));s[ct]=e}else lr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ce(e),s=!1}else tt!==null&&(Ea(tt),tt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Z.current&1?ce===0&&(ce=3):Mu())),e.updateQueue!==null&&(e.flags|=4),Ce(e),null);case 4:return ur(),pa(t,e),t===null&&di(e.stateNode.containerInfo),Ce(e),null;case 10:return gu(e.type._context),Ce(e),null;case 17:return Le(e.type)&&Fs(),Ce(e),null;case 19:if(K(Z),s=e.memoizedState,s===null)return Ce(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Mr(s,!1);else{if(ce!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hs(t),o!==null){for(e.flags|=128,Mr(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Q(Z,Z.current&1|2),e.child}t=t.sibling}s.tail!==null&&se()>dr&&(e.flags|=128,r=!0,Mr(s,!1),e.lanes=4194304)}else{if(!r)if(t=Hs(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!X)return Ce(e),null}else 2*se()-s.renderingStartTime>dr&&n!==1073741824&&(e.flags|=128,r=!0,Mr(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=se(),e.sibling=null,n=Z.current,Q(Z,r?n&1|2:n&1),e):(Ce(e),null);case 22:case 23:return Du(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fe&1073741824&&(Ce(e),e.subtreeFlags&6&&(e.flags|=8192)):Ce(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function Cv(t,e){switch(fu(e),e.tag){case 1:return Le(e.type)&&Fs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ur(),K(Oe),K(Se),Cu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wu(e),null;case 13:if(K(Z),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));lr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return K(Z),null;case 4:return ur(),null;case 10:return gu(e.type._context),null;case 22:case 23:return Du(),null;case 24:return null;default:return null}}var as=!1,Ee=!1,Ev=typeof WeakSet=="function"?WeakSet:Set,T=null;function Yn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ne(t,e,r)}else n.current=null}function ma(t,e,n){try{n()}catch(r){ne(t,e,r)}}var Cd=!1;function Sv(t,e){if(Zl=Ms,t=kh(),cu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,f=0,d=t,h=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===n&&++u===i&&(l=o),h===s&&++f===r&&(a=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jl={focusedElem:t,selectionRange:n},Ms=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,A=v.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Je(e.type,y),A);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(w){ne(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return v=Cd,Cd=!1,v}function Kr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ma(e,n,s)}i=i.next}while(i!==r)}}function No(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ga(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ep(t){var e=t.alternate;e!==null&&(t.alternate=null,Ep(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ct],delete e[hi],delete e[na],delete e[sv],delete e[ov])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Sp(t){return t.tag===5||t.tag===3||t.tag===4}function Ed(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _a(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=js));else if(r!==4&&(t=t.child,t!==null))for(_a(t,e,n),t=t.sibling;t!==null;)_a(t,e,n),t=t.sibling}function va(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(va(t,e,n),t=t.sibling;t!==null;)va(t,e,n),t=t.sibling}var me=null,et=!1;function At(t,e,n){for(n=n.child;n!==null;)xp(t,e,n),n=n.sibling}function xp(t,e,n){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(_o,n)}catch{}switch(n.tag){case 5:Ee||Yn(n,e);case 6:var r=me,i=et;me=null,At(t,e,n),me=r,et=i,me!==null&&(et?(t=me,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):me.removeChild(n.stateNode));break;case 18:me!==null&&(et?(t=me,n=n.stateNode,t.nodeType===8?ul(t.parentNode,n):t.nodeType===1&&ul(t,n),ai(t)):ul(me,n.stateNode));break;case 4:r=me,i=et,me=n.stateNode.containerInfo,et=!0,At(t,e,n),me=r,et=i;break;case 0:case 11:case 14:case 15:if(!Ee&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ma(n,e,o),i=i.next}while(i!==r)}At(t,e,n);break;case 1:if(!Ee&&(Yn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ne(n,e,l)}At(t,e,n);break;case 21:At(t,e,n);break;case 22:n.mode&1?(Ee=(r=Ee)||n.memoizedState!==null,At(t,e,n),Ee=r):At(t,e,n);break;default:At(t,e,n)}}function Sd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ev),e.forEach(function(r){var i=Dv.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ze(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:me=l.stateNode,et=!1;break e;case 3:me=l.stateNode.containerInfo,et=!0;break e;case 4:me=l.stateNode.containerInfo,et=!0;break e}l=l.return}if(me===null)throw Error(C(160));xp(s,o,i),me=null,et=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){ne(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Np(e,t),e=e.sibling}function Np(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ze(e,t),at(t),r&4){try{Kr(3,t,t.return),No(3,t)}catch(y){ne(t,t.return,y)}try{Kr(5,t,t.return)}catch(y){ne(t,t.return,y)}}break;case 1:Ze(e,t),at(t),r&512&&n!==null&&Yn(n,n.return);break;case 5:if(Ze(e,t),at(t),r&512&&n!==null&&Yn(n,n.return),t.flags&32){var i=t.stateNode;try{ii(i,"")}catch(y){ne(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Qf(i,s),Wl(l,o);var u=Wl(l,s);for(o=0;o<a.length;o+=2){var f=a[o],d=a[o+1];f==="style"?Zf(i,d):f==="dangerouslySetInnerHTML"?qf(i,d):f==="children"?ii(i,d):Xa(i,f,d,u)}switch(l){case"input":Fl(i,s);break;case"textarea":Yf(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Xn(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Xn(i,!!s.multiple,s.defaultValue,!0):Xn(i,!!s.multiple,s.multiple?[]:"",!1))}i[hi]=s}catch(y){ne(t,t.return,y)}}break;case 6:if(Ze(e,t),at(t),r&4){if(t.stateNode===null)throw Error(C(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){ne(t,t.return,y)}}break;case 3:if(Ze(e,t),at(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ai(e.containerInfo)}catch(y){ne(t,t.return,y)}break;case 4:Ze(e,t),at(t);break;case 13:Ze(e,t),at(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Pu=se())),r&4&&Sd(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ee=(u=Ee)||f,Ze(e,t),Ee=u):Ze(e,t),at(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(T=t,f=t.child;f!==null;){for(d=T=f;T!==null;){switch(h=T,m=h.child,h.tag){case 0:case 11:case 14:case 15:Kr(4,h,h.return);break;case 1:Yn(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){ne(r,n,y)}}break;case 5:Yn(h,h.return);break;case 22:if(h.memoizedState!==null){Nd(d);continue}}m!==null?(m.return=h,T=m):Nd(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Xf("display",o))}catch(y){ne(t,t.return,y)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){ne(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ze(e,t),at(t),r&4&&Sd(t);break;case 21:break;default:Ze(e,t),at(t)}}function at(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Sp(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ii(i,""),r.flags&=-33);var s=Ed(t);va(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Ed(t);_a(t,l,o);break;default:throw Error(C(161))}}catch(a){ne(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xv(t,e,n){T=t,kp(t)}function kp(t,e,n){for(var r=(t.mode&1)!==0;T!==null;){var i=T,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||as;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Ee;l=as;var u=Ee;if(as=o,(Ee=a)&&!u)for(T=i;T!==null;)o=T,a=o.child,o.tag===22&&o.memoizedState!==null?kd(i):a!==null?(a.return=o,T=a):kd(i);for(;s!==null;)T=s,kp(s),s=s.sibling;T=i,as=l,Ee=u}xd(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,T=s):xd(t)}}function xd(t){for(;T!==null;){var e=T;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ee||No(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ee)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Je(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ad(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ad(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&ai(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Ee||e.flags&512&&ga(e)}catch(h){ne(e,e.return,h)}}if(e===t){T=null;break}if(n=e.sibling,n!==null){n.return=e.return,T=n;break}T=e.return}}function Nd(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var n=e.sibling;if(n!==null){n.return=e.return,T=n;break}T=e.return}}function kd(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{No(4,e)}catch(a){ne(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){ne(e,i,a)}}var s=e.return;try{ga(e)}catch(a){ne(e,s,a)}break;case 5:var o=e.return;try{ga(e)}catch(a){ne(e,o,a)}}}catch(a){ne(e,e.return,a)}if(e===t){T=null;break}var l=e.sibling;if(l!==null){l.return=e.return,T=l;break}T=e.return}}var Nv=Math.ceil,Qs=Tt.ReactCurrentDispatcher,Tu=Tt.ReactCurrentOwner,Qe=Tt.ReactCurrentBatchConfig,z=0,pe=null,oe=null,_e=0,Fe=0,Kn=ln(0),ce=0,yi=null,kn=0,ko=0,Ru=0,qr=null,Ae=null,Pu=0,dr=1/0,mt=null,Ys=!1,ya=null,Gt=null,us=!1,Ft=null,Ks=0,Xr=0,wa=null,xs=-1,Ns=0;function ke(){return z&6?se():xs!==-1?xs:xs=se()}function Qt(t){return t.mode&1?z&2&&_e!==0?_e&-_e:av.transition!==null?(Ns===0&&(Ns=ch()),Ns):(t=W,t!==0||(t=window.event,t=t===void 0?16:_h(t.type)),t):1}function st(t,e,n,r){if(50<Xr)throw Xr=0,wa=null,Error(C(185));Mi(t,n,r),(!(z&2)||t!==pe)&&(t===pe&&(!(z&2)&&(ko|=n),ce===4&&Lt(t,_e)),je(t,r),n===1&&z===0&&!(e.mode&1)&&(dr=se()+500,Eo&&an()))}function je(t,e){var n=t.callbackNode;a_(t,e);var r=Ds(t,t===pe?_e:0);if(r===0)n!==null&&Lc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Lc(n),e===1)t.tag===0?lv(Id.bind(null,t)):jh(Id.bind(null,t)),rv(function(){!(z&6)&&an()}),n=null;else{switch(dh(r)){case 1:n=nu;break;case 4:n=ah;break;case 16:n=As;break;case 536870912:n=uh;break;default:n=As}n=Op(n,Ip.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ip(t,e){if(xs=-1,Ns=0,z&6)throw Error(C(327));var n=t.callbackNode;if(nr()&&t.callbackNode!==n)return null;var r=Ds(t,t===pe?_e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qs(t,r);else{e=r;var i=z;z|=2;var s=Rp();(pe!==t||_e!==e)&&(mt=null,dr=se()+500,wn(t,e));do try{Tv();break}catch(l){Tp(t,l)}while(!0);mu(),Qs.current=s,z=i,oe!==null?e=0:(pe=null,_e=0,e=ce)}if(e!==0){if(e===2&&(i=Ql(t),i!==0&&(r=i,e=Ca(t,i))),e===1)throw n=yi,wn(t,0),Lt(t,r),je(t,se()),n;if(e===6)Lt(t,r);else{if(i=t.current.alternate,!(r&30)&&!kv(i)&&(e=qs(t,r),e===2&&(s=Ql(t),s!==0&&(r=s,e=Ca(t,s))),e===1))throw n=yi,wn(t,0),Lt(t,r),je(t,se()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(C(345));case 2:hn(t,Ae,mt);break;case 3:if(Lt(t,r),(r&130023424)===r&&(e=Pu+500-se(),10<e)){if(Ds(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ke(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ta(hn.bind(null,t,Ae,mt),e);break}hn(t,Ae,mt);break;case 4:if(Lt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-it(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nv(r/1960))-r,10<r){t.timeoutHandle=ta(hn.bind(null,t,Ae,mt),r);break}hn(t,Ae,mt);break;case 5:hn(t,Ae,mt);break;default:throw Error(C(329))}}}return je(t,se()),t.callbackNode===n?Ip.bind(null,t):null}function Ca(t,e){var n=qr;return t.current.memoizedState.isDehydrated&&(wn(t,e).flags|=256),t=qs(t,e),t!==2&&(e=Ae,Ae=n,e!==null&&Ea(e)),t}function Ea(t){Ae===null?Ae=t:Ae.push.apply(Ae,t)}function kv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!lt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Lt(t,e){for(e&=~Ru,e&=~ko,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-it(e),r=1<<n;t[n]=-1,e&=~r}}function Id(t){if(z&6)throw Error(C(327));nr();var e=Ds(t,0);if(!(e&1))return je(t,se()),null;var n=qs(t,e);if(t.tag!==0&&n===2){var r=Ql(t);r!==0&&(e=r,n=Ca(t,r))}if(n===1)throw n=yi,wn(t,0),Lt(t,e),je(t,se()),n;if(n===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hn(t,Ae,mt),je(t,se()),null}function Au(t,e){var n=z;z|=1;try{return t(e)}finally{z=n,z===0&&(dr=se()+500,Eo&&an())}}function In(t){Ft!==null&&Ft.tag===0&&!(z&6)&&nr();var e=z;z|=1;var n=Qe.transition,r=W;try{if(Qe.transition=null,W=1,t)return t()}finally{W=r,Qe.transition=n,z=e,!(z&6)&&an()}}function Du(){Fe=Kn.current,K(Kn)}function wn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nv(n)),oe!==null)for(n=oe.return;n!==null;){var r=n;switch(fu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fs();break;case 3:ur(),K(Oe),K(Se),Cu();break;case 5:wu(r);break;case 4:ur();break;case 13:K(Z);break;case 19:K(Z);break;case 10:gu(r.type._context);break;case 22:case 23:Du()}n=n.return}if(pe=t,oe=t=Yt(t.current,null),_e=Fe=e,ce=0,yi=null,Ru=ko=kn=0,Ae=qr=null,_n!==null){for(e=0;e<_n.length;e++)if(n=_n[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}_n=null}return t}function Tp(t,e){do{var n=oe;try{if(mu(),Cs.current=Gs,$s){for(var r=ee.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$s=!1}if(Nn=0,fe=le=ee=null,Yr=!1,gi=0,Tu.current=null,n===null||n.return===null){ce=1,yi=e,oe=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=_e,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=pd(o);if(m!==null){m.flags&=-257,md(m,o,l,s,e),m.mode&1&&hd(s,u,e),e=m,a=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(a),e.updateQueue=y}else v.add(a);break e}else{if(!(e&1)){hd(s,u,e),Mu();break e}a=Error(C(426))}}else if(X&&l.mode&1){var A=pd(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),md(A,o,l,s,e),hu(cr(a,l));break e}}s=a=cr(a,l),ce!==4&&(ce=2),qr===null?qr=[s]:qr.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=dp(s,a,e);ld(s,g);break e;case 1:l=a;var p=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Gt===null||!Gt.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=fp(s,l,e);ld(s,w);break e}}s=s.return}while(s!==null)}Ap(n)}catch(N){e=N,oe===n&&n!==null&&(oe=n=n.return);continue}break}while(!0)}function Rp(){var t=Qs.current;return Qs.current=Gs,t===null?Gs:t}function Mu(){(ce===0||ce===3||ce===2)&&(ce=4),pe===null||!(kn&268435455)&&!(ko&268435455)||Lt(pe,_e)}function qs(t,e){var n=z;z|=2;var r=Rp();(pe!==t||_e!==e)&&(mt=null,wn(t,e));do try{Iv();break}catch(i){Tp(t,i)}while(!0);if(mu(),z=n,Qs.current=r,oe!==null)throw Error(C(261));return pe=null,_e=0,ce}function Iv(){for(;oe!==null;)Pp(oe)}function Tv(){for(;oe!==null&&!Jg();)Pp(oe)}function Pp(t){var e=Mp(t.alternate,t,Fe);t.memoizedProps=t.pendingProps,e===null?Ap(t):oe=e,Tu.current=null}function Ap(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Cv(n,e),n!==null){n.flags&=32767,oe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ce=6,oe=null;return}}else if(n=wv(n,e,Fe),n!==null){oe=n;return}if(e=e.sibling,e!==null){oe=e;return}oe=e=t}while(e!==null);ce===0&&(ce=5)}function hn(t,e,n){var r=W,i=Qe.transition;try{Qe.transition=null,W=1,Rv(t,e,n,r)}finally{Qe.transition=i,W=r}return null}function Rv(t,e,n,r){do nr();while(Ft!==null);if(z&6)throw Error(C(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(u_(t,s),t===pe&&(oe=pe=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||us||(us=!0,Op(As,function(){return nr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Qe.transition,Qe.transition=null;var o=W;W=1;var l=z;z|=4,Tu.current=null,Sv(t,n),Np(n,t),K_(Jl),Ms=!!Zl,Jl=Zl=null,t.current=n,xv(n),e_(),z=l,W=o,Qe.transition=s}else t.current=n;if(us&&(us=!1,Ft=t,Ks=i),s=t.pendingLanes,s===0&&(Gt=null),r_(n.stateNode),je(t,se()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ys)throw Ys=!1,t=ya,ya=null,t;return Ks&1&&t.tag!==0&&nr(),s=t.pendingLanes,s&1?t===wa?Xr++:(Xr=0,wa=t):Xr=0,an(),null}function nr(){if(Ft!==null){var t=dh(Ks),e=Qe.transition,n=W;try{if(Qe.transition=null,W=16>t?16:t,Ft===null)var r=!1;else{if(t=Ft,Ft=null,Ks=0,z&6)throw Error(C(331));var i=z;for(z|=4,T=t.current;T!==null;){var s=T,o=s.child;if(T.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(T=u;T!==null;){var f=T;switch(f.tag){case 0:case 11:case 15:Kr(8,f,s)}var d=f.child;if(d!==null)d.return=f,T=d;else for(;T!==null;){f=T;var h=f.sibling,m=f.return;if(Ep(f),f===u){T=null;break}if(h!==null){h.return=m,T=h;break}T=m}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var A=y.sibling;y.sibling=null,y=A}while(y!==null)}}T=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,T=o;else e:for(;T!==null;){if(s=T,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Kr(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,T=g;break e}T=s.return}}var p=t.current;for(T=p;T!==null;){o=T;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,T=_;else e:for(o=p;T!==null;){if(l=T,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:No(9,l)}}catch(N){ne(l,l.return,N)}if(l===o){T=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,T=w;break e}T=l.return}}if(z=i,an(),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(_o,t)}catch{}r=!0}return r}finally{W=n,Qe.transition=e}}return!1}function Td(t,e,n){e=cr(n,e),e=dp(t,e,1),t=$t(t,e,1),e=ke(),t!==null&&(Mi(t,1,e),je(t,e))}function ne(t,e,n){if(t.tag===3)Td(t,t,n);else for(;e!==null;){if(e.tag===3){Td(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gt===null||!Gt.has(r))){t=cr(n,t),t=fp(e,t,1),e=$t(e,t,1),t=ke(),e!==null&&(Mi(e,1,t),je(e,t));break}}e=e.return}}function Pv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ke(),t.pingedLanes|=t.suspendedLanes&n,pe===t&&(_e&n)===n&&(ce===4||ce===3&&(_e&130023424)===_e&&500>se()-Pu?wn(t,0):Ru|=n),je(t,e)}function Dp(t,e){e===0&&(t.mode&1?(e=Ji,Ji<<=1,!(Ji&130023424)&&(Ji=4194304)):e=1);var n=ke();t=xt(t,e),t!==null&&(Mi(t,e,n),je(t,n))}function Av(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Dp(t,n)}function Dv(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(e),Dp(t,n)}var Mp;Mp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Oe.current)De=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return De=!1,yv(t,e,n);De=!!(t.flags&131072)}else De=!1,X&&e.flags&1048576&&Fh(e,Bs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ss(t,e),t=e.pendingProps;var i=or(e,Se.current);tr(e,n),i=Su(null,e,r,t,i,n);var s=xu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Le(r)?(s=!0,bs(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vu(e),i.updater=xo,e.stateNode=i,i._reactInternals=e,aa(e,r,t,n),e=da(null,e,r,!0,s,n)):(e.tag=0,X&&s&&du(e),xe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ss(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Ov(r),t=Je(r,t),i){case 0:e=ca(null,e,r,t,n);break e;case 1:e=vd(null,e,r,t,n);break e;case 11:e=gd(null,e,r,t,n);break e;case 14:e=_d(null,e,r,Je(r.type,t),n);break e}throw Error(C(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Je(r,i),ca(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Je(r,i),vd(t,e,r,i,n);case 3:e:{if(gp(e),t===null)throw Error(C(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Vh(t,e),Vs(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=cr(Error(C(423)),e),e=yd(t,e,r,n,i);break e}else if(r!==i){i=cr(Error(C(424)),e),e=yd(t,e,r,n,i);break e}else for(be=Ht(e.stateNode.containerInfo.firstChild),ze=e,X=!0,tt=null,n=Uh(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lr(),r===i){e=Nt(t,e,n);break e}xe(t,e,r,n)}e=e.child}return e;case 5:return Hh(e),t===null&&sa(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ea(r,i)?o=null:s!==null&&ea(r,s)&&(e.flags|=32),mp(t,e),xe(t,e,o,n),e.child;case 6:return t===null&&sa(e),null;case 13:return _p(t,e,n);case 4:return yu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ar(e,null,r,n):xe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Je(r,i),gd(t,e,r,i,n);case 7:return xe(t,e,e.pendingProps,n),e.child;case 8:return xe(t,e,e.pendingProps.children,n),e.child;case 12:return xe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Q(Us,r._currentValue),r._currentValue=o,s!==null)if(lt(s.value,o)){if(s.children===i.children&&!Oe.current){e=Nt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=wt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),oa(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(C(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),oa(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}xe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,tr(e,n),i=Ye(i),r=r(i),e.flags|=1,xe(t,e,r,n),e.child;case 14:return r=e.type,i=Je(r,e.pendingProps),i=Je(r.type,i),_d(t,e,r,i,n);case 15:return hp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Je(r,i),Ss(t,e),e.tag=1,Le(r)?(t=!0,bs(e)):t=!1,tr(e,n),cp(e,r,i),aa(e,r,i,n),da(null,e,r,!0,t,n);case 19:return vp(t,e,n);case 22:return pp(t,e,n)}throw Error(C(156,e.tag))};function Op(t,e){return lh(t,e)}function Mv(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $e(t,e,n,r){return new Mv(t,e,n,r)}function Ou(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ov(t){if(typeof t=="function")return Ou(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ja)return 11;if(t===eu)return 14}return 2}function Yt(t,e){var n=t.alternate;return n===null?(n=$e(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ks(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ou(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zn:return Cn(n.children,i,s,e);case Za:o=8,i|=8;break;case Dl:return t=$e(12,n,e,i|2),t.elementType=Dl,t.lanes=s,t;case Ml:return t=$e(13,n,e,i),t.elementType=Ml,t.lanes=s,t;case Ol:return t=$e(19,n,e,i),t.elementType=Ol,t.lanes=s,t;case Hf:return Io(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Wf:o=10;break e;case Vf:o=9;break e;case Ja:o=11;break e;case eu:o=14;break e;case Dt:o=16,r=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=$e(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Cn(t,e,n,r){return t=$e(7,t,r,e),t.lanes=n,t}function Io(t,e,n,r){return t=$e(22,t,r,e),t.elementType=Hf,t.lanes=n,t.stateNode={isHidden:!1},t}function _l(t,e,n){return t=$e(6,t,null,e),t.lanes=n,t}function vl(t,e,n){return e=$e(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Lv(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zo(0),this.expirationTimes=Zo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zo(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lu(t,e,n,r,i,s,o,l,a){return t=new Lv(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=$e(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vu(s),t}function jv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Lp(t){if(!t)return en;t=t._reactInternals;e:{if(Dn(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Le(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var n=t.type;if(Le(n))return Lh(t,n,e)}return e}function jp(t,e,n,r,i,s,o,l,a){return t=Lu(n,r,!0,t,i,s,o,l,a),t.context=Lp(null),n=t.current,r=ke(),i=Qt(n),s=wt(r,i),s.callback=e??null,$t(n,s,i),t.current.lanes=i,Mi(t,i,r),je(t,r),t}function To(t,e,n,r){var i=e.current,s=ke(),o=Qt(i);return n=Lp(n),e.context===null?e.context=n:e.pendingContext=n,e=wt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$t(i,e,o),t!==null&&(st(t,i,o,s),ws(t,i,o)),o}function Xs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Rd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ju(t,e){Rd(t,e),(t=t.alternate)&&Rd(t,e)}function Fv(){return null}var Fp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fu(t){this._internalRoot=t}Ro.prototype.render=Fu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));To(t,e,null,null)};Ro.prototype.unmount=Fu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;In(function(){To(null,t,null,null)}),e[St]=null}};function Ro(t){this._internalRoot=t}Ro.prototype.unstable_scheduleHydration=function(t){if(t){var e=ph();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ot.length&&e!==0&&e<Ot[n].priority;n++);Ot.splice(n,0,t),n===0&&gh(t)}};function bu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Po(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Pd(){}function bv(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Xs(o);s.call(u)}}var o=jp(e,r,t,0,null,!1,!1,"",Pd);return t._reactRootContainer=o,t[St]=o.current,di(t.nodeType===8?t.parentNode:t),In(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Xs(a);l.call(u)}}var a=Lu(t,0,!1,null,null,!1,!1,"",Pd);return t._reactRootContainer=a,t[St]=a.current,di(t.nodeType===8?t.parentNode:t),In(function(){To(e,a,n,r)}),a}function Ao(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Xs(o);l.call(a)}}To(e,o,t,i)}else o=bv(n,e,t,i,r);return Xs(o)}fh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ur(e.pendingLanes);n!==0&&(ru(e,n|1),je(e,se()),!(z&6)&&(dr=se()+500,an()))}break;case 13:In(function(){var r=xt(t,1);if(r!==null){var i=ke();st(r,t,1,i)}}),ju(t,1)}};iu=function(t){if(t.tag===13){var e=xt(t,134217728);if(e!==null){var n=ke();st(e,t,134217728,n)}ju(t,134217728)}};hh=function(t){if(t.tag===13){var e=Qt(t),n=xt(t,e);if(n!==null){var r=ke();st(n,t,e,r)}ju(t,e)}};ph=function(){return W};mh=function(t,e){var n=W;try{return W=t,e()}finally{W=n}};Hl=function(t,e,n){switch(e){case"input":if(Fl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Co(r);if(!i)throw Error(C(90));Gf(r),Fl(r,i)}}}break;case"textarea":Yf(t,n);break;case"select":e=n.value,e!=null&&Xn(t,!!n.multiple,e,!1)}};th=Au;nh=In;var zv={usingClientEntryPoint:!1,Events:[Li,Vn,Co,Jf,eh,Au]},Or={findFiberByHostInstance:gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bv={bundleType:Or.bundleType,version:Or.version,rendererPackageName:Or.rendererPackageName,rendererConfig:Or.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sh(t),t===null?null:t.stateNode},findFiberByHostInstance:Or.findFiberByHostInstance||Fv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cs.isDisabled&&cs.supportsFiber)try{_o=cs.inject(Bv),dt=cs}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zv;Ue.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bu(e))throw Error(C(200));return jv(t,e,null,n)};Ue.createRoot=function(t,e){if(!bu(t))throw Error(C(299));var n=!1,r="",i=Fp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Lu(t,1,!1,null,null,n,!1,r,i),t[St]=e.current,di(t.nodeType===8?t.parentNode:t),new Fu(e)};Ue.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=sh(e),t=t===null?null:t.stateNode,t};Ue.flushSync=function(t){return In(t)};Ue.hydrate=function(t,e,n){if(!Po(e))throw Error(C(200));return Ao(null,t,e,!0,n)};Ue.hydrateRoot=function(t,e,n){if(!bu(t))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Fp;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=jp(e,null,t,1,n??null,i,!1,s,o),t[St]=e.current,di(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ro(e)};Ue.render=function(t,e,n){if(!Po(e))throw Error(C(200));return Ao(null,t,e,!1,n)};Ue.unmountComponentAtNode=function(t){if(!Po(t))throw Error(C(40));return t._reactRootContainer?(In(function(){Ao(null,null,t,!1,function(){t._reactRootContainer=null,t[St]=null})}),!0):!1};Ue.unstable_batchedUpdates=Au;Ue.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Po(n))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return Ao(t,e,n,!1,r)};Ue.version="18.3.1-next-f1338f8080-20240426";function bp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bp)}catch(t){console.error(t)}}bp(),bf.exports=Ue;var Uv=bf.exports,Ad=Uv;Pl.createRoot=Ad.createRoot,Pl.hydrateRoot=Ad.hydrateRoot;function Wv(){return c.jsxs("section",{className:"hero",children:[c.jsx("div",{className:"planet planet-1",children:c.jsxs("svg",{viewBox:"0 0 100 100",className:"planet-svg",children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"planet1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#ff6b9d"}),c.jsx("stop",{offset:"100%",stopColor:"#c44569"})]})}),c.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"url(#planet1)"}),c.jsx("ellipse",{cx:"50",cy:"50",rx:"60",ry:"12",fill:"none",stroke:"rgba(255,255,255,0.3)",strokeWidth:"3"})]})}),c.jsx("div",{className:"planet planet-2",children:c.jsxs("svg",{viewBox:"0 0 80 80",className:"planet-svg",children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"planet2",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#ffd700"}),c.jsx("stop",{offset:"100%",stopColor:"#ff8c42"})]})}),c.jsx("circle",{cx:"40",cy:"40",r:"35",fill:"url(#planet2)"})]})}),c.jsx("div",{className:"planet planet-3",children:c.jsxs("svg",{viewBox:"0 0 60 60",className:"planet-svg",children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"planet3",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#74b9ff"}),c.jsx("stop",{offset:"100%",stopColor:"#0984e3"})]})}),c.jsx("circle",{cx:"30",cy:"30",r:"25",fill:"url(#planet3)"})]})}),c.jsx("div",{className:"rocket-container",children:c.jsxs("svg",{viewBox:"0 0 100 200",className:"rocket-svg",children:[c.jsxs("g",{className:"rocket-flame",children:[c.jsx("ellipse",{cx:"50",cy:"180",rx:"12",ry:"25",fill:"#ff6b35",opacity:"0.9"}),c.jsx("ellipse",{cx:"50",cy:"175",rx:"8",ry:"18",fill:"#ffd700"}),c.jsx("ellipse",{cx:"50",cy:"170",rx:"4",ry:"10",fill:"#fff"})]}),c.jsx("path",{d:"M50 10 L70 60 L70 130 L60 140 L40 140 L30 130 L30 60 Z",fill:"url(#rocketBody)"}),c.jsx("defs",{children:c.jsxs("linearGradient",{id:"rocketBody",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[c.jsx("stop",{offset:"0%",stopColor:"#e0e0e0"}),c.jsx("stop",{offset:"50%",stopColor:"#ffffff"}),c.jsx("stop",{offset:"100%",stopColor:"#c0c0c0"})]})}),c.jsx("path",{d:"M50 10 L65 45 L35 45 Z",fill:"#ff6b9d"}),c.jsx("circle",{cx:"50",cy:"70",r:"12",fill:"#74b9ff",stroke:"#2d3436",strokeWidth:"3"}),c.jsx("circle",{cx:"47",cy:"67",r:"4",fill:"rgba(255,255,255,0.6)"}),c.jsx("path",{d:"M30 110 L15 145 L30 135 Z",fill:"#ff8c42"}),c.jsx("path",{d:"M70 110 L85 145 L70 135 Z",fill:"#ff8c42"}),c.jsx("rect",{x:"35",y:"95",width:"30",height:"8",fill:"#ff6b9d"})]})}),c.jsxs("div",{className:"hero-content",children:[c.jsx("p",{className:"hero-invite",children:"You're invited to"}),c.jsx("h1",{children:"Hilde's Space Mission"}),c.jsxs("div",{className:"age-badge",children:[c.jsx("span",{className:"age-number",children:"5"}),c.jsx("span",{className:"age-text",children:"years around the sun!"})]})]}),c.jsx("div",{className:"astronaut-float",children:c.jsxs("svg",{viewBox:"0 0 100 140",className:"astronaut-svg",children:[c.jsx("rect",{x:"30",y:"45",width:"40",height:"50",rx:"5",fill:"#636e72"}),c.jsx("ellipse",{cx:"50",cy:"80",rx:"25",ry:"30",fill:"white"}),c.jsx("circle",{cx:"50",cy:"35",r:"28",fill:"white"}),c.jsx("ellipse",{cx:"50",cy:"38",rx:"20",ry:"18",fill:"#74b9ff",opacity:"0.8"}),c.jsx("ellipse",{cx:"45",cy:"33",rx:"6",ry:"4",fill:"rgba(255,255,255,0.5)"}),c.jsx("ellipse",{cx:"20",cy:"75",rx:"10",ry:"15",fill:"white"}),c.jsx("ellipse",{cx:"80",cy:"75",rx:"10",ry:"15",fill:"white"}),c.jsx("ellipse",{cx:"38",cy:"115",rx:"10",ry:"18",fill:"white"}),c.jsx("ellipse",{cx:"62",cy:"115",rx:"10",ry:"18",fill:"white"}),c.jsx("ellipse",{cx:"50",cy:"55",rx:"25",ry:"5",fill:"#dfe6e9"})]})})]})}const Vv=new Date("2026-02-08T10:00:00-05:00"),Hv="Stamford Museum & Nature Center - Planetarium",Dd="39 Scofieldtown Rd, Stamford, CT 06903",$v="https://maps.google.com/?q=Stamford+Museum+Nature+Center+Planetarium+39+Scofieldtown+Rd+Stamford+CT";function Gv(){const[t,e]=M.useState(n());function n(){const i=Vv-new Date;return i<=0?{days:0,hours:0,minutes:0,seconds:0,expired:!0}:{days:Math.floor(i/(1e3*60*60*24)),hours:Math.floor(i/(1e3*60*60)%24),minutes:Math.floor(i/(1e3*60)%60),seconds:Math.floor(i/1e3%60),expired:!1}}return M.useEffect(()=>{const r=setInterval(()=>{e(n())},1e3);return()=>clearInterval(r)},[]),t.expired?c.jsx("div",{className:"countdown countdown-expired",children:c.jsx("span",{className:"countdown-title",children:"Liftoff!"})}):c.jsxs("div",{className:"countdown",children:[c.jsx("span",{className:"countdown-title",children:"T-Minus"}),c.jsxs("div",{className:"countdown-units",children:[c.jsxs("div",{className:"countdown-unit",children:[c.jsx("span",{className:"countdown-number",children:t.days}),c.jsx("span",{className:"countdown-label",children:"days"})]}),c.jsxs("div",{className:"countdown-unit",children:[c.jsx("span",{className:"countdown-number",children:t.hours}),c.jsx("span",{className:"countdown-label",children:"hrs"})]}),c.jsxs("div",{className:"countdown-unit",children:[c.jsx("span",{className:"countdown-number",children:t.minutes}),c.jsx("span",{className:"countdown-label",children:"min"})]}),c.jsxs("div",{className:"countdown-unit",children:[c.jsx("span",{className:"countdown-number",children:t.seconds}),c.jsx("span",{className:"countdown-label",children:"sec"})]})]})]})}function Qv(){const t="Hilde's 5th Birthday - Space Mission!",e="Join us for an out-of-this-world birthday celebration at the Planetarium!",n="20260208T150000Z",r="20260208T180000Z",i=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(t)}&dates=${n}/${r}&details=${encodeURIComponent(e)}&location=${encodeURIComponent(Dd)}`,s=()=>{const o=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Hilde Birthday//EN
BEGIN:VEVENT
DTSTART:${n}
DTEND:${r}
SUMMARY:${t}
DESCRIPTION:${e}
LOCATION:${Dd}
END:VEVENT
END:VCALENDAR`,l=new Blob([o],{type:"text/calendar;charset=utf-8"}),a=document.createElement("a");a.href=URL.createObjectURL(l),a.download="hilde-birthday.ics",document.body.appendChild(a),a.click(),document.body.removeChild(a)};return c.jsxs("div",{className:"calendar-buttons",children:[c.jsxs("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"calendar-btn google",children:[c.jsx("svg",{viewBox:"0 0 24 24",className:"calendar-icon",children:c.jsx("path",{fill:"currentColor",d:"M19,4H17V3a1,1,0,0,0-2,0V4H9V3A1,1,0,0,0,7,3V4H5A2,2,0,0,0,3,6V20a2,2,0,0,0,2,2H19a2,2,0,0,0,2-2V6A2,2,0,0,0,19,4Zm0,16H5V10H19ZM9,14H7V12H9Zm4,0H11V12h2Zm4,0H15V12h2Zm-8,4H7V16H9Zm4,0H11V16h2Zm4,0H15V16h2Z"})}),"Google Calendar"]}),c.jsxs("button",{onClick:s,className:"calendar-btn ics",children:[c.jsx("svg",{viewBox:"0 0 24 24",className:"calendar-icon",children:c.jsx("path",{fill:"currentColor",d:"M19,4H17V3a1,1,0,0,0-2,0V4H9V3A1,1,0,0,0,7,3V4H5A2,2,0,0,0,3,6V20a2,2,0,0,0,2,2H19a2,2,0,0,0,2-2V6A2,2,0,0,0,19,4Zm0,16H5V10H19ZM9,14H7V12H9Zm4,0H11V12h2Zm4,0H15V12h2Zm-8,4H7V16H9Zm4,0H11V16h2Zm4,0H15V16h2Z"})}),"Apple / Outlook"]})]})}function Yv(){return c.jsxs("section",{className:"details",children:[c.jsx("h2",{children:"Mission Briefing"}),c.jsx(Gv,{}),c.jsxs("div",{className:"detail-cards",children:[c.jsxs("div",{className:"detail-card",children:[c.jsx("span",{className:"icon",role:"img","aria-label":"calendar",children:""}),c.jsx("h3",{children:"Launch Date"}),c.jsx("p",{children:"Saturday, February 8th, 2026"})]}),c.jsxs("div",{className:"detail-card",children:[c.jsx("span",{className:"icon",role:"img","aria-label":"clock",children:""}),c.jsx("h3",{children:"Countdown Begins"}),c.jsx("p",{children:"10:00 AM"})]}),c.jsxs("div",{className:"detail-card location-card",children:[c.jsx("span",{className:"icon",role:"img","aria-label":"location",children:""}),c.jsx("h3",{children:"Mission Control"}),c.jsx("p",{children:Hv.split(" - ")[0]}),c.jsx("p",{className:"address",children:"Planetarium"}),c.jsx("p",{className:"address",children:"39 Scofieldtown Rd, Stamford, CT"}),c.jsxs("a",{href:$v,target:"_blank",rel:"noopener noreferrer",className:"maps-link",children:[c.jsx("svg",{viewBox:"0 0 24 24",className:"maps-icon",children:c.jsx("path",{fill:"currentColor",d:"M12,2C8.13,2,5,5.13,5,9c0,5.25,7,13,7,13s7-7.75,7-13C19,5.13,15.87,2,12,2zm0,9.5c-1.38,0-2.5-1.12-2.5-2.5s1.12-2.5,2.5-2.5s2.5,1.12,2.5,2.5S13.38,11.5,12,11.5z"})}),"Open in Maps"]})]})]}),c.jsx(Qv,{})]})}var Md={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E=function(t,e){if(!t)throw wr(e)},wr=function(t){return new Error("Firebase Database ("+zp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Kv=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},zu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,f=s>>2,d=(s&3)<<4|l>>4;let h=(l&15)<<2|u>>6,m=u&63;a||(m=64,o||(h=64)),r.push(n[f],n[d],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Bp(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Kv(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||d==null)throw new qv;const h=s<<2|l>>4;if(r.push(h),u!==64){const m=l<<4&240|u>>2;if(r.push(m),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Up=function(t){const e=Bp(t);return zu.encodeByteArray(e,!0)},Zs=function(t){return Up(t).replace(/\./g,"")},Sa=function(t){try{return zu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t){return Wp(void 0,t)}function Wp(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Zv(n)||(t[n]=Wp(t[n],e[n]));return t}function Zv(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey=()=>Jv().__FIREBASE_DEFAULTS__,ty=()=>{if(typeof process>"u"||typeof Md>"u")return;const t=Md.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ny=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Sa(t[1]);return e&&JSON.parse(e)},Vp=()=>{try{return ey()||ty()||ny()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ry=t=>{var e,n;return(n=(e=Vp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},iy=t=>{const e=ry(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Hp=()=>{var t;return(t=Vp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zs(JSON.stringify(n)),Zs(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $p(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oy())}function ly(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ay(){return zp.NODE_ADMIN===!0}function uy(){try{return typeof indexedDB=="object"}catch{return!1}}function cy(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="FirebaseError";class bi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dy,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gp.prototype.create)}}class Gp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?fy(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new bi(i,l,r)}}function fy(t,e){return t.replace(hy,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const hy=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t){return JSON.parse(t)}function ue(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=wi(Sa(s[0])||""),n=wi(Sa(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},py=function(t){const e=Qp(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},my=function(t){const e=Qp(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function fr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Od(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Js(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function xa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Ld(s)&&Ld(o)){if(!xa(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ld(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,f;for(let d=0;d<80;d++){d<40?d<20?(u=l^s&(o^l),f=1518500249):(u=s^o^l,f=1859775393):d<60?(u=s&o|l&(s|o),f=2400959708):(u=s^o^l,f=3395469782);const h=(i<<5|i>>>27)+u+a+f+r[d]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Do(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,E(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Mo=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t){return t&&t._delegate?t._delegate:t}class Ci{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Fi;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Cy(e))try{this.getOrInitializeService({instanceIdentifier:pn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=pn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pn){return this.instances.has(e)}getOptions(e=pn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wy(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pn){return this.component?this.component.multipleInstances?e:pn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wy(t){return t===pn?void 0:t}function Cy(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($||($={}));const Sy={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},xy=$.INFO,Ny={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},ky=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Ny[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yp{constructor(e){this.name=e,this._logLevel=xy,this._logHandler=ky,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Sy[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...e),this._logHandler(this,$.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...e),this._logHandler(this,$.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$.INFO,...e),this._logHandler(this,$.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$.WARN,...e),this._logHandler(this,$.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...e),this._logHandler(this,$.ERROR,...e)}}const Iy=(t,e)=>e.some(n=>t instanceof n);let jd,Fd;function Ty(){return jd||(jd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ry(){return Fd||(Fd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kp=new WeakMap,Na=new WeakMap,qp=new WeakMap,yl=new WeakMap,Bu=new WeakMap;function Py(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Kt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Kp.set(n,t)}).catch(()=>{}),Bu.set(e,t),e}function Ay(t){if(Na.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Na.set(t,e)}let ka={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Na.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qp.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Dy(t){ka=t(ka)}function My(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wl(this),e,...n);return qp.set(r,e.sort?e.sort():[e]),Kt(r)}:Ry().includes(t)?function(...e){return t.apply(wl(this),e),Kt(Kp.get(this))}:function(...e){return Kt(t.apply(wl(this),e))}}function Oy(t){return typeof t=="function"?My(t):(t instanceof IDBTransaction&&Ay(t),Iy(t,Ty())?new Proxy(t,ka):t)}function Kt(t){if(t instanceof IDBRequest)return Py(t);if(yl.has(t))return yl.get(t);const e=Oy(t);return e!==t&&(yl.set(t,e),Bu.set(e,t)),e}const wl=t=>Bu.get(t);function Ly(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Kt(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Kt(o.result),a.oldVersion,a.newVersion,Kt(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const jy=["get","getKey","getAll","getAllKeys","count"],Fy=["put","add","delete","clear"],Cl=new Map;function bd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cl.get(e))return Cl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Fy.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jy.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return Cl.set(e,s),s}Dy(t=>({...t,get:(e,n,r)=>bd(e,n)||t.get(e,n,r),has:(e,n)=>!!bd(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zy(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zy(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ia="@firebase/app",zd="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kt=new Yp("@firebase/app"),By="@firebase/app-compat",Uy="@firebase/analytics-compat",Wy="@firebase/analytics",Vy="@firebase/app-check-compat",Hy="@firebase/app-check",$y="@firebase/auth",Gy="@firebase/auth-compat",Qy="@firebase/database",Yy="@firebase/data-connect",Ky="@firebase/database-compat",qy="@firebase/functions",Xy="@firebase/functions-compat",Zy="@firebase/installations",Jy="@firebase/installations-compat",e0="@firebase/messaging",t0="@firebase/messaging-compat",n0="@firebase/performance",r0="@firebase/performance-compat",i0="@firebase/remote-config",s0="@firebase/remote-config-compat",o0="@firebase/storage",l0="@firebase/storage-compat",a0="@firebase/firestore",u0="@firebase/vertexai-preview",c0="@firebase/firestore-compat",d0="firebase",f0="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]",h0={[Ia]:"fire-core",[By]:"fire-core-compat",[Wy]:"fire-analytics",[Uy]:"fire-analytics-compat",[Hy]:"fire-app-check",[Vy]:"fire-app-check-compat",[$y]:"fire-auth",[Gy]:"fire-auth-compat",[Qy]:"fire-rtdb",[Yy]:"fire-data-connect",[Ky]:"fire-rtdb-compat",[qy]:"fire-fn",[Xy]:"fire-fn-compat",[Zy]:"fire-iid",[Jy]:"fire-iid-compat",[e0]:"fire-fcm",[t0]:"fire-fcm-compat",[n0]:"fire-perf",[r0]:"fire-perf-compat",[i0]:"fire-rc",[s0]:"fire-rc-compat",[o0]:"fire-gcs",[l0]:"fire-gcs-compat",[a0]:"fire-fst",[c0]:"fire-fst-compat",[u0]:"fire-vertex","fire-js":"fire-js",[d0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=new Map,p0=new Map,Ra=new Map;function Bd(t,e){try{t.container.addComponent(e)}catch(n){kt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function to(t){const e=t.name;if(Ra.has(e))return kt.debug(`There were multiple attempts to register component ${e}.`),!1;Ra.set(e,t);for(const n of eo.values())Bd(n,t);for(const n of p0.values())Bd(n,t);return!0}function m0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qt=new Gp("app","Firebase",g0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qt.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=f0;function Xp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ta,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qt.create("bad-app-name",{appName:String(i)});if(n||(n=Hp()),!n)throw qt.create("no-options");const s=eo.get(i);if(s){if(xa(n,s.options)&&xa(r,s.config))return s;throw qt.create("duplicate-app",{appName:i})}const o=new Ey(i);for(const a of Ra.values())o.addComponent(a);const l=new _0(n,r,o);return eo.set(i,l),l}function y0(t=Ta){const e=eo.get(t);if(!e&&t===Ta&&Hp())return Xp();if(!e)throw qt.create("no-app",{appName:t});return e}function rr(t,e,n){var r;let i=(r=h0[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kt.warn(l.join(" "));return}to(new Ci(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="firebase-heartbeat-database",C0=1,Ei="firebase-heartbeat-store";let El=null;function Zp(){return El||(El=Ly(w0,C0,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ei)}catch(n){console.warn(n)}}}}).catch(t=>{throw qt.create("idb-open",{originalErrorMessage:t.message})})),El}async function E0(t){try{const n=(await Zp()).transaction(Ei),r=await n.objectStore(Ei).get(Jp(t));return await n.done,r}catch(e){if(e instanceof bi)kt.warn(e.message);else{const n=qt.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});kt.warn(n.message)}}}async function Ud(t,e){try{const r=(await Zp()).transaction(Ei,"readwrite");await r.objectStore(Ei).put(e,Jp(t)),await r.done}catch(n){if(n instanceof bi)kt.warn(n.message);else{const r=qt.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});kt.warn(r.message)}}}function Jp(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=1024,x0=30*24*60*60*1e3;class N0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new I0(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Wd();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=x0}),this._storage.overwrite(this._heartbeatsCache))}catch(r){kt.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Wd(),{heartbeatsToSend:r,unsentEntries:i}=k0(this._heartbeatsCache.heartbeats),s=Zs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return kt.warn(n),""}}}function Wd(){return new Date().toISOString().substring(0,10)}function k0(t,e=S0){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Vd(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Vd(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class I0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uy()?cy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await E0(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ud(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ud(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Vd(t){return Zs(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t){to(new Ci("platform-logger",e=>new by(e),"PRIVATE")),to(new Ci("heartbeat",e=>new N0(e),"PRIVATE")),rr(Ia,zd,t),rr(Ia,zd,"esm2017"),rr("fire-js","")}T0("");var Hd={};const $d="@firebase/database",Gd="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let em="";function R0(t){em=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ue(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:wi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ht(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new P0(e)}}catch{}return new A0},yn=tm("localStorage"),D0=tm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new Yp("@firebase/database"),M0=function(){let t=1;return function(){return t++}}(),nm=function(t){const e=vy(t),n=new _y;n.update(e);const r=n.digest();return zu.encodeByteArray(r)},zi=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=zi.apply(null,r):typeof r=="object"?e+=ue(r):e+=r,e+=" "}return e};let Zr=null,Qd=!0;const O0=function(t,e){E(!0,"Can't turn on custom loggers persistently."),ir.logLevel=$.VERBOSE,Zr=ir.log.bind(ir)},ge=function(...t){if(Qd===!0&&(Qd=!1,Zr===null&&D0.get("logging_enabled")===!0&&O0()),Zr){const e=zi.apply(null,t);Zr(e)}},Bi=function(t){return function(...e){ge(t,...e)}},Pa=function(...t){const e="FIREBASE INTERNAL ERROR: "+zi(...t);ir.error(e)},It=function(...t){const e=`FIREBASE FATAL ERROR: ${zi(...t)}`;throw ir.error(e),new Error(e)},Ie=function(...t){const e="FIREBASE WARNING: "+zi(...t);ir.warn(e)},L0=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ie("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Uu=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},j0=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Tn="[MIN_NAME]",tn="[MAX_NAME]",Mn=function(t,e){if(t===e)return 0;if(t===Tn||e===tn)return-1;if(e===Tn||t===tn)return 1;{const n=Yd(t),r=Yd(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},F0=function(t,e){return t===e?0:t<e?-1:1},Lr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ue(e))},Wu=function(t){if(typeof t!="object"||t===null)return ue(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ue(e[r]),n+=":",n+=Wu(t[e[r]]);return n+="}",n},rm=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ye(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const im=function(t){E(!Uu(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,a;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const f=u.join("");let d="";for(a=0;a<64;a+=8){let h=parseInt(f.substr(a,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},b0=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},z0=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function B0(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const U0=new RegExp("^-?(0*)\\d{1,10}$"),W0=-2147483648,V0=2147483647,Yd=function(t){if(U0.test(t)){const e=Number(t);if(e>=W0&&e<=V0)return e}return null},Cr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ie("Exception was thrown by user callback.",n),e},Math.floor(0))}},H0=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Jr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ie(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ge("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ie(e)}}class Is{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Is.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu="5",sm="v",om="s",lm="r",am="f",um=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,cm="ls",dm="p",Aa="ac",fm="websocket",hm="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=yn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&yn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Q0(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function mm(t,e,n){E(typeof e=="string","typeof type must == string"),E(typeof n=="object","typeof params must == object");let r;if(e===fm)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===hm)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Q0(t)&&(n.ns=t.namespace);const i=[];return ye(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.counters_={}}incrementCounter(e,n=1){ht(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Xv(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl={},xl={};function Hu(t){const e=t.toString();return Sl[e]||(Sl[e]=new Y0),Sl[e]}function K0(t,e){const n=t.toString();return xl[n]||(xl[n]=e()),xl[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Cr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="start",X0="close",Z0="pLPCommand",J0="pRTLPCB",gm="id",_m="pw",vm="ser",ew="cb",tw="seg",nw="ts",rw="d",iw="dframe",ym=1870,wm=30,sw=ym-wm,ow=25e3,lw=3e4;class qn{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bi(e),this.stats_=Hu(n),this.urlFn=a=>(this.appCheckToken&&(a[Aa]=this.appCheckToken),mm(n,hm,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new q0(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(lw)),j0(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $u((...s)=>{const[o,l,a,u,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Kd)this.id=l,this.password=a;else if(o===X0)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Kd]="t",r[vm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[ew]=this.scriptTagHolder.uniqueCallbackIdentifier),r[sm]=Vu,this.transportSessionId&&(r[om]=this.transportSessionId),this.lastSessionId&&(r[cm]=this.lastSessionId),this.applicationId&&(r[dm]=this.applicationId),this.appCheckToken&&(r[Aa]=this.appCheckToken),typeof location<"u"&&location.hostname&&um.test(location.hostname)&&(r[lm]=am);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){qn.forceAllow_=!0}static forceDisallow(){qn.forceDisallow_=!0}static isAvailable(){return qn.forceAllow_?!0:!qn.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!b0()&&!z0()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ue(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Up(n),i=rm(r,sw);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[iw]="t",r[gm]=e,r[_m]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ue(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class $u{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=M0(),window[Z0+this.uniqueCallbackIdentifier]=e,window[J0+this.uniqueCallbackIdentifier]=n,this.myIFrame=$u.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){ge("frame writing exception"),l.stack&&ge(l.stack),ge(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ge("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[gm]=this.myID,e[_m]=this.myPW,e[vm]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+wm+r.length<=ym;){const o=this.pendingSegs.shift();r=r+"&"+tw+i+"="+o.seg+"&"+nw+i+"="+o.ts+"&"+rw+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(ow)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ge("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=16384,uw=45e3;let no=null;typeof MozWebSocket<"u"?no=MozWebSocket:typeof WebSocket<"u"&&(no=WebSocket);class nt{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bi(this.connId),this.stats_=Hu(n),this.connURL=nt.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[sm]=Vu,typeof location<"u"&&location.hostname&&um.test(location.hostname)&&(o[lm]=am),n&&(o[om]=n),r&&(o[cm]=r),i&&(o[Aa]=i),s&&(o[dm]=s),mm(e,fm,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,yn.set("previous_websocket_failure",!0);try{let r;ay(),this.mySock=new no(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){nt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&no!==null&&!nt.forceDisallow_}static previouslyFailed(){return yn.isInMemoryStorage||yn.get("previous_websocket_failure")===!0}markConnectionHealthy(){yn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=wi(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(E(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=ue(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=rm(n,aw);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(uw))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}nt.responsesRequiredToBeHealthy=2;nt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[qn,nt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=nt&&nt.isAvailable();let r=n&&!nt.previouslyFailed();if(e.webSocketOnly&&(n||Ie("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[nt];else{const i=this.transports_=[];for(const s of Si.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Si.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Si.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=6e4,dw=5e3,fw=10*1024,hw=100*1024,Nl="t",qd="d",pw="s",Xd="r",mw="e",Zd="o",Jd="a",ef="n",tf="p",gw="h";class _w{constructor(e,n,r,i,s,o,l,a,u,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bi("c:"+this.id+":"),this.transportManager_=new Si(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Jr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>hw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>fw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Nl in e){const n=e[Nl];n===Jd?this.upgradeIfSecondaryHealthy_():n===Xd?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Zd&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Lr("t",e),r=Lr("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:tf,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Jd,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ef,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Lr("t",e),r=Lr("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Lr(Nl,e);if(qd in e){const r=e[qd];if(n===gw){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===ef){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===pw?this.onConnectionShutdown_(r):n===Xd?this.onReset_(r):n===mw?Pa("Server Error: "+r):n===Zd?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pa("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Vu!==r&&Ie("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Jr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(cw))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Jr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(dw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:tf,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(yn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e){this.allowedEvents_=e,this.listeners_={},E(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){E(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends Em{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!$p()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ro}getInitialEvent(e){return E(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=32,rf=768;class V{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function B(){return new V("")}function L(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function nn(t){return t.pieces_.length-t.pieceNum_}function G(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new V(t.pieces_,e)}function Gu(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function vw(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function xi(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Sm(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new V(e,0)}function re(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof V)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new V(n,0)}function j(t){return t.pieceNum_>=t.pieces_.length}function Ne(t,e){const n=L(t),r=L(e);if(n===null)return e;if(n===r)return Ne(G(t),G(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function yw(t,e){const n=xi(t,0),r=xi(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Mn(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Qu(t,e){if(nn(t)!==nn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ge(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(nn(t)>nn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class ww{constructor(e,n){this.errorPrefix_=n,this.parts_=xi(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Mo(this.parts_[r]);xm(this)}}function Cw(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Mo(e),xm(t)}function Ew(t){const e=t.parts_.pop();t.byteLength_-=Mo(e),t.parts_.length>0&&(t.byteLength_-=1)}function xm(t){if(t.byteLength_>rf)throw new Error(t.errorPrefix_+"has a key path longer than "+rf+" bytes ("+t.byteLength_+").");if(t.parts_.length>nf)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+nf+") or object contains a cycle "+mn(t))}function mn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends Em{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Yu}getInitialEvent(e){return E(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=1e3,Sw=60*5*1e3,sf=30*1e3,xw=1.3,Nw=3e4,kw="server_kill",of=3;class Ct extends Cm{constructor(e,n,r,i,s,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Ct.nextPersistentConnectionId_++,this.log_=Bi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=jr,this.maxReconnectDelay_=Sw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Yu.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ro.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(ue(s)),E(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Fi,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),E(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),E(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;Ct.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ht(e,"w")){const r=fr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ie(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||my(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=sf)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=py(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),E(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ue(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Pa("Unrecognized action received from server: "+ue(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){E(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=jr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=jr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Nw&&(this.reconnectDelay_=jr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*xw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ct.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(d){E(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:u};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?ge("getToken() completed but was canceled"):(ge("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,l=new _w(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,m=>{Ie(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(kw)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Ie(d),a())}}}interrupt(e){ge("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ge("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Od(this.interruptReasons_)&&(this.reconnectDelay_=jr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Wu(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new V(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){ge("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=of&&(this.reconnectDelay_=sf,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ge("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=of&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+em.replace(/\./g,"-")]=1,$p()?e["framework.cordova"]=1:ly()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ro.getInstance().currentlyOnline();return Od(this.interruptReasons_)&&e}}Ct.nextPersistentConnectionId_=0;Ct.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new F(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new F(Tn,e),i=new F(Tn,n);return this.compare(r,i)!==0}minPost(){return F.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ds;class Nm extends Oo{static get __EMPTY_NODE(){return ds}static set __EMPTY_NODE(e){ds=e}compare(e,n){return Mn(e.name,n.name)}isDefinedOn(e){throw wr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return F.MIN}maxPost(){return new F(tn,ds)}makePost(e,n){return E(typeof e=="string","KeyIndex indexValue must always be a string."),new F(e,ds)}toString(){return".key"}}const En=new Nm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class he{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??he.RED,this.left=i??Me.EMPTY_NODE,this.right=s??Me.EMPTY_NODE}copy(e,n,r,i,s){return new he(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Me.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Me.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,he.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,he.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}he.RED=!0;he.BLACK=!1;class Iw{copy(e,n,r,i,s){return this}insert(e,n,r){return new he(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Me{constructor(e,n=Me.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Me(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,he.BLACK,null,null))}remove(e){return new Me(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,he.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new fs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new fs(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new fs(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new fs(this.root_,null,this.comparator_,!0,e)}}Me.EMPTY_NODE=new Iw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(t,e){return Mn(t.name,e.name)}function Ku(t,e){return Mn(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da;function Rw(t){Da=t}const km=function(t){return typeof t=="number"?"number:"+im(t):"string:"+t},Im=function(t){if(t.isLeafNode()){const e=t.val();E(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ht(e,".sv"),"Priority must be a string or number.")}else E(t===Da||t.isEmpty(),"priority of unexpected type.");E(t===Da||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lf;class de{constructor(e,n=de.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,E(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Im(this.priorityNode_)}static set __childrenNodeConstructor(e){lf=e}static get __childrenNodeConstructor(){return lf}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new de(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:de.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return j(e)?this:L(e)===".priority"?this.priorityNode_:de.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:de.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=L(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(E(r!==".priority"||nn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,de.__childrenNodeConstructor.EMPTY_NODE.updateChild(G(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+km(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=im(this.value_):e+=this.value_,this.lazyHash_=nm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===de.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof de.__childrenNodeConstructor?-1:(E(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=de.VALUE_TYPE_ORDER.indexOf(n),s=de.VALUE_TYPE_ORDER.indexOf(r);return E(i>=0,"Unknown leaf type: "+n),E(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}de.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tm,Rm;function Pw(t){Tm=t}function Aw(t){Rm=t}class Dw extends Oo{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Mn(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return F.MIN}maxPost(){return new F(tn,new de("[PRIORITY-POST]",Rm))}makePost(e,n){const r=Tm(e);return new F(n,new de("[PRIORITY-POST]",r))}toString(){return".priority"}}const J=new Dw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=Math.log(2);class Ow{constructor(e){const n=s=>parseInt(Math.log(s)/Mw,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const io=function(t,e,n,r){t.sort(e);const i=function(a,u){const f=u-a;let d,h;if(f===0)return null;if(f===1)return d=t[a],h=n?n(d):d,new he(h,d.node,he.BLACK,null,null);{const m=parseInt(f/2,10)+a,v=i(a,m),y=i(m+1,u);return d=t[m],h=n?n(d):d,new he(h,d.node,he.BLACK,v,y)}},s=function(a){let u=null,f=null,d=t.length;const h=function(v,y){const A=d-v,g=d;d-=v;const p=i(A+1,g),_=t[A],w=n?n(_):_;m(new he(w,_.node,y,null,p))},m=function(v){u?(u.left=v,u=v):(f=v,u=v)};for(let v=0;v<a.count;++v){const y=a.nextBitIsOne(),A=Math.pow(2,a.count-(v+1));y?h(A,he.BLACK):(h(A,he.BLACK),h(A,he.RED))}return f},o=new Ow(t.length),l=s(o);return new Me(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kl;const Fn={};class yt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return E(Fn&&J,"ChildrenNode.ts has not been loaded"),kl=kl||new yt({".priority":Fn},{".priority":J}),kl}get(e){const n=fr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Me?n:null}hasIndex(e){return ht(this.indexSet_,e.toString())}addIndex(e,n){E(e!==En,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(F.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=io(r,e.getCompare()):l=Fn;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const f=Object.assign({},this.indexes_);return f[a]=l,new yt(f,u)}addToIndexes(e,n){const r=Js(this.indexes_,(i,s)=>{const o=fr(this.indexSet_,s);if(E(o,"Missing index implementation for "+s),i===Fn)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(F.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&l.push(u),u=a.getNext();return l.push(e),io(l,o.getCompare())}else return Fn;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new F(e.name,l))),a.insert(e,e.node)}});return new yt(r,this.indexSet_)}removeFromIndexes(e,n){const r=Js(this.indexes_,i=>{if(i===Fn)return i;{const s=n.get(e.name);return s?i.remove(new F(e.name,s)):i}});return new yt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fr;class D{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Im(this.priorityNode_),this.children_.isEmpty()&&E(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Fr||(Fr=new D(new Me(Ku),null,yt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fr}updatePriority(e){return this.children_.isEmpty()?this:new D(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Fr:n}}getChild(e){const n=L(e);return n===null?this:this.getImmediateChild(n).getChild(G(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(E(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new F(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Fr:this.priorityNode_;return new D(i,o,s)}}updateChild(e,n){const r=L(e);if(r===null)return n;{E(L(e)!==".priority"||nn(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(G(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(J,(o,l)=>{n[o]=l.val(e),r++,s&&D.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+km(this.getPriority().val())+":"),this.forEachChild(J,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":nm(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new F(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new F(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new F(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,F.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,F.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ui?-1:0}withIndex(e){if(e===En||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new D(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===En||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(J),i=n.getIterator(J);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===En?null:this.indexMap_.get(e.toString())}}D.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Lw extends D{constructor(){super(new Me(Ku),D.EMPTY_NODE,yt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return D.EMPTY_NODE}isEmpty(){return!1}}const Ui=new Lw;Object.defineProperties(F,{MIN:{value:new F(Tn,D.EMPTY_NODE)},MAX:{value:new F(tn,Ui)}});Nm.__EMPTY_NODE=D.EMPTY_NODE;de.__childrenNodeConstructor=D;Rw(Ui);Aw(Ui);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=!0;function ae(t,e=null){if(t===null)return D.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),E(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new de(n,ae(e))}if(!(t instanceof Array)&&jw){const n=[];let r=!1;if(ye(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=ae(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new F(o,a)))}}),n.length===0)return D.EMPTY_NODE;const s=io(n,Tw,o=>o.name,Ku);if(r){const o=io(n,J.getCompare());return new D(s,ae(e),new yt({".priority":o},{".priority":J}))}else return new D(s,ae(e),yt.Default)}else{let n=D.EMPTY_NODE;return ye(t,(r,i)=>{if(ht(t,r)&&r.substring(0,1)!=="."){const s=ae(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(ae(e))}}Pw(ae);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends Oo{constructor(e){super(),this.indexPath_=e,E(!j(e)&&L(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Mn(e.name,n.name):s}makePost(e,n){const r=ae(e),i=D.EMPTY_NODE.updateChild(this.indexPath_,r);return new F(n,i)}maxPost(){const e=D.EMPTY_NODE.updateChild(this.indexPath_,Ui);return new F(tn,e)}toString(){return xi(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw extends Oo{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Mn(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return F.MIN}maxPost(){return F.MAX}makePost(e,n){const r=ae(e);return new F(n,r)}toString(){return".value"}}const Pm=new Fw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(t){return{type:"value",snapshotNode:t}}function hr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ni(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ki(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function bw(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){E(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Ni(n,l)):E(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(hr(n,r)):o.trackChildChange(ki(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(J,(i,s)=>{n.hasChild(i)||r.trackChildChange(Ni(i,s))}),n.isLeafNode()||n.forEachChild(J,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(ki(i,s,o))}else r.trackChildChange(hr(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?D.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.indexedFilter_=new Xu(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ii.getStartPost_(e),this.endPost_=Ii.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new F(n,r))||(r=D.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=D.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(D.EMPTY_NODE);const s=this;return n.forEachChild(J,(o,l)=>{s.matches(new F(o,l))||(i=i.updateImmediateChild(o,D.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ii(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new F(n,r))||(r=D.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=D.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=D.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(D.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,D.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,m)=>d(m,h)}else o=this.index_.getCompare();const l=e;E(l.numChildren()===this.limit_,"");const a=new F(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),f=this.rangedFilter_.matches(a);if(l.hasChild(n)){const d=l.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||l.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const m=h==null?1:o(h,a);if(f&&!r.isEmpty()&&m>=0)return s!=null&&s.trackChildChange(ki(n,r,d)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Ni(n,d));const y=l.updateImmediateChild(n,D.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(hr(h.name,h.node)),y.updateImmediateChild(h.name,h.node)):y}}else return r.isEmpty()?e:f&&o(u,a)>=0?(s!=null&&(s.trackChildChange(Ni(u.name,u.node)),s.trackChildChange(hr(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,D.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=J}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return E(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return E(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Tn}hasEnd(){return this.endSet_}getIndexEndValue(){return E(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return E(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:tn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return E(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===J}copy(){const e=new Zu;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Bw(t){return t.loadsAllData()?new Xu(t.getIndex()):t.hasLimit()?new zw(t):new Ii(t)}function Uw(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ww(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Vw(t,e){const n=t.copy();return n.index_=e,n}function af(t){const e={};if(t.isDefault())return e;let n;if(t.index_===J?n="$priority":t.index_===Pm?n="$value":t.index_===En?n="$key":(E(t.index_ instanceof qu,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ue(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=ue(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ue(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ue(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ue(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function uf(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==J&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Cm{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Bi("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(E(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=so.getListenId_(e,r),l={};this.listens_[o]=l;const a=af(e._queryParams);this.restRequest_(s+".json",a,(u,f)=>{let d=f;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),fr(this.listens_,o)===l){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=so.getListenId_(e,n);delete this.listens_[r]}get(e){const n=af(e._queryParams),r=e._path.toString(),i=new Fi;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+gy(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=wi(l.responseText)}catch{Ie("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&Ie("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.rootNode_=D.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(){return{value:null,children:new Map}}function Dm(t,e,n){if(j(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=L(e);t.children.has(r)||t.children.set(r,oo());const i=t.children.get(r);e=G(e),Dm(i,e,n)}}function Ma(t,e,n){t.value!==null?n(e,t.value):$w(t,(r,i)=>{const s=new V(e.toString()+"/"+r);Ma(i,s,n)})}function $w(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ye(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=10*1e3,Qw=30*1e3,Yw=5*60*1e3;class Kw{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Gw(e);const r=cf+(Qw-cf)*Math.random();Jr(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ye(e,(i,s)=>{s>0&&ht(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Jr(this.reportStats_.bind(this),Math.floor(Math.random()*2*Yw))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(rt||(rt={}));function Ju(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ec(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function tc(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=rt.ACK_USER_WRITE,this.source=Ju()}operationForChild(e){if(j(this.path)){if(this.affectedTree.value!=null)return E(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new V(e));return new lo(B(),n,this.revert)}}else return E(L(this.path)===e,"operationForChild called for unrelated child."),new lo(G(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n){this.source=e,this.path=n,this.type=rt.LISTEN_COMPLETE}operationForChild(e){return j(this.path)?new Ti(this.source,B()):new Ti(this.source,G(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=rt.OVERWRITE}operationForChild(e){return j(this.path)?new Rn(this.source,B(),this.snap.getImmediateChild(e)):new Rn(this.source,G(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=rt.MERGE}operationForChild(e){if(j(this.path)){const n=this.children.subtree(new V(e));return n.isEmpty()?null:n.value?new Rn(this.source,B(),n.value):new pr(this.source,B(),n)}else return E(L(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new pr(this.source,G(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(j(e))return this.isFullyInitialized()&&!this.filtered_;const n=L(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Xw(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(bw(o.childName,o.snapshotNode))}),br(t,i,"child_removed",e,r,n),br(t,i,"child_added",e,r,n),br(t,i,"child_moved",s,r,n),br(t,i,"child_changed",e,r,n),br(t,i,"value",e,r,n),i}function br(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>Jw(t,l,a)),o.forEach(l=>{const a=Zw(t,l,s);i.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(a,t.query_))})})}function Zw(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Jw(t,e,n){if(e.childName==null||n.childName==null)throw wr("Should only compare child_ events.");const r=new F(e.childName,e.snapshotNode),i=new F(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t,e){return{eventCache:t,serverCache:e}}function ei(t,e,n,r){return Lo(new rn(e,n,r),t.serverCache)}function Mm(t,e,n,r){return Lo(t.eventCache,new rn(e,n,r))}function ao(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Pn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il;const eC=()=>(Il||(Il=new Me(F0)),Il);class H{constructor(e,n=eC()){this.value=e,this.children=n}static fromObject(e){let n=new H(null);return ye(e,(r,i)=>{n=n.set(new V(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:B(),value:this.value};if(j(e))return null;{const r=L(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(G(e),n);return s!=null?{path:re(new V(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(j(e))return this;{const n=L(e),r=this.children.get(n);return r!==null?r.subtree(G(e)):new H(null)}}set(e,n){if(j(e))return new H(n,this.children);{const r=L(e),s=(this.children.get(r)||new H(null)).set(G(e),n),o=this.children.insert(r,s);return new H(this.value,o)}}remove(e){if(j(e))return this.children.isEmpty()?new H(null):new H(null,this.children);{const n=L(e),r=this.children.get(n);if(r){const i=r.remove(G(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new H(null):new H(this.value,s)}else return this}}get(e){if(j(e))return this.value;{const n=L(e),r=this.children.get(n);return r?r.get(G(e)):null}}setTree(e,n){if(j(e))return n;{const r=L(e),s=(this.children.get(r)||new H(null)).setTree(G(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new H(this.value,o)}}fold(e){return this.fold_(B(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(re(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,B(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(j(e))return null;{const s=L(e),o=this.children.get(s);return o?o.findOnPath_(G(e),re(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,B(),n)}foreachOnPath_(e,n,r){if(j(e))return this;{this.value&&r(n,this.value);const i=L(e),s=this.children.get(i);return s?s.foreachOnPath_(G(e),re(n,i),r):new H(null)}}foreach(e){this.foreach_(B(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(re(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.writeTree_=e}static empty(){return new ot(new H(null))}}function ti(t,e,n){if(j(e))return new ot(new H(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Ne(i,e);return s=s.updateChild(o,n),new ot(t.writeTree_.set(i,s))}else{const i=new H(n),s=t.writeTree_.setTree(e,i);return new ot(s)}}}function Oa(t,e,n){let r=t;return ye(n,(i,s)=>{r=ti(r,re(e,i),s)}),r}function df(t,e){if(j(e))return ot.empty();{const n=t.writeTree_.setTree(e,new H(null));return new ot(n)}}function La(t,e){return On(t,e)!=null}function On(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ne(n.path,e)):null}function ff(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(J,(r,i)=>{e.push(new F(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new F(r,i.value))}),e}function Xt(t,e){if(j(e))return t;{const n=On(t,e);return n!=null?new ot(new H(n)):new ot(t.writeTree_.subtree(e))}}function ja(t){return t.writeTree_.isEmpty()}function mr(t,e){return Om(B(),t.writeTree_,e)}function Om(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(E(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Om(re(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(re(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(t,e){return bm(e,t)}function tC(t,e,n,r,i){E(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ti(t.visibleWrites,e,n)),t.lastWriteId=r}function nC(t,e,n,r){E(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Oa(t.visibleWrites,e,n),t.lastWriteId=r}function rC(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function iC(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);E(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&sC(l,r.path)?i=!1:Ge(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return oC(t),!0;if(r.snap)t.visibleWrites=df(t.visibleWrites,r.path);else{const l=r.children;ye(l,a=>{t.visibleWrites=df(t.visibleWrites,re(r.path,a))})}return!0}else return!1}function sC(t,e){if(t.snap)return Ge(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ge(re(t.path,n),e))return!0;return!1}function oC(t){t.visibleWrites=Lm(t.allWrites,lC,B()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function lC(t){return t.visible}function Lm(t,e,n){let r=ot.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)Ge(n,o)?(l=Ne(n,o),r=ti(r,l,s.snap)):Ge(o,n)&&(l=Ne(o,n),r=ti(r,B(),s.snap.getChild(l)));else if(s.children){if(Ge(n,o))l=Ne(n,o),r=Oa(r,l,s.children);else if(Ge(o,n))if(l=Ne(o,n),j(l))r=Oa(r,B(),s.children);else{const a=fr(s.children,L(l));if(a){const u=a.getChild(G(l));r=ti(r,B(),u)}}}else throw wr("WriteRecord should have .snap or .children")}}return r}function jm(t,e,n,r,i){if(!r&&!i){const s=On(t.visibleWrites,e);if(s!=null)return s;{const o=Xt(t.visibleWrites,e);if(ja(o))return n;if(n==null&&!La(o,B()))return null;{const l=n||D.EMPTY_NODE;return mr(o,l)}}}else{const s=Xt(t.visibleWrites,e);if(!i&&ja(s))return n;if(!i&&n==null&&!La(s,B()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ge(u.path,e)||Ge(e,u.path))},l=Lm(t.allWrites,o,e),a=n||D.EMPTY_NODE;return mr(l,a)}}}function aC(t,e,n){let r=D.EMPTY_NODE;const i=On(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(J,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Xt(t.visibleWrites,e);return n.forEachChild(J,(o,l)=>{const a=mr(Xt(s,new V(o)),l);r=r.updateImmediateChild(o,a)}),ff(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Xt(t.visibleWrites,e);return ff(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function uC(t,e,n,r,i){E(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=re(e,n);if(La(t.visibleWrites,s))return null;{const o=Xt(t.visibleWrites,s);return ja(o)?i.getChild(n):mr(o,i.getChild(n))}}function cC(t,e,n,r){const i=re(e,n),s=On(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Xt(t.visibleWrites,i);return mr(o,r.getNode().getImmediateChild(n))}else return null}function dC(t,e){return On(t.visibleWrites,e)}function fC(t,e,n,r,i,s,o){let l;const a=Xt(t.visibleWrites,e),u=On(a,B());if(u!=null)l=u;else if(n!=null)l=mr(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const f=[],d=o.getCompare(),h=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let m=h.getNext();for(;m&&f.length<i;)d(m,r)!==0&&f.push(m),m=h.getNext();return f}else return[]}function hC(){return{visibleWrites:ot.empty(),allWrites:[],lastWriteId:-1}}function uo(t,e,n,r){return jm(t.writeTree,t.treePath,e,n,r)}function nc(t,e){return aC(t.writeTree,t.treePath,e)}function hf(t,e,n,r){return uC(t.writeTree,t.treePath,e,n,r)}function co(t,e){return dC(t.writeTree,re(t.treePath,e))}function pC(t,e,n,r,i,s){return fC(t.writeTree,t.treePath,e,n,r,i,s)}function rc(t,e,n){return cC(t.writeTree,t.treePath,e,n)}function Fm(t,e){return bm(re(t.treePath,e),t.writeTree)}function bm(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;E(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),E(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ki(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Ni(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,hr(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ki(r,e.snapshotNode,i.oldSnap));else throw wr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const zm=new gC;class ic{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new rn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return rc(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Pn(this.viewCache_),s=pC(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t){return{filter:t}}function vC(t,e){E(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),E(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function yC(t,e,n,r,i){const s=new mC;let o,l;if(n.type===rt.OVERWRITE){const u=n;u.source.fromUser?o=Fa(t,e,u.path,u.snap,r,i,s):(E(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!j(u.path),o=fo(t,e,u.path,u.snap,r,i,l,s))}else if(n.type===rt.MERGE){const u=n;u.source.fromUser?o=CC(t,e,u.path,u.children,r,i,s):(E(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=ba(t,e,u.path,u.children,r,i,l,s))}else if(n.type===rt.ACK_USER_WRITE){const u=n;u.revert?o=xC(t,e,u.path,r,i,s):o=EC(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===rt.LISTEN_COMPLETE)o=SC(t,e,n.path,r,s);else throw wr("Unknown operation type: "+n.type);const a=s.getChanges();return wC(e,o,a),{viewCache:o,changes:a}}function wC(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ao(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Am(ao(e)))}}function Bm(t,e,n,r,i,s){const o=e.eventCache;if(co(r,n)!=null)return e;{let l,a;if(j(n))if(E(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Pn(e),f=u instanceof D?u:D.EMPTY_NODE,d=nc(r,f);l=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=uo(r,Pn(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=L(n);if(u===".priority"){E(nn(n)===1,"Can't have a priority with additional path components");const f=o.getNode();a=e.serverCache.getNode();const d=hf(r,n,f,a);d!=null?l=t.filter.updatePriority(f,d):l=o.getNode()}else{const f=G(n);let d;if(o.isCompleteForChild(u)){a=e.serverCache.getNode();const h=hf(r,n,o.getNode(),a);h!=null?d=o.getNode().getImmediateChild(u).updateChild(f,h):d=o.getNode().getImmediateChild(u)}else d=rc(r,u,e.serverCache);d!=null?l=t.filter.updateChild(o.getNode(),u,d,f,i,s):l=o.getNode()}}return ei(e,l,o.isFullyInitialized()||j(n),t.filter.filtersNodes())}}function fo(t,e,n,r,i,s,o,l){const a=e.serverCache;let u;const f=o?t.filter:t.filter.getIndexedFilter();if(j(n))u=f.updateFullNode(a.getNode(),r,null);else if(f.filtersNodes()&&!a.isFiltered()){const m=a.getNode().updateChild(n,r);u=f.updateFullNode(a.getNode(),m,null)}else{const m=L(n);if(!a.isCompleteForPath(n)&&nn(n)>1)return e;const v=G(n),A=a.getNode().getImmediateChild(m).updateChild(v,r);m===".priority"?u=f.updatePriority(a.getNode(),A):u=f.updateChild(a.getNode(),m,A,v,zm,null)}const d=Mm(e,u,a.isFullyInitialized()||j(n),f.filtersNodes()),h=new ic(i,d,s);return Bm(t,d,n,i,h,l)}function Fa(t,e,n,r,i,s,o){const l=e.eventCache;let a,u;const f=new ic(i,e,s);if(j(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=ei(e,u,!0,t.filter.filtersNodes());else{const d=L(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),a=ei(e,u,l.isFullyInitialized(),l.isFiltered());else{const h=G(n),m=l.getNode().getImmediateChild(d);let v;if(j(h))v=r;else{const y=f.getCompleteChild(d);y!=null?Gu(h)===".priority"&&y.getChild(Sm(h)).isEmpty()?v=y:v=y.updateChild(h,r):v=D.EMPTY_NODE}if(m.equals(v))a=e;else{const y=t.filter.updateChild(l.getNode(),d,v,h,f,o);a=ei(e,y,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function pf(t,e){return t.eventCache.isCompleteForChild(e)}function CC(t,e,n,r,i,s,o){let l=e;return r.foreach((a,u)=>{const f=re(n,a);pf(e,L(f))&&(l=Fa(t,l,f,u,i,s,o))}),r.foreach((a,u)=>{const f=re(n,a);pf(e,L(f))||(l=Fa(t,l,f,u,i,s,o))}),l}function mf(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ba(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;j(n)?u=r:u=new H(null).setTree(n,r);const f=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(f.hasChild(d)){const m=e.serverCache.getNode().getImmediateChild(d),v=mf(t,m,h);a=fo(t,a,new V(d),v,i,s,o,l)}}),u.children.inorderTraversal((d,h)=>{const m=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!f.hasChild(d)&&!m){const v=e.serverCache.getNode().getImmediateChild(d),y=mf(t,v,h);a=fo(t,a,new V(d),y,i,s,o,l)}}),a}function EC(t,e,n,r,i,s,o){if(co(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(j(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return fo(t,e,n,a.getNode().getChild(n),i,s,l,o);if(j(n)){let u=new H(null);return a.getNode().forEachChild(En,(f,d)=>{u=u.set(new V(f),d)}),ba(t,e,n,u,i,s,l,o)}else return e}else{let u=new H(null);return r.foreach((f,d)=>{const h=re(n,f);a.isCompleteForPath(h)&&(u=u.set(f,a.getNode().getChild(h)))}),ba(t,e,n,u,i,s,l,o)}}function SC(t,e,n,r,i){const s=e.serverCache,o=Mm(e,s.getNode(),s.isFullyInitialized()||j(n),s.isFiltered());return Bm(t,o,n,r,zm,i)}function xC(t,e,n,r,i,s){let o;if(co(r,n)!=null)return e;{const l=new ic(r,e,i),a=e.eventCache.getNode();let u;if(j(n)||L(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=uo(r,Pn(e));else{const d=e.serverCache.getNode();E(d instanceof D,"serverChildren would be complete if leaf node"),f=nc(r,d)}f=f,u=t.filter.updateFullNode(a,f,s)}else{const f=L(n);let d=rc(r,f,e.serverCache);d==null&&e.serverCache.isCompleteForChild(f)&&(d=a.getImmediateChild(f)),d!=null?u=t.filter.updateChild(a,f,d,G(n),l,s):e.eventCache.getNode().hasChild(f)?u=t.filter.updateChild(a,f,D.EMPTY_NODE,G(n),l,s):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=uo(r,Pn(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||co(r,B())!=null,ei(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Xu(r.getIndex()),s=Bw(r);this.processor_=_C(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(D.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(D.EMPTY_NODE,l.getNode(),null),f=new rn(a,o.isFullyInitialized(),i.filtersNodes()),d=new rn(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Lo(d,f),this.eventGenerator_=new qw(this.query_)}get query(){return this.query_}}function kC(t){return t.viewCache_.serverCache.getNode()}function IC(t){return ao(t.viewCache_)}function TC(t,e){const n=Pn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!j(e)&&!n.getImmediateChild(L(e)).isEmpty())?n.getChild(e):null}function gf(t){return t.eventRegistrations_.length===0}function RC(t,e){t.eventRegistrations_.push(e)}function _f(t,e,n){const r=[];if(n){E(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function vf(t,e,n,r){e.type===rt.MERGE&&e.source.queryId!==null&&(E(Pn(t.viewCache_),"We should always have a full cache before handling merges"),E(ao(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=yC(t.processor_,i,e,n,r);return vC(t.processor_,s.viewCache),E(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Um(t,s.changes,s.viewCache.eventCache.getNode(),null)}function PC(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(J,(s,o)=>{r.push(hr(s,o))}),n.isFullyInitialized()&&r.push(Am(n.getNode())),Um(t,r,n.getNode(),e)}function Um(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Xw(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ho;class Wm{constructor(){this.views=new Map}}function AC(t){E(!ho,"__referenceConstructor has already been defined"),ho=t}function DC(){return E(ho,"Reference.ts has not been loaded"),ho}function MC(t){return t.views.size===0}function sc(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return E(s!=null,"SyncTree gave us an op for an invalid query."),vf(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(vf(o,e,n,r));return s}}function Vm(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=uo(n,i?r:null),a=!1;l?a=!0:r instanceof D?(l=nc(n,r),a=!1):(l=D.EMPTY_NODE,a=!1);const u=Lo(new rn(l,a,!1),new rn(r,i,!1));return new NC(e,u)}return o}function OC(t,e,n,r,i,s){const o=Vm(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),RC(o,n),PC(o,n)}function LC(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=sn(t);if(i==="default")for(const[a,u]of t.views.entries())o=o.concat(_f(u,n,r)),gf(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=t.views.get(i);a&&(o=o.concat(_f(a,n,r)),gf(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!sn(t)&&s.push(new(DC())(e._repo,e._path)),{removed:s,events:o}}function Hm(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Zt(t,e){let n=null;for(const r of t.views.values())n=n||TC(r,e);return n}function $m(t,e){if(e._queryParams.loadsAllData())return Fo(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Gm(t,e){return $m(t,e)!=null}function sn(t){return Fo(t)!=null}function Fo(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po;function jC(t){E(!po,"__referenceConstructor has already been defined"),po=t}function FC(){return E(po,"Reference.ts has not been loaded"),po}let bC=1;class yf{constructor(e){this.listenProvider_=e,this.syncPointTree_=new H(null),this.pendingWriteTree_=hC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Qm(t,e,n,r,i){return tC(t.pendingWriteTree_,e,n,r,i),i?Er(t,new Rn(Ju(),e,n)):[]}function zC(t,e,n,r){nC(t.pendingWriteTree_,e,n,r);const i=H.fromObject(n);return Er(t,new pr(Ju(),e,i))}function bt(t,e,n=!1){const r=rC(t.pendingWriteTree_,e);if(iC(t.pendingWriteTree_,e)){let s=new H(null);return r.snap!=null?s=s.set(B(),!0):ye(r.children,o=>{s=s.set(new V(o),!0)}),Er(t,new lo(r.path,s,n))}else return[]}function Wi(t,e,n){return Er(t,new Rn(ec(),e,n))}function BC(t,e,n){const r=H.fromObject(n);return Er(t,new pr(ec(),e,r))}function UC(t,e){return Er(t,new Ti(ec(),e))}function WC(t,e,n){const r=lc(t,n);if(r){const i=ac(r),s=i.path,o=i.queryId,l=Ne(s,e),a=new Ti(tc(o),l);return uc(t,s,a)}else return[]}function mo(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||Gm(o,e))){const a=LC(o,e,n,r);MC(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const f=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,m)=>sn(m));if(f&&!d){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const m=$C(h);for(let v=0;v<m.length;++v){const y=m[v],A=y.query,g=Xm(t,y);t.listenProvider_.startListening(ni(A),Ri(t,A),g.hashFn,g.onComplete)}}}!d&&u.length>0&&!r&&(f?t.listenProvider_.stopListening(ni(e),null):u.forEach(h=>{const m=t.queryToTagMap.get(bo(h));t.listenProvider_.stopListening(ni(h),m)}))}GC(t,u)}return l}function Ym(t,e,n,r){const i=lc(t,r);if(i!=null){const s=ac(i),o=s.path,l=s.queryId,a=Ne(o,e),u=new Rn(tc(l),a,n);return uc(t,o,u)}else return[]}function VC(t,e,n,r){const i=lc(t,r);if(i){const s=ac(i),o=s.path,l=s.queryId,a=Ne(o,e),u=H.fromObject(n),f=new pr(tc(l),a,u);return uc(t,o,f)}else return[]}function za(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,m)=>{const v=Ne(h,i);s=s||Zt(m,v),o=o||sn(m)});let l=t.syncPointTree_.get(i);l?(o=o||sn(l),s=s||Zt(l,B())):(l=new Wm,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=D.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((m,v)=>{const y=Zt(v,B());y&&(s=s.updateImmediateChild(m,y))}));const u=Gm(l,e);if(!u&&!e._queryParams.loadsAllData()){const h=bo(e);E(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const m=QC();t.queryToTagMap.set(h,m),t.tagToQueryMap.set(m,h)}const f=jo(t.pendingWriteTree_,i);let d=OC(l,e,n,f,s,a);if(!u&&!o&&!r){const h=$m(l,e);d=d.concat(YC(t,e,h))}return d}function oc(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=Ne(o,e),u=Zt(l,a);if(u)return u});return jm(i,e,s,n,!0)}function HC(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,f)=>{const d=Ne(u,n);r=r||Zt(f,d)});let i=t.syncPointTree_.get(n);i?r=r||Zt(i,B()):(i=new Wm,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new rn(r,!0,!1):null,l=jo(t.pendingWriteTree_,e._path),a=Vm(i,e,l,s?o.getNode():D.EMPTY_NODE,s);return IC(a)}function Er(t,e){return Km(e,t.syncPointTree_,null,jo(t.pendingWriteTree_,B()))}function Km(t,e,n,r){if(j(t.path))return qm(t,e,n,r);{const i=e.get(B());n==null&&i!=null&&(n=Zt(i,B()));let s=[];const o=L(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,f=Fm(r,o);s=s.concat(Km(l,a,u,f))}return i&&(s=s.concat(sc(i,t,r,n))),s}}function qm(t,e,n,r){const i=e.get(B());n==null&&i!=null&&(n=Zt(i,B()));let s=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=Fm(r,o),f=t.operationForChild(o);f&&(s=s.concat(qm(f,l,a,u)))}),i&&(s=s.concat(sc(i,t,r,n))),s}function Xm(t,e){const n=e.query,r=Ri(t,n);return{hashFn:()=>(kC(e)||D.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?WC(t,n._path,r):UC(t,n._path);{const s=B0(i,n);return mo(t,n,null,s)}}}}function Ri(t,e){const n=bo(e);return t.queryToTagMap.get(n)}function bo(t){return t._path.toString()+"$"+t._queryIdentifier}function lc(t,e){return t.tagToQueryMap.get(e)}function ac(t){const e=t.indexOf("$");return E(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new V(t.substr(0,e))}}function uc(t,e,n){const r=t.syncPointTree_.get(e);E(r,"Missing sync point for query tag that we're tracking");const i=jo(t.pendingWriteTree_,e);return sc(r,n,i,null)}function $C(t){return t.fold((e,n,r)=>{if(n&&sn(n))return[Fo(n)];{let i=[];return n&&(i=Hm(n)),ye(r,(s,o)=>{i=i.concat(o)}),i}})}function ni(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(FC())(t._repo,t._path):t}function GC(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=bo(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function QC(){return bC++}function YC(t,e,n){const r=e._path,i=Ri(t,e),s=Xm(t,n),o=t.listenProvider_.startListening(ni(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)E(!sn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,f,d)=>{if(!j(u)&&f&&sn(f))return[Fo(f).query];{let h=[];return f&&(h=h.concat(Hm(f).map(m=>m.query))),ye(d,(m,v)=>{h=h.concat(v)}),h}});for(let u=0;u<a.length;++u){const f=a[u];t.listenProvider_.stopListening(ni(f),Ri(t,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new cc(n)}node(){return this.node_}}class dc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=re(this.path_,e);return new dc(this.syncTree_,n)}node(){return oc(this.syncTree_,this.path_)}}const KC=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},wf=function(t,e,n){if(!t||typeof t!="object")return t;if(E(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return qC(t[".sv"],e,n);if(typeof t[".sv"]=="object")return XC(t[".sv"],e);E(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},qC=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:E(!1,"Unexpected server value: "+t)}},XC=function(t,e,n){t.hasOwnProperty("increment")||E(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&E(!1,"Unexpected increment value: "+r);const i=e.node();if(E(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Zm=function(t,e,n,r){return fc(e,new dc(n,t),r)},Jm=function(t,e,n){return fc(t,new cc(e),n)};function fc(t,e,n){const r=t.getPriority().val(),i=wf(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=wf(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new de(l,ae(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new de(i))),o.forEachChild(J,(l,a)=>{const u=fc(a,e.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function pc(t,e){let n=e instanceof V?e:new V(e),r=t,i=L(n);for(;i!==null;){const s=fr(r.node.children,i)||{children:{},childCount:0};r=new hc(i,r,s),n=G(n),i=L(n)}return r}function Sr(t){return t.node.value}function eg(t,e){t.node.value=e,Ba(t)}function tg(t){return t.node.childCount>0}function ZC(t){return Sr(t)===void 0&&!tg(t)}function zo(t,e){ye(t.node.children,(n,r)=>{e(new hc(n,t,r))})}function ng(t,e,n,r){n&&e(t),zo(t,i=>{ng(i,e,!0)})}function JC(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Vi(t){return new V(t.parent===null?t.name:Vi(t.parent)+"/"+t.name)}function Ba(t){t.parent!==null&&eE(t.parent,t.name,t)}function eE(t,e,n){const r=ZC(n),i=ht(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Ba(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Ba(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=/[\[\].#$\/\u0000-\u001F\u007F]/,nE=/[\[\].#$\u0000-\u001F\u007F]/,Tl=10*1024*1024,mc=function(t){return typeof t=="string"&&t.length!==0&&!tE.test(t)},rg=function(t){return typeof t=="string"&&t.length!==0&&!nE.test(t)},rE=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),rg(t)},Ua=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Uu(t)||t&&typeof t=="object"&&ht(t,".sv")},Hi=function(t,e,n,r){r&&e===void 0||Bo(Do(t,"value"),e,n)},Bo=function(t,e,n){const r=n instanceof V?new ww(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+mn(r));if(typeof e=="function")throw new Error(t+"contains a function "+mn(r)+" with contents = "+e.toString());if(Uu(e))throw new Error(t+"contains "+e.toString()+" "+mn(r));if(typeof e=="string"&&e.length>Tl/3&&Mo(e)>Tl)throw new Error(t+"contains a string greater than "+Tl+" utf8 bytes "+mn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(ye(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!mc(o)))throw new Error(t+" contains an invalid key ("+o+") "+mn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Cw(r,o),Bo(t,l,r),Ew(r)}),i&&s)throw new Error(t+' contains ".value" child '+mn(r)+" in addition to actual children.")}},iE=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=xi(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!mc(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(yw);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Ge(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},sE=function(t,e,n,r){const i=Do(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];ye(e,(o,l)=>{const a=new V(o);if(Bo(i,l,re(n,a)),Gu(a)===".priority"&&!Ua(l))throw new Error(i+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(a)}),iE(i,s)},gc=function(t,e,n,r){if(!rg(n))throw new Error(Do(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},oE=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),gc(t,e,n)},ig=function(t,e){if(L(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},lE=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!mc(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!rE(n))throw new Error(Do(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Uo(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Qu(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function sg(t,e,n){Uo(t,n),og(t,r=>Qu(r,e))}function qe(t,e,n){Uo(t,n),og(t,r=>Ge(r,e)||Ge(e,r))}function og(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(uE(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function uE(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Zr&&ge("event: "+n.toString()),Cr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="repo_interrupt",dE=25;class fE{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new aE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=oo(),this.transactionQueueTree_=new hc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hE(t,e,n){if(t.stats_=Hu(t.repoInfo_),t.forceRestClient_||H0())t.server_=new so(t.repoInfo_,(r,i,s,o)=>{Cf(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Ef(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ue(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ct(t.repoInfo_,e,(r,i,s,o)=>{Cf(t,r,i,s,o)},r=>{Ef(t,r)},r=>{pE(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=K0(t.repoInfo_,()=>new Kw(t.stats_,t.server_)),t.infoData_=new Hw,t.infoSyncTree_=new yf({startListening:(r,i,s,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=Wi(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),_c(t,"connected",!1),t.serverSyncTree_=new yf({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);qe(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function lg(t){const n=t.infoData_.getNode(new V(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Wo(t){return KC({timestamp:lg(t)})}function Cf(t,e,n,r,i){t.dataUpdateCount++;const s=new V(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const a=Js(n,u=>ae(u));o=VC(t.serverSyncTree_,s,a,i)}else{const a=ae(n);o=Ym(t.serverSyncTree_,s,a,i)}else if(r){const a=Js(n,u=>ae(u));o=BC(t.serverSyncTree_,s,a)}else{const a=ae(n);o=Wi(t.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=gr(t,s)),qe(t.eventQueue_,l,o)}function Ef(t,e){_c(t,"connected",e),e===!1&&vE(t)}function pE(t,e){ye(e,(n,r)=>{_c(t,n,r)})}function _c(t,e,n){const r=new V("/.info/"+e),i=ae(n);t.infoData_.updateSnapshot(r,i);const s=Wi(t.infoSyncTree_,r,i);qe(t.eventQueue_,r,s)}function vc(t){return t.nextWriteId_++}function mE(t,e,n){const r=HC(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=ae(i).withIndex(e._queryParams.getIndex());za(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Wi(t.serverSyncTree_,e._path,s);else{const l=Ri(t.serverSyncTree_,e);o=Ym(t.serverSyncTree_,e._path,s,l)}return qe(t.eventQueue_,e._path,o),mo(t.serverSyncTree_,e,n,null,!0),s},i=>($i(t,"get for query "+ue(e)+" failed: "+i),Promise.reject(new Error(i))))}function gE(t,e,n,r,i){$i(t,"set",{path:e.toString(),value:n,priority:r});const s=Wo(t),o=ae(n,r),l=oc(t.serverSyncTree_,e),a=Jm(o,l,s),u=vc(t),f=Qm(t.serverSyncTree_,e,a,u,!0);Uo(t.eventQueue_,f),t.server_.put(e.toString(),o.val(!0),(h,m)=>{const v=h==="ok";v||Ie("set at "+e+" failed: "+h);const y=bt(t.serverSyncTree_,u,!v);qe(t.eventQueue_,e,y),Wa(t,i,h,m)});const d=wc(t,e);gr(t,d),qe(t.eventQueue_,d,[])}function _E(t,e,n,r){$i(t,"update",{path:e.toString(),value:n});let i=!0;const s=Wo(t),o={};if(ye(n,(l,a)=>{i=!1,o[l]=Zm(re(e,l),ae(a),t.serverSyncTree_,s)}),i)ge("update() called with empty data.  Don't do anything."),Wa(t,r,"ok",void 0);else{const l=vc(t),a=zC(t.serverSyncTree_,e,o,l);Uo(t.eventQueue_,a),t.server_.merge(e.toString(),n,(u,f)=>{const d=u==="ok";d||Ie("update at "+e+" failed: "+u);const h=bt(t.serverSyncTree_,l,!d),m=h.length>0?gr(t,e):e;qe(t.eventQueue_,m,h),Wa(t,r,u,f)}),ye(n,u=>{const f=wc(t,re(e,u));gr(t,f)}),qe(t.eventQueue_,e,[])}}function vE(t){$i(t,"onDisconnectEvents");const e=Wo(t),n=oo();Ma(t.onDisconnect_,B(),(i,s)=>{const o=Zm(i,s,t.serverSyncTree_,e);Dm(n,i,o)});let r=[];Ma(n,B(),(i,s)=>{r=r.concat(Wi(t.serverSyncTree_,i,s));const o=wc(t,i);gr(t,o)}),t.onDisconnect_=oo(),qe(t.eventQueue_,B(),r)}function yE(t,e,n){let r;L(e._path)===".info"?r=za(t.infoSyncTree_,e,n):r=za(t.serverSyncTree_,e,n),sg(t.eventQueue_,e._path,r)}function wE(t,e,n){let r;L(e._path)===".info"?r=mo(t.infoSyncTree_,e,n):r=mo(t.serverSyncTree_,e,n),sg(t.eventQueue_,e._path,r)}function CE(t){t.persistentConnection_&&t.persistentConnection_.interrupt(cE)}function $i(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ge(n,...e)}function Wa(t,e,n,r){e&&Cr(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function ag(t,e,n){return oc(t.serverSyncTree_,e,n)||D.EMPTY_NODE}function yc(t,e=t.transactionQueueTree_){if(e||Vo(t,e),Sr(e)){const n=cg(t,e);E(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&EE(t,Vi(e),n)}else tg(e)&&zo(e,n=>{yc(t,n)})}function EE(t,e,n){const r=n.map(u=>u.currentWriteId),i=ag(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const f=n[u];E(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const d=Ne(e,f.path);s=s.updateChild(d,f.currentOutputSnapshotRaw)}const l=s.val(!0),a=e;t.server_.put(a.toString(),l,u=>{$i(t,"transaction put response",{path:a.toString(),status:u});let f=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,f=f.concat(bt(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Vo(t,pc(t.transactionQueueTree_,e)),yc(t,t.transactionQueueTree_),qe(t.eventQueue_,e,f);for(let h=0;h<d.length;h++)Cr(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ie("transaction at "+a.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}gr(t,e)}},o)}function gr(t,e){const n=ug(t,e),r=Vi(n),i=cg(t,n);return SE(t,i,r),r}function SE(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],u=Ne(n,a.path);let f=!1,d;if(E(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)f=!0,d=a.abortReason,i=i.concat(bt(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=dE)f=!0,d="maxretry",i=i.concat(bt(t.serverSyncTree_,a.currentWriteId,!0));else{const h=ag(t,a.path,o);a.currentInputSnapshot=h;const m=e[l].update(h.val());if(m!==void 0){Bo("transaction failed: Data returned ",m,a.path);let v=ae(m);typeof m=="object"&&m!=null&&ht(m,".priority")||(v=v.updatePriority(h.getPriority()));const A=a.currentWriteId,g=Wo(t),p=Jm(v,h,g);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=p,a.currentWriteId=vc(t),o.splice(o.indexOf(A),1),i=i.concat(Qm(t.serverSyncTree_,a.path,p,a.currentWriteId,a.applyLocally)),i=i.concat(bt(t.serverSyncTree_,A,!0))}else f=!0,d="nodata",i=i.concat(bt(t.serverSyncTree_,a.currentWriteId,!0))}qe(t.eventQueue_,n,i),i=[],f&&(e[l].status=2,function(h){setTimeout(h,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(d==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(d),!1,null))))}Vo(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Cr(r[l]);yc(t,t.transactionQueueTree_)}function ug(t,e){let n,r=t.transactionQueueTree_;for(n=L(e);n!==null&&Sr(r)===void 0;)r=pc(r,n),e=G(e),n=L(e);return r}function cg(t,e){const n=[];return dg(t,e,n),n.sort((r,i)=>r.order-i.order),n}function dg(t,e,n){const r=Sr(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);zo(e,i=>{dg(t,i,n)})}function Vo(t,e){const n=Sr(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,eg(e,n.length>0?n:void 0)}zo(e,r=>{Vo(t,r)})}function wc(t,e){const n=Vi(ug(t,e)),r=pc(t.transactionQueueTree_,e);return JC(r,i=>{Rl(t,i)}),Rl(t,r),ng(r,i=>{Rl(t,i)}),n}function Rl(t,e){const n=Sr(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(E(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(E(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(bt(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?eg(e,void 0):n.length=s+1,qe(t.eventQueue_,Vi(e),i);for(let o=0;o<r.length;o++)Cr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function NE(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ie(`Invalid query segment '${n}' in query '${t}'`)}return e}const Sf=function(t,e){const n=kE(t),r=n.namespace;n.domain==="firebase.com"&&It(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&It("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||L0();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new pm(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new V(n.pathString)}},kE=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let f=t.indexOf("/");f===-1&&(f=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(f,d)),f<d&&(i=xE(t.substring(f,d)));const h=NE(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const m=e.slice(0,u);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",IE=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=xf.charAt(n%64),n=Math.floor(n/64);E(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=xf.charAt(e[i]);return E(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ue(this.snapshot.exportVal())}}class RE{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return E(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return j(this._path)?null:Gu(this._path)}get ref(){return new Rt(this._repo,this._path)}get _queryIdentifier(){const e=uf(this._queryParams),n=Wu(e);return n==="{}"?"default":n}get _queryObject(){return uf(this._queryParams)}isEqual(e){if(e=un(e),!(e instanceof xr))return!1;const n=this._repo===e._repo,r=Qu(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+vw(this._path)}}function PE(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Cc(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===En){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Tn)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==tn)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===J){if(e!=null&&!Ua(e)||n!=null&&!Ua(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(E(t.getIndex()instanceof qu||t.getIndex()===Pm,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function hg(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Rt extends xr{constructor(e,n){super(e,n,new Zu,!1)}get parent(){const e=Sm(this._path);return e===null?null:new Rt(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Pi{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new V(e),r=Ai(this.ref,e);return new Pi(this._node.getChild(n),r,J)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Pi(i,Ai(this.ref,r),J)))}hasChild(e){const n=new V(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function zt(t,e){return t=un(t),t._checkNotDeleted("ref"),e!==void 0?Ai(t._root,e):t._root}function Ai(t,e){return t=un(t),L(t._path)===null?oE("child","path",e):gc("child","path",e),new Rt(t._repo,re(t._path,e))}function Va(t,e){t=un(t),ig("push",t._path),Hi("push",e,t._path,!0);const n=lg(t._repo),r=IE(n),i=Ai(t,r),s=Ai(t,r);let o;return e!=null?o=AE(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function AE(t,e){t=un(t),ig("set",t._path),Hi("set",e,t._path,!1);const n=new Fi;return gE(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function DE(t,e){sE("update",e,t._path);const n=new Fi;return _E(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function ME(t){t=un(t);const e=new fg(()=>{}),n=new Ho(e);return mE(t._repo,t,n).then(r=>new Pi(r,new Rt(t._repo,t._path),t._queryParams.getIndex()))}class Ho{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new TE("value",this,new Pi(e.snapshotNode,new Rt(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new RE(this,e,n):null}matches(e){return e instanceof Ho?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function OE(t,e,n,r,i){const s=new fg(n,void 0),o=new Ho(s);return yE(t._repo,t,o),()=>wE(t._repo,t,o)}function Ec(t,e,n,r){return OE(t,"value",e)}class $o{}class LE extends $o{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Hi("endAt",this._value,e._path,!0);const n=Ww(e._queryParams,this._value,this._key);if(hg(n),Cc(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new xr(e._repo,e._path,n,e._orderByCalled)}}class jE extends $o{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Hi("startAt",this._value,e._path,!0);const n=Uw(e._queryParams,this._value,this._key);if(hg(n),Cc(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new xr(e._repo,e._path,n,e._orderByCalled)}}class FE extends $o{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){PE(e,"orderByChild");const n=new V(this._path);if(j(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new qu(n),i=Vw(e._queryParams,r);return Cc(i),new xr(e._repo,e._path,i,!0)}}function bE(t){return gc("orderByChild","path",t),new FE(t)}class zE extends $o{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Hi("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new LE(this._value,this._key)._apply(new jE(this._value,this._key)._apply(e))}}function BE(t,e){return new zE(t,e)}function UE(t,...e){let n=un(t);for(const r of e)n=r._apply(n);return n}AC(Rt);jC(Rt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="FIREBASE_DATABASE_EMULATOR_HOST",Ha={};let VE=!1;function HE(t,e,n,r){t.repoInfo_=new pm(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function $E(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||It("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ge("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Sf(s,i),l=o.repoInfo,a;typeof process<"u"&&Hd&&(a=Hd[WE]),a?(s=`http://${a}?ns=${l.namespace}`,o=Sf(s,i),l=o.repoInfo):o.repoInfo.secure;const u=new G0(t.name,t.options,e);lE("Invalid Firebase Database URL",o),j(o.path)||It("Database URL must point to the root of a Firebase Database (not including a child path).");const f=QE(l,t,u,new $0(t.name,n));return new YE(f,t)}function GE(t,e){const n=Ha[e];(!n||n[t.key]!==t)&&It(`Database ${e}(${t.repoInfo_}) has already been deleted.`),CE(t),delete n[t.key]}function QE(t,e,n,r){let i=Ha[e.name];i||(i={},Ha[e.name]=i);let s=i[t.toURLString()];return s&&It("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new fE(t,VE,n,r),i[t.toURLString()]=s,s}class YE{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(hE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Rt(this._repo,B())),this._rootInternal}_delete(){return this._rootInternal!==null&&(GE(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&It("Cannot call "+e+" on a deleted database.")}}function KE(t=y0(),e){const n=m0(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=iy("database");r&&qE(n,...r)}return n}function qE(t,e,n,r={}){t=un(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&It("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&It('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Is(Is.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:sy(r.mockUserToken,t.app.options.projectId);s=new Is(o)}HE(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(t){R0(v0),to(new Ci("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return $E(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),rr($d,Gd,t),rr($d,Gd,"esm2017")}Ct.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ct.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};XE();var ZE="firebase",JE="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr(ZE,JE,"app");const eS={apiKey:"AIzaSyA7bCJ740dlOwfB7jzZ9RPZ49JO8-XzMcc",authDomain:"hilde-5th-birthday.firebaseapp.com",databaseURL:"https://hilde-5th-birthday-default-rtdb.firebaseio.com",projectId:"hilde-5th-birthday",storageBucket:"hilde-5th-birthday.firebasestorage.app",messagingSenderId:"37156501458",appId:"1:37156501458:web:bbbf39de05a681fbec3a0b"},tS=Xp(eS),Bt=KE(tS),hs="hilde-bday-rsvp-email",nS="hilde-bday-rsvp-id";function rS({active:t}){const e=M.useRef(null);return M.useEffect(()=>{if(!t)return;const n=e.current,r=n.getContext("2d");n.width=window.innerWidth,n.height=window.innerHeight;const i=[],s=["#ff6b9d","#ffd700","#74b9ff","#ff8c42","#a29bfe","#00cec9"];for(let a=0;a<150;a++)i.push({x:Math.random()*n.width,y:-10-Math.random()*100,size:Math.random()*8+4,color:s[Math.floor(Math.random()*s.length)],speedY:Math.random()*3+2,speedX:Math.random()*4-2,rotation:Math.random()*360,rotationSpeed:Math.random()*10-5});let o;const l=()=>{r.clearRect(0,0,n.width,n.height);let a=0;i.forEach(u=>{u.y<n.height+50&&(a++,u.y+=u.speedY,u.x+=u.speedX,u.rotation+=u.rotationSpeed,u.speedY+=.1,r.save(),r.translate(u.x,u.y),r.rotate(u.rotation*Math.PI/180),r.fillStyle=u.color,r.fillRect(-u.size/2,-u.size/2,u.size,u.size*.6),r.restore())}),a>0&&(o=requestAnimationFrame(l))};return l(),()=>{o&&cancelAnimationFrame(o)}},[t]),t?c.jsx("canvas",{ref:e,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:1e3}}):null}function iS(){const[t,e]=M.useState("lookup"),[n,r]=M.useState(""),[i,s]=M.useState(""),[o,l]=M.useState(null),[a,u]=M.useState(1),[f,d]=M.useState(1),[h,m]=M.useState(null),[v,y]=M.useState(""),[A,g]=M.useState(!0),[p,_]=M.useState(!1),[w,N]=M.useState(!1),[S,x]=M.useState(""),[R,q]=M.useState(!1),[O,Pe]=M.useState(!1);M.useEffect(()=>{(async()=>{localStorage.removeItem(nS);const P=localStorage.getItem(hs);if(P){r(P);const U=await Pt(P);e(U?"submitted":"lookup")}g(!1)})()},[]);const Pt=async k=>{if(!k.trim())return null;try{const P=zt(Bt,"rsvps"),U=UE(P,bE("email"),BE(k.toLowerCase().trim())),ie=await ME(U);if(ie.exists()){const Ln=ie.val(),[pt,Xe]=Object.entries(Ln)[0];return s(Xe.childName||Xe.name||""),l(Xe.attending),u(Xe.adultCount||Xe.guestCount||1),d(Xe.kidCount||1),m(pt),Xe}}catch(P){console.log("Email lookup error:",P.message)}return null},cn=async k=>{if(k.preventDefault(),y(""),!n.trim()){y("Please enter your email");return}_(!0);const P=await Pt(n);_(!1),P?(localStorage.setItem(hs,n.toLowerCase().trim()),e("submitted")):e("form")},Gi=()=>{e("form")},Go=async k=>{if(k.preventDefault(),y(""),!n.trim()){y("Please enter your email");return}if(!i.trim()){y("Please enter your child's name");return}if(o===null){y("Please let us know if you can make it");return}const P={email:n.toLowerCase().trim(),childName:i.trim(),name:i.trim(),attending:o,adultCount:o?a:0,kidCount:o?f:0,timestamp:Date.now()};try{if(h)await DE(zt(Bt,`rsvps/${h}`),P);else{const U=await Va(zt(Bt,"rsvps"),P);m(U.key)}localStorage.setItem(hs,n.toLowerCase().trim()),N(!0),setTimeout(()=>N(!1),4e3),e("submitted")}catch(U){y("Oops! Something went wrong. Please try again."),console.error(U)}},Nr=async()=>{if(S.trim()){Pe(!0);try{await Va(zt(Bt,"messages"),{name:i.trim()+"'s family",message:S.trim(),timestamp:Date.now()}),q(!0),x("")}catch(k){console.error(k)}Pe(!1)}},kr=()=>{e("form")},I=()=>{localStorage.removeItem(hs),r(""),s(""),l(null),u(1),d(1),m(null),q(!1),x(""),e("lookup")};return A?c.jsxs("section",{className:"rsvp",children:[c.jsx("h2",{children:"Mission Log"}),c.jsx("p",{className:"rsvp-subtitle",children:"Loading..."})]}):t==="lookup"?c.jsxs("section",{className:"rsvp",children:[c.jsx("h2",{children:"Mission Log"}),c.jsx("p",{className:"rsvp-subtitle",children:"Already RSVP'd? Find your response to update it."}),c.jsxs("form",{onSubmit:cn,className:"lookup-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"lookup-email",children:"Your Email"}),c.jsx("input",{type:"email",id:"lookup-email",value:n,onChange:k=>r(k.target.value),placeholder:"astronaut@email.com",autoFocus:!0})]}),v&&c.jsx("p",{className:"error",children:v}),c.jsx("button",{type:"submit",className:"submit-btn",disabled:p,children:p?"Searching...":"Find My RSVP"})]}),c.jsx("div",{className:"divider",children:c.jsx("span",{children:"or"})}),c.jsx("button",{onClick:Gi,className:"secondary-btn",children:"New here? Submit your RSVP"})]}):t==="submitted"?c.jsxs("section",{className:"rsvp",children:[c.jsx(rS,{active:w}),c.jsx("h2",{children:"Mission Log"}),c.jsxs("div",{className:"success-message",children:[c.jsx("span",{className:"success-icon",children:""}),c.jsxs("p",{className:"success-name",children:["Thanks, ",i,"'s family!"]}),c.jsx("p",{className:"success-status",children:o?"We're excited to see you at the launch!":"We'll miss you! Thanks for letting us know."}),o&&c.jsxs("p",{className:"guest-summary",children:[a," ",a===1?"adult":"adults",f>0&&`, ${f} ${f===1?"kid":"kids"}`]}),R?c.jsx("p",{className:"message-sent-confirmation",children:"Message sent! Thank you!"}):c.jsxs("div",{className:"optional-message",children:[c.jsx("p",{className:"optional-message-prompt",children:"Want to send a message to Hilde?"}),c.jsx("textarea",{value:S,onChange:k=>x(k.target.value),placeholder:"Write a birthday wish or note...",rows:3,className:"optional-message-input"}),S.trim()&&c.jsx("button",{onClick:Nr,className:"send-message-btn",disabled:O,children:O?"Sending...":"Send Message"})]}),c.jsxs("div",{className:"rsvp-actions",children:[c.jsx("button",{onClick:kr,className:"edit-btn",children:"Edit RSVP"}),c.jsx("button",{onClick:I,className:"reset-link",children:"Not you? Start fresh"})]})]})]}):c.jsxs("section",{className:"rsvp",children:[c.jsx("h2",{children:"Mission Log"}),c.jsx("p",{className:"rsvp-subtitle",children:h?"Update your RSVP":"Will you be joining our space adventure?"}),c.jsxs("form",{onSubmit:Go,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:"Your Email"}),c.jsx("input",{type:"email",id:"email",value:n,onChange:k=>r(k.target.value),placeholder:"astronaut@email.com"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"childName",children:"Child's Name"}),c.jsx("input",{type:"text",id:"childName",value:i,onChange:k=>s(k.target.value),placeholder:"Little astronaut's name..."})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Can you make it?"}),c.jsxs("div",{className:"toggle-buttons",children:[c.jsx("button",{type:"button",className:`toggle-btn ${o===!0?"active yes":""}`,onClick:()=>l(!0),children:"Yes, count us in!"}),c.jsx("button",{type:"button",className:`toggle-btn ${o===!1?"active no":""}`,onClick:()=>l(!1),children:"Can't make it"})]})]}),o&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Adults"}),c.jsx("div",{className:"count-selector",children:[1,2,3,4,5,6].map(k=>c.jsx("button",{type:"button",className:`count-btn ${a===k?"active":""}`,onClick:()=>u(k),children:k},k))})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Kids"}),c.jsx("div",{className:"count-selector",children:[1,2,3,4,5,6].map(k=>c.jsx("button",{type:"button",className:`count-btn ${f===k?"active":""}`,onClick:()=>d(k),children:k},k))})]})]}),v&&c.jsx("p",{className:"error",children:v}),c.jsx("button",{type:"submit",className:"submit-btn",children:h?"Update RSVP":"Submit RSVP"}),!h&&c.jsx("button",{type:"button",onClick:I,className:"reset-link",children:" Back to lookup"})]})]})}function sS(){const[t,e]=M.useState([]),[n,r]=M.useState(""),[i,s]=M.useState(""),[o,l]=M.useState(!1);M.useEffect(()=>{const f=zt(Bt,"messages"),d=Ec(f,h=>{const m=h.val();if(m){const v=Object.entries(m).map(([y,A])=>({id:y,...A})).sort((y,A)=>A.timestamp-y.timestamp);e(v)}});return()=>d()},[]);const a=async f=>{if(f.preventDefault(),!(!n.trim()||!i.trim())){l(!0);try{await Va(zt(Bt,"messages"),{name:n.trim(),message:i.trim(),timestamp:Date.now()}),r(""),s("")}catch(d){console.error(d)}l(!1)}},u=f=>new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric"});return c.jsxs("section",{className:"guestbook",children:[c.jsx("h2",{children:"Transmissions from Space"}),c.jsx("p",{className:"guestbook-subtitle",children:"Send a message to Hilde!"}),c.jsxs("form",{onSubmit:a,className:"message-form",children:[c.jsx("input",{type:"text",value:n,onChange:f=>r(f.target.value),placeholder:"Your name",required:!0}),c.jsx("textarea",{value:i,onChange:f=>s(f.target.value),placeholder:"Your message for Hilde...",rows:3,required:!0}),c.jsx("button",{type:"submit",disabled:o,children:o?"Sending...":"Send Message "})]}),c.jsx("div",{className:"messages-list",children:t.length===0?c.jsx("p",{className:"no-messages",children:"No transmissions yet. Be the first!"}):t.map(f=>c.jsxs("div",{className:"message-card",children:[c.jsxs("div",{className:"message-header",children:[c.jsx("span",{className:"message-author",children:f.name}),c.jsx("span",{className:"message-date",children:u(f.timestamp)})]}),c.jsx("p",{className:"message-text",children:f.message})]},f.id))})]})}function oS({name:t,index:e}){const n=[{suit:"#ff6b9d",visor:"#74b9ff"},{suit:"#ffd700",visor:"#a29bfe"},{suit:"#74b9ff",visor:"#ff8c42"},{suit:"#00cec9",visor:"#ff6b9d"},{suit:"#a29bfe",visor:"#ffd700"},{suit:"#ff8c42",visor:"#00cec9"}],r=n[e%n.length];return c.jsxs("svg",{viewBox:"0 0 60 80",className:"astronaut-avatar",children:[c.jsx("circle",{cx:"30",cy:"25",r:"20",fill:"white"}),c.jsx("ellipse",{cx:"30",cy:"27",rx:"14",ry:"12",fill:r.visor,opacity:"0.8"}),c.jsx("ellipse",{cx:"26",cy:"24",rx:"4",ry:"3",fill:"rgba(255,255,255,0.4)"}),c.jsx("ellipse",{cx:"30",cy:"55",rx:"18",ry:"22",fill:r.suit}),c.jsx("ellipse",{cx:"30",cy:"40",rx:"18",ry:"4",fill:"#dfe6e9"}),c.jsx("ellipse",{cx:"10",cy:"52",rx:"7",ry:"10",fill:r.suit}),c.jsx("ellipse",{cx:"50",cy:"52",rx:"7",ry:"10",fill:r.suit})]})}function ps({delay:t=0}){return c.jsxs("svg",{viewBox:"0 0 30 40",className:"mini-astronaut",style:{animationDelay:`${t}ms`},children:[c.jsx("circle",{cx:"15",cy:"12",r:"10",fill:"white"}),c.jsx("ellipse",{cx:"15",cy:"14",rx:"7",ry:"6",fill:"#74b9ff",opacity:"0.8"}),c.jsx("ellipse",{cx:"30",cy:"27",rx:"9",ry:"11",fill:"white"})]})}function lS(){const[t,e]=M.useState([]),[n,r]=M.useState({adults:0,kids:0});M.useEffect(()=>{const s=zt(Bt,"rsvps"),o=Ec(s,l=>{const a=l.val();if(a){const u=Object.entries(a).map(([h,m])=>({id:h,...m})).filter(h=>h.attending).sort((h,m)=>(h.childName||h.name||"").localeCompare(m.childName||m.name||""));e(u);const f=u.reduce((h,m)=>h+(m.adultCount||m.guestCount||1),0),d=u.reduce((h,m)=>h+(m.kidCount||0),0);r({adults:f,kids:d})}});return()=>o()},[]);const i=n.adults+n.kids;return t.length===0?c.jsxs("section",{className:"guest-list",children:[c.jsx("h2",{children:"Mission Crew"}),c.jsxs("div",{className:"crew-status empty",children:[c.jsxs("div",{className:"astronaut-row",children:[c.jsx(ps,{delay:0}),c.jsx(ps,{delay:100}),c.jsx(ps,{delay:200})]}),c.jsx("p",{className:"crew-message",children:"Awaiting crew members..."}),c.jsx("p",{className:"crew-cta",children:"Be the first to join the mission!"})]})]}):c.jsxs("section",{className:"guest-list",children:[c.jsx("h2",{children:"Mission Crew"}),c.jsxs("div",{className:"crew-status",children:[c.jsxs("div",{className:"astronaut-row",children:[[...Array(Math.min(i,12))].map((s,o)=>c.jsx(ps,{delay:o*50},o)),i>12&&c.jsxs("span",{className:"more-astronauts",children:["+",i-12]})]}),c.jsxs("p",{className:"crew-count",children:[c.jsx("span",{className:"crew-number",children:i}),c.jsxs("span",{className:"crew-text",children:[i===1?"astronaut":"astronauts"," ready for launch!"]})]}),c.jsxs("p",{className:"crew-breakdown",children:[n.adults," ",n.adults===1?"adult":"adults","  ",n.kids," ",n.kids===1?"kid":"kids"]})]}),c.jsx("div",{className:"guest-cards",children:t.map((s,o)=>c.jsxs("div",{className:"guest-card",style:{animationDelay:`${o*100}ms`},children:[c.jsx(oS,{name:s.childName||s.name,index:o}),c.jsxs("div",{className:"guest-info",children:[c.jsx("span",{className:"guest-name",children:s.childName||s.name}),c.jsxs("span",{className:"guest-count",children:[s.adultCount||s.guestCount||1," adult",(s.adultCount||1)!==1?"s":"",(s.kidCount||0)>0&&`, ${s.kidCount} kid${s.kidCount!==1?"s":""}`]})]})]},s.id))})]})}const aS="SPACE2026",Nf="hilde-bday-access";function uS({children:t}){const[e,n]=M.useState(!1),[r,i]=M.useState(""),[s,o]=M.useState(""),[l,a]=M.useState(!0);M.useEffect(()=>{localStorage.getItem(Nf)==="granted"&&n(!0),a(!1)},[]);const u=f=>{f.preventDefault(),o(""),r.toUpperCase()===aS?(localStorage.setItem(Nf,"granted"),n(!0)):o("Invalid code. Please check your invitation.")};return l?c.jsxs("div",{className:"access-gate",children:[c.jsx("div",{className:"stars"}),c.jsx("div",{className:"stars2"}),c.jsx("div",{className:"access-box",children:c.jsx("p",{children:"Loading..."})})]}):e?t:c.jsxs("div",{className:"access-gate",children:[c.jsx("div",{className:"stars"}),c.jsx("div",{className:"stars2"}),c.jsx("div",{className:"stars3"}),c.jsxs("div",{className:"access-box",children:[c.jsx("div",{className:"lock-icon",children:""}),c.jsx("h1",{children:"Mission Access Required"}),c.jsx("p",{children:"Enter the code from your invitation to continue"}),c.jsxs("form",{onSubmit:u,children:[c.jsx("input",{type:"text",value:r,onChange:f=>i(f.target.value),placeholder:"Enter access code...",autoFocus:!0}),s&&c.jsx("p",{className:"error",children:s}),c.jsx("button",{type:"submit",children:"Launch "})]})]})]})}const cS="HILDE-ADMIN-2026",kf="hilde-bday-admin";function dS({onBack:t}){const[e,n]=M.useState(!1),[r,i]=M.useState(""),[s,o]=M.useState(""),[l,a]=M.useState([]),[u,f]=M.useState({attending:0,notAttending:0,adults:0,kids:0});M.useEffect(()=>{localStorage.getItem(kf)==="granted"&&n(!0)},[]),M.useEffect(()=>{if(!e)return;const m=zt(Bt,"rsvps"),v=Ec(m,y=>{const A=y.val();if(A){const g=Object.entries(A).map(([S,x])=>({id:S,...x})).sort((S,x)=>x.timestamp-S.timestamp);a(g);const p=g.filter(S=>S.attending),_=g.filter(S=>!S.attending),w=p.reduce((S,x)=>S+(x.adultCount||x.guestCount||1),0),N=p.reduce((S,x)=>S+(x.kidCount||0),0);f({attending:p.length,notAttending:_.length,adults:w,kids:N})}});return()=>v()},[e]);const d=m=>{m.preventDefault(),r.toUpperCase()===cS?(localStorage.setItem(kf,"granted"),n(!0)):o("Invalid admin code")},h=m=>new Date(m).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"});return e?c.jsxs("div",{className:"admin-page",children:[c.jsxs("div",{className:"admin-header",children:[c.jsx("h1",{children:"Mission Control"}),c.jsx("button",{className:"back-link",onClick:t,children:" Back to site"})]}),c.jsxs("div",{className:"admin-stats",children:[c.jsxs("div",{className:"stat-card",children:[c.jsx("span",{className:"stat-number",children:u.attending}),c.jsx("span",{className:"stat-label",children:"Attending"})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("span",{className:"stat-number",children:u.notAttending}),c.jsx("span",{className:"stat-label",children:"Can't Make It"})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("span",{className:"stat-number",children:u.adults}),c.jsx("span",{className:"stat-label",children:"Adults"})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("span",{className:"stat-number",children:u.kids}),c.jsx("span",{className:"stat-label",children:"Kids"})]}),c.jsxs("div",{className:"stat-card highlight",children:[c.jsx("span",{className:"stat-number",children:u.adults+u.kids}),c.jsx("span",{className:"stat-label",children:"Total Guests"})]})]}),c.jsxs("div",{className:"admin-table-container",children:[c.jsx("h2",{children:"All RSVPs"}),c.jsxs("table",{className:"admin-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Email"}),c.jsx("th",{children:"Response"}),c.jsx("th",{children:"Adults"}),c.jsx("th",{children:"Kids"}),c.jsx("th",{children:"Date"})]})}),c.jsx("tbody",{children:l.map(m=>c.jsxs("tr",{className:m.attending?"attending":"not-attending",children:[c.jsx("td",{children:m.name}),c.jsx("td",{children:m.email||"-"}),c.jsx("td",{children:m.attending?" Yes":" No"}),c.jsx("td",{children:m.attending?m.adultCount||m.guestCount||1:"-"}),c.jsx("td",{children:m.attending?m.kidCount||0:"-"}),c.jsx("td",{children:h(m.timestamp)})]},m.id))})]})]})]}):c.jsx("div",{className:"admin-page",children:c.jsxs("div",{className:"admin-login",children:[c.jsx("h1",{children:"Mission Control"}),c.jsx("p",{children:"Enter admin code to access"}),c.jsxs("form",{onSubmit:d,children:[c.jsx("input",{type:"password",value:r,onChange:m=>i(m.target.value),placeholder:"Admin code...",autoFocus:!0}),s&&c.jsx("p",{className:"error",children:s}),c.jsx("button",{type:"submit",children:"Access"})]}),c.jsx("button",{className:"back-link",onClick:t,children:" Back to site"})]})})}function fS(){const[t,e]=M.useState(!1);M.useEffect(()=>{new URLSearchParams(window.location.search).get("admin")==="true"&&e(!0)},[]);const n=()=>{e(!0),window.history.pushState({},"","?admin=true")},r=()=>{e(!1),window.history.pushState({},"",window.location.pathname)};return t?c.jsx(dS,{onBack:r}):c.jsx(uS,{children:c.jsxs("div",{className:"app",children:[c.jsx("div",{className:"stars"}),c.jsx("div",{className:"stars2"}),c.jsx("div",{className:"stars3"}),c.jsxs("main",{children:[c.jsx(Wv,{}),c.jsx(Yv,{}),c.jsx(iS,{}),c.jsx(lS,{}),c.jsx(sS,{})]}),c.jsxs("footer",{children:[c.jsx("p",{children:"See you among the stars!"}),c.jsx("button",{className:"admin-link",onClick:n,children:"Mission Control"})]})]})})}Pl.createRoot(document.getElementById("root")).render(c.jsx(Pg.StrictMode,{children:c.jsx(fS,{})}));
