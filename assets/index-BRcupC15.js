(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Rg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ah={exports:{}},wo={},jh={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ls=Symbol.for("react.element"),Pg=Symbol.for("react.portal"),Ag=Symbol.for("react.fragment"),jg=Symbol.for("react.strict_mode"),Dg=Symbol.for("react.profiler"),Mg=Symbol.for("react.provider"),Lg=Symbol.for("react.context"),Og=Symbol.for("react.forward_ref"),bg=Symbol.for("react.suspense"),Fg=Symbol.for("react.memo"),zg=Symbol.for("react.lazy"),Rc=Symbol.iterator;function Bg(t){return t===null||typeof t!="object"?null:(t=Rc&&t[Rc]||t["@@iterator"],typeof t=="function"?t:null)}var Dh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mh=Object.assign,Lh={};function Er(t,e,n){this.props=t,this.context=e,this.refs=Lh,this.updater=n||Dh}Er.prototype.isReactComponent={};Er.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Er.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Oh(){}Oh.prototype=Er.prototype;function qa(t,e,n){this.props=t,this.context=e,this.refs=Lh,this.updater=n||Dh}var Xa=qa.prototype=new Oh;Xa.constructor=qa;Mh(Xa,Er.prototype);Xa.isPureReactComponent=!0;var Pc=Array.isArray,bh=Object.prototype.hasOwnProperty,Za={current:null},Fh={key:!0,ref:!0,__self:!0,__source:!0};function zh(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)bh.call(e,r)&&!Fh.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ls,type:t,key:i,ref:o,props:s,_owner:Za.current}}function Ug(t,e){return{$$typeof:Ls,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ja(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ls}function Vg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ac=/\/+/g;function qo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Vg(""+t.key):e.toString(36)}function vi(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ls:case Pg:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+qo(o,0):r,Pc(s)?(n="",t!=null&&(n=t.replace(Ac,"$&/")+"/"),vi(s,e,n,"",function(c){return c})):s!=null&&(Ja(s)&&(s=Ug(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ac,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Pc(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+qo(i,l);o+=vi(i,e,n,a,s)}else if(a=Bg(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+qo(i,l++),o+=vi(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xs(t,e,n){if(t==null)return t;var r=[],s=0;return vi(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Hg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Me={current:null},yi={transition:null},Wg={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:yi,ReactCurrentOwner:Za};function Bh(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:Xs,forEach:function(t,e,n){Xs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xs(t,function(){e++}),e},toArray:function(t){return Xs(t,function(e){return e})||[]},only:function(t){if(!Ja(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};z.Component=Er;z.Fragment=Ag;z.Profiler=Dg;z.PureComponent=qa;z.StrictMode=jg;z.Suspense=bg;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wg;z.act=Bh;z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Mh({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Za.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)bh.call(e,a)&&!Fh.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Ls,type:t.type,key:s,ref:i,props:r,_owner:o}};z.createContext=function(t){return t={$$typeof:Lg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Mg,_context:t},t.Consumer=t};z.createElement=zh;z.createFactory=function(t){var e=zh.bind(null,t);return e.type=t,e};z.createRef=function(){return{current:null}};z.forwardRef=function(t){return{$$typeof:Og,render:t}};z.isValidElement=Ja;z.lazy=function(t){return{$$typeof:zg,_payload:{_status:-1,_result:t},_init:Hg}};z.memo=function(t,e){return{$$typeof:Fg,type:t,compare:e===void 0?null:e}};z.startTransition=function(t){var e=yi.transition;yi.transition={};try{t()}finally{yi.transition=e}};z.unstable_act=Bh;z.useCallback=function(t,e){return Me.current.useCallback(t,e)};z.useContext=function(t){return Me.current.useContext(t)};z.useDebugValue=function(){};z.useDeferredValue=function(t){return Me.current.useDeferredValue(t)};z.useEffect=function(t,e){return Me.current.useEffect(t,e)};z.useId=function(){return Me.current.useId()};z.useImperativeHandle=function(t,e,n){return Me.current.useImperativeHandle(t,e,n)};z.useInsertionEffect=function(t,e){return Me.current.useInsertionEffect(t,e)};z.useLayoutEffect=function(t,e){return Me.current.useLayoutEffect(t,e)};z.useMemo=function(t,e){return Me.current.useMemo(t,e)};z.useReducer=function(t,e,n){return Me.current.useReducer(t,e,n)};z.useRef=function(t){return Me.current.useRef(t)};z.useState=function(t){return Me.current.useState(t)};z.useSyncExternalStore=function(t,e,n){return Me.current.useSyncExternalStore(t,e,n)};z.useTransition=function(){return Me.current.useTransition()};z.version="18.3.1";jh.exports=z;var k=jh.exports;const $g=Rg(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg=k,Yg=Symbol.for("react.element"),Qg=Symbol.for("react.fragment"),Kg=Object.prototype.hasOwnProperty,qg=Gg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xg={key:!0,ref:!0,__self:!0,__source:!0};function Uh(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Kg.call(e,r)&&!Xg.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Yg,type:t,key:i,ref:o,props:s,_owner:qg.current}}wo.Fragment=Qg;wo.jsx=Uh;wo.jsxs=Uh;Ah.exports=wo;var u=Ah.exports,Ml={},Vh={exports:{}},Ke={},Hh={exports:{}},Wh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,E){var A=N.length;N.push(E);e:for(;0<A;){var B=A-1>>>1,G=N[B];if(0<s(G,E))N[B]=E,N[A]=G,A=B;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var E=N[0],A=N.pop();if(A!==E){N[0]=A;e:for(var B=0,G=N.length,oe=G>>>1;B<oe;){var ae=2*(B+1)-1,We=N[ae],_n=ae+1,qs=N[_n];if(0>s(We,A))_n<G&&0>s(qs,We)?(N[B]=qs,N[_n]=A,B=_n):(N[B]=We,N[ae]=A,B=ae);else if(_n<G&&0>s(qs,A))N[B]=qs,N[_n]=A,B=_n;else break e}}return E}function s(N,E){var A=N.sortIndex-E.sortIndex;return A!==0?A:N.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],f=1,d=null,h=3,_=!1,v=!1,y=!1,D=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(N){for(var E=n(c);E!==null;){if(E.callback===null)r(c);else if(E.startTime<=N)r(c),E.sortIndex=E.expirationTime,e(a,E);else break;E=n(c)}}function w(N){if(y=!1,g(N),!v)if(n(a)!==null)v=!0,Ve(x);else{var E=n(c);E!==null&&He(w,E.startTime-N)}}function x(N,E){v=!1,y&&(y=!1,m(P),P=-1),_=!0;var A=h;try{for(g(E),d=n(a);d!==null&&(!(d.expirationTime>E)||N&&!xe());){var B=d.callback;if(typeof B=="function"){d.callback=null,h=d.priorityLevel;var G=B(d.expirationTime<=E);E=t.unstable_now(),typeof G=="function"?d.callback=G:d===n(a)&&r(a),g(E)}else r(a);d=n(a)}if(d!==null)var oe=!0;else{var ae=n(c);ae!==null&&He(w,ae.startTime-E),oe=!1}return oe}finally{d=null,h=A,_=!1}}var T=!1,I=null,P=-1,H=5,L=-1;function xe(){return!(t.unstable_now()-L<H)}function _t(){if(I!==null){var N=t.unstable_now();L=N;var E=!0;try{E=I(!0,N)}finally{E?xt():(T=!1,I=null)}}else T=!1}var xt;if(typeof p=="function")xt=function(){p(_t)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Re=j.port2;j.port1.onmessage=_t,xt=function(){Re.postMessage(null)}}else xt=function(){D(_t,0)};function Ve(N){I=N,T||(T=!0,xt())}function He(N,E){P=D(function(){N(t.unstable_now())},E)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){v||_||(v=!0,Ve(x))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var E=3;break;default:E=h}var A=h;h=E;try{return N()}finally{h=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,E){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var A=h;h=N;try{return E()}finally{h=A}},t.unstable_scheduleCallback=function(N,E,A){var B=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?B+A:B):A=B,N){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=A+G,N={id:f++,callback:E,priorityLevel:N,startTime:A,expirationTime:G,sortIndex:-1},A>B?(N.sortIndex=A,e(c,N),n(a)===null&&N===n(c)&&(y?(m(P),P=-1):y=!0,He(w,A-B))):(N.sortIndex=G,e(a,N),v||_||(v=!0,Ve(x))),N},t.unstable_shouldYield=xe,t.unstable_wrapCallback=function(N){var E=h;return function(){var A=h;h=E;try{return N.apply(this,arguments)}finally{h=A}}}})(Wh);Hh.exports=Wh;var Zg=Hh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg=k,Qe=Zg;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $h=new Set,os={};function bn(t,e){cr(t,e),cr(t+"Capture",e)}function cr(t,e){for(os[t]=e,t=0;t<e.length;t++)$h.add(e[t])}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ll=Object.prototype.hasOwnProperty,e_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jc={},Dc={};function t_(t){return Ll.call(Dc,t)?!0:Ll.call(jc,t)?!1:e_.test(t)?Dc[t]=!0:(jc[t]=!0,!1)}function n_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function r_(t,e,n,r){if(e===null||typeof e>"u"||n_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Le(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ee[t]=new Le(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ee[e]=new Le(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ee[t]=new Le(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ee[t]=new Le(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ee[t]=new Le(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ee[t]=new Le(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ee[t]=new Le(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ee[t]=new Le(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ee[t]=new Le(t,5,!1,t.toLowerCase(),null,!1,!1)});var eu=/[\-:]([a-z])/g;function tu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(eu,tu);Ee[e]=new Le(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(eu,tu);Ee[e]=new Le(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(eu,tu);Ee[e]=new Le(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ee[t]=new Le(t,1,!1,t.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new Le("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ee[t]=new Le(t,1,!1,t.toLowerCase(),null,!0,!0)});function nu(t,e,n,r){var s=Ee.hasOwnProperty(e)?Ee[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(r_(e,n,s,r)&&(n=null),r||s===null?t_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ft=Jg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zs=Symbol.for("react.element"),Hn=Symbol.for("react.portal"),Wn=Symbol.for("react.fragment"),ru=Symbol.for("react.strict_mode"),Ol=Symbol.for("react.profiler"),Gh=Symbol.for("react.provider"),Yh=Symbol.for("react.context"),su=Symbol.for("react.forward_ref"),bl=Symbol.for("react.suspense"),Fl=Symbol.for("react.suspense_list"),iu=Symbol.for("react.memo"),Ut=Symbol.for("react.lazy"),Qh=Symbol.for("react.offscreen"),Mc=Symbol.iterator;function Pr(t){return t===null||typeof t!="object"?null:(t=Mc&&t[Mc]||t["@@iterator"],typeof t=="function"?t:null)}var re=Object.assign,Xo;function Vr(t){if(Xo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xo=e&&e[1]||""}return`
`+Xo+t}var Zo=!1;function Jo(t,e){if(!t||Zo)return"";Zo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Zo=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vr(t):""}function s_(t){switch(t.tag){case 5:return Vr(t.type);case 16:return Vr("Lazy");case 13:return Vr("Suspense");case 19:return Vr("SuspenseList");case 0:case 2:case 15:return t=Jo(t.type,!1),t;case 11:return t=Jo(t.type.render,!1),t;case 1:return t=Jo(t.type,!0),t;default:return""}}function zl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wn:return"Fragment";case Hn:return"Portal";case Ol:return"Profiler";case ru:return"StrictMode";case bl:return"Suspense";case Fl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yh:return(t.displayName||"Context")+".Consumer";case Gh:return(t._context.displayName||"Context")+".Provider";case su:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case iu:return e=t.displayName||null,e!==null?e:zl(t.type)||"Memo";case Ut:e=t._payload,t=t._init;try{return zl(t(e))}catch{}}return null}function i_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zl(e);case 8:return e===ru?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ln(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function o_(t){var e=Kh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Js(t){t._valueTracker||(t._valueTracker=o_(t))}function qh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Kh(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bl(t,e){var n=e.checked;return re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Lc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ln(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Xh(t,e){e=e.checked,e!=null&&nu(t,"checked",e,!1)}function Ul(t,e){Xh(t,e);var n=ln(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Vl(t,e.type,ln(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Oc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Vl(t,e,n){(e!=="number"||Ai(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hr=Array.isArray;function nr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ln(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Hl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(C(92));if(Hr(n)){if(1<n.length)throw Error(C(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ln(n)}}function Zh(t,e){var n=ln(e.value),r=ln(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Fc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Jh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Jh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ei,ef=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ei=ei||document.createElement("div"),ei.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ei.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ls(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},l_=["Webkit","ms","Moz","O"];Object.keys(Gr).forEach(function(t){l_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gr[e]=Gr[t]})});function tf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Gr.hasOwnProperty(t)&&Gr[t]?(""+e).trim():e+"px"}function nf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=tf(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var a_=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $l(t,e){if(e){if(a_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function Gl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yl=null;function ou(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ql=null,rr=null,sr=null;function zc(t){if(t=Fs(t)){if(typeof Ql!="function")throw Error(C(280));var e=t.stateNode;e&&(e=No(e),Ql(t.stateNode,t.type,e))}}function rf(t){rr?sr?sr.push(t):sr=[t]:rr=t}function sf(){if(rr){var t=rr,e=sr;if(sr=rr=null,zc(t),e)for(t=0;t<e.length;t++)zc(e[t])}}function of(t,e){return t(e)}function lf(){}var el=!1;function af(t,e,n){if(el)return t(e,n);el=!0;try{return of(t,e,n)}finally{el=!1,(rr!==null||sr!==null)&&(lf(),sf())}}function as(t,e){var n=t.stateNode;if(n===null)return null;var r=No(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(C(231,e,typeof n));return n}var Kl=!1;if(jt)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){Kl=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{Kl=!1}function u_(t,e,n,r,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Yr=!1,ji=null,Di=!1,ql=null,c_={onError:function(t){Yr=!0,ji=t}};function d_(t,e,n,r,s,i,o,l,a){Yr=!1,ji=null,u_.apply(c_,arguments)}function h_(t,e,n,r,s,i,o,l,a){if(d_.apply(this,arguments),Yr){if(Yr){var c=ji;Yr=!1,ji=null}else throw Error(C(198));Di||(Di=!0,ql=c)}}function Fn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function uf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bc(t){if(Fn(t)!==t)throw Error(C(188))}function f_(t){var e=t.alternate;if(!e){if(e=Fn(t),e===null)throw Error(C(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Bc(s),t;if(i===r)return Bc(s),e;i=i.sibling}throw Error(C(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?t:e}function cf(t){return t=f_(t),t!==null?df(t):null}function df(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=df(t);if(e!==null)return e;t=t.sibling}return null}var hf=Qe.unstable_scheduleCallback,Uc=Qe.unstable_cancelCallback,p_=Qe.unstable_shouldYield,m_=Qe.unstable_requestPaint,le=Qe.unstable_now,g_=Qe.unstable_getCurrentPriorityLevel,lu=Qe.unstable_ImmediatePriority,ff=Qe.unstable_UserBlockingPriority,Mi=Qe.unstable_NormalPriority,__=Qe.unstable_LowPriority,pf=Qe.unstable_IdlePriority,Co=null,Ct=null;function v_(t){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Co,t,void 0,(t.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:C_,y_=Math.log,w_=Math.LN2;function C_(t){return t>>>=0,t===0?32:31-(y_(t)/w_|0)|0}var ti=64,ni=4194304;function Wr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Li(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Wr(l):(i&=o,i!==0&&(r=Wr(i)))}else o=n&~s,o!==0?r=Wr(o):i!==0&&(r=Wr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ft(e),s=1<<n,r|=t[n],e&=~s;return r}function E_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ft(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=E_(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function Xl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mf(){var t=ti;return ti<<=1,!(ti&4194240)&&(ti=64),t}function tl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Os(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ft(e),t[e]=n}function x_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ft(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function au(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ft(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var W=0;function gf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _f,uu,vf,yf,wf,Zl=!1,ri=[],Qt=null,Kt=null,qt=null,us=new Map,cs=new Map,Ht=[],N_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vc(t,e){switch(t){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Kt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":us.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cs.delete(e.pointerId)}}function jr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Fs(e),e!==null&&uu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function k_(t,e,n,r,s){switch(e){case"focusin":return Qt=jr(Qt,t,e,n,r,s),!0;case"dragenter":return Kt=jr(Kt,t,e,n,r,s),!0;case"mouseover":return qt=jr(qt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return us.set(i,jr(us.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,cs.set(i,jr(cs.get(i)||null,t,e,n,r,s)),!0}return!1}function Cf(t){var e=En(t.target);if(e!==null){var n=Fn(e);if(n!==null){if(e=n.tag,e===13){if(e=uf(n),e!==null){t.blockedOn=e,wf(t.priority,function(){vf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Yl=r,n.target.dispatchEvent(r),Yl=null}else return e=Fs(n),e!==null&&uu(e),t.blockedOn=n,!1;e.shift()}return!0}function Hc(t,e,n){wi(t)&&n.delete(e)}function T_(){Zl=!1,Qt!==null&&wi(Qt)&&(Qt=null),Kt!==null&&wi(Kt)&&(Kt=null),qt!==null&&wi(qt)&&(qt=null),us.forEach(Hc),cs.forEach(Hc)}function Dr(t,e){t.blockedOn===e&&(t.blockedOn=null,Zl||(Zl=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,T_)))}function ds(t){function e(s){return Dr(s,t)}if(0<ri.length){Dr(ri[0],t);for(var n=1;n<ri.length;n++){var r=ri[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qt!==null&&Dr(Qt,t),Kt!==null&&Dr(Kt,t),qt!==null&&Dr(qt,t),us.forEach(e),cs.forEach(e),n=0;n<Ht.length;n++)r=Ht[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ht.length&&(n=Ht[0],n.blockedOn===null);)Cf(n),n.blockedOn===null&&Ht.shift()}var ir=Ft.ReactCurrentBatchConfig,Oi=!0;function I_(t,e,n,r){var s=W,i=ir.transition;ir.transition=null;try{W=1,cu(t,e,n,r)}finally{W=s,ir.transition=i}}function R_(t,e,n,r){var s=W,i=ir.transition;ir.transition=null;try{W=4,cu(t,e,n,r)}finally{W=s,ir.transition=i}}function cu(t,e,n,r){if(Oi){var s=Jl(t,e,n,r);if(s===null)dl(t,e,r,bi,n),Vc(t,r);else if(k_(s,t,e,n,r))r.stopPropagation();else if(Vc(t,r),e&4&&-1<N_.indexOf(t)){for(;s!==null;){var i=Fs(s);if(i!==null&&_f(i),i=Jl(t,e,n,r),i===null&&dl(t,e,r,bi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else dl(t,e,r,null,n)}}var bi=null;function Jl(t,e,n,r){if(bi=null,t=ou(r),t=En(t),t!==null)if(e=Fn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=uf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bi=t,null}function Ef(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g_()){case lu:return 1;case ff:return 4;case Mi:case __:return 16;case pf:return 536870912;default:return 16}default:return 16}}var $t=null,du=null,Ci=null;function Sf(){if(Ci)return Ci;var t,e=du,n=e.length,r,s="value"in $t?$t.value:$t.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ci=s.slice(t,1<r?1-r:void 0)}function Ei(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function si(){return!0}function Wc(){return!1}function qe(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?si:Wc,this.isPropagationStopped=Wc,this}return re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),e}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hu=qe(Sr),bs=re({},Sr,{view:0,detail:0}),P_=qe(bs),nl,rl,Mr,Eo=re({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mr&&(Mr&&t.type==="mousemove"?(nl=t.screenX-Mr.screenX,rl=t.screenY-Mr.screenY):rl=nl=0,Mr=t),nl)},movementY:function(t){return"movementY"in t?t.movementY:rl}}),$c=qe(Eo),A_=re({},Eo,{dataTransfer:0}),j_=qe(A_),D_=re({},bs,{relatedTarget:0}),sl=qe(D_),M_=re({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),L_=qe(M_),O_=re({},Sr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),b_=qe(O_),F_=re({},Sr,{data:0}),Gc=qe(F_),z_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=U_[t])?!!e[t]:!1}function fu(){return V_}var H_=re({},bs,{key:function(t){if(t.key){var e=z_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ei(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?B_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fu,charCode:function(t){return t.type==="keypress"?Ei(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ei(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),W_=qe(H_),$_=re({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yc=qe($_),G_=re({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fu}),Y_=qe(G_),Q_=re({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),K_=qe(Q_),q_=re({},Eo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),X_=qe(q_),Z_=[9,13,27,32],pu=jt&&"CompositionEvent"in window,Qr=null;jt&&"documentMode"in document&&(Qr=document.documentMode);var J_=jt&&"TextEvent"in window&&!Qr,xf=jt&&(!pu||Qr&&8<Qr&&11>=Qr),Qc=" ",Kc=!1;function Nf(t,e){switch(t){case"keyup":return Z_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $n=!1;function ev(t,e){switch(t){case"compositionend":return kf(e);case"keypress":return e.which!==32?null:(Kc=!0,Qc);case"textInput":return t=e.data,t===Qc&&Kc?null:t;default:return null}}function tv(t,e){if($n)return t==="compositionend"||!pu&&Nf(t,e)?(t=Sf(),Ci=du=$t=null,$n=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xf&&e.locale!=="ko"?null:e.data;default:return null}}var nv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nv[t.type]:e==="textarea"}function Tf(t,e,n,r){rf(r),e=Fi(e,"onChange"),0<e.length&&(n=new hu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kr=null,hs=null;function rv(t){Ff(t,0)}function So(t){var e=Qn(t);if(qh(e))return t}function sv(t,e){if(t==="change")return e}var If=!1;if(jt){var il;if(jt){var ol="oninput"in document;if(!ol){var Xc=document.createElement("div");Xc.setAttribute("oninput","return;"),ol=typeof Xc.oninput=="function"}il=ol}else il=!1;If=il&&(!document.documentMode||9<document.documentMode)}function Zc(){Kr&&(Kr.detachEvent("onpropertychange",Rf),hs=Kr=null)}function Rf(t){if(t.propertyName==="value"&&So(hs)){var e=[];Tf(e,hs,t,ou(t)),af(rv,e)}}function iv(t,e,n){t==="focusin"?(Zc(),Kr=e,hs=n,Kr.attachEvent("onpropertychange",Rf)):t==="focusout"&&Zc()}function ov(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return So(hs)}function lv(t,e){if(t==="click")return So(e)}function av(t,e){if(t==="input"||t==="change")return So(e)}function uv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gt=typeof Object.is=="function"?Object.is:uv;function fs(t,e){if(gt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ll.call(e,s)||!gt(t[s],e[s]))return!1}return!0}function Jc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ed(t,e){var n=Jc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jc(n)}}function Pf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Pf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Af(){for(var t=window,e=Ai();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ai(t.document)}return e}function mu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cv(t){var e=Af(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Pf(n.ownerDocument.documentElement,n)){if(r!==null&&mu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=ed(n,i);var o=ed(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dv=jt&&"documentMode"in document&&11>=document.documentMode,Gn=null,ea=null,qr=null,ta=!1;function td(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ta||Gn==null||Gn!==Ai(r)||(r=Gn,"selectionStart"in r&&mu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qr&&fs(qr,r)||(qr=r,r=Fi(ea,"onSelect"),0<r.length&&(e=new hu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Gn)))}function ii(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yn={animationend:ii("Animation","AnimationEnd"),animationiteration:ii("Animation","AnimationIteration"),animationstart:ii("Animation","AnimationStart"),transitionend:ii("Transition","TransitionEnd")},ll={},jf={};jt&&(jf=document.createElement("div").style,"AnimationEvent"in window||(delete Yn.animationend.animation,delete Yn.animationiteration.animation,delete Yn.animationstart.animation),"TransitionEvent"in window||delete Yn.transitionend.transition);function xo(t){if(ll[t])return ll[t];if(!Yn[t])return t;var e=Yn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jf)return ll[t]=e[n];return t}var Df=xo("animationend"),Mf=xo("animationiteration"),Lf=xo("animationstart"),Of=xo("transitionend"),bf=new Map,nd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fn(t,e){bf.set(t,e),bn(e,[t])}for(var al=0;al<nd.length;al++){var ul=nd[al],hv=ul.toLowerCase(),fv=ul[0].toUpperCase()+ul.slice(1);fn(hv,"on"+fv)}fn(Df,"onAnimationEnd");fn(Mf,"onAnimationIteration");fn(Lf,"onAnimationStart");fn("dblclick","onDoubleClick");fn("focusin","onFocus");fn("focusout","onBlur");fn(Of,"onTransitionEnd");cr("onMouseEnter",["mouseout","mouseover"]);cr("onMouseLeave",["mouseout","mouseover"]);cr("onPointerEnter",["pointerout","pointerover"]);cr("onPointerLeave",["pointerout","pointerover"]);bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bn("onBeforeInput",["compositionend","keypress","textInput","paste"]);bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pv=new Set("cancel close invalid load scroll toggle".split(" ").concat($r));function rd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,h_(r,e,void 0,t),t.currentTarget=null}function Ff(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;rd(s,l,c),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;rd(s,l,c),i=a}}}if(Di)throw t=ql,Di=!1,ql=null,t}function X(t,e){var n=e[oa];n===void 0&&(n=e[oa]=new Set);var r=t+"__bubble";n.has(r)||(zf(e,t,2,!1),n.add(r))}function cl(t,e,n){var r=0;e&&(r|=4),zf(n,t,r,e)}var oi="_reactListening"+Math.random().toString(36).slice(2);function ps(t){if(!t[oi]){t[oi]=!0,$h.forEach(function(n){n!=="selectionchange"&&(pv.has(n)||cl(n,!1,t),cl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[oi]||(e[oi]=!0,cl("selectionchange",!1,e))}}function zf(t,e,n,r){switch(Ef(e)){case 1:var s=I_;break;case 4:s=R_;break;default:s=cu}n=s.bind(null,e,n,t),s=void 0,!Kl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function dl(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=En(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}af(function(){var c=i,f=ou(n),d=[];e:{var h=bf.get(t);if(h!==void 0){var _=hu,v=t;switch(t){case"keypress":if(Ei(n)===0)break e;case"keydown":case"keyup":_=W_;break;case"focusin":v="focus",_=sl;break;case"focusout":v="blur",_=sl;break;case"beforeblur":case"afterblur":_=sl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=$c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=j_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Y_;break;case Df:case Mf:case Lf:_=L_;break;case Of:_=K_;break;case"scroll":_=P_;break;case"wheel":_=X_;break;case"copy":case"cut":case"paste":_=b_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Yc}var y=(e&4)!==0,D=!y&&t==="scroll",m=y?h!==null?h+"Capture":null:h;y=[];for(var p=c,g;p!==null;){g=p;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,m!==null&&(w=as(p,m),w!=null&&y.push(ms(p,w,g)))),D)break;p=p.return}0<y.length&&(h=new _(h,v,null,n,f),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",h&&n!==Yl&&(v=n.relatedTarget||n.fromElement)&&(En(v)||v[Dt]))break e;if((_||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,_?(v=n.relatedTarget||n.toElement,_=c,v=v?En(v):null,v!==null&&(D=Fn(v),v!==D||v.tag!==5&&v.tag!==6)&&(v=null)):(_=null,v=c),_!==v)){if(y=$c,w="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=Yc,w="onPointerLeave",m="onPointerEnter",p="pointer"),D=_==null?h:Qn(_),g=v==null?h:Qn(v),h=new y(w,p+"leave",_,n,f),h.target=D,h.relatedTarget=g,w=null,En(f)===c&&(y=new y(m,p+"enter",v,n,f),y.target=g,y.relatedTarget=D,w=y),D=w,_&&v)t:{for(y=_,m=v,p=0,g=y;g;g=Un(g))p++;for(g=0,w=m;w;w=Un(w))g++;for(;0<p-g;)y=Un(y),p--;for(;0<g-p;)m=Un(m),g--;for(;p--;){if(y===m||m!==null&&y===m.alternate)break t;y=Un(y),m=Un(m)}y=null}else y=null;_!==null&&sd(d,h,_,y,!1),v!==null&&D!==null&&sd(d,D,v,y,!0)}}e:{if(h=c?Qn(c):window,_=h.nodeName&&h.nodeName.toLowerCase(),_==="select"||_==="input"&&h.type==="file")var x=sv;else if(qc(h))if(If)x=av;else{x=ov;var T=iv}else(_=h.nodeName)&&_.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=lv);if(x&&(x=x(t,c))){Tf(d,x,n,f);break e}T&&T(t,h,c),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Vl(h,"number",h.value)}switch(T=c?Qn(c):window,t){case"focusin":(qc(T)||T.contentEditable==="true")&&(Gn=T,ea=c,qr=null);break;case"focusout":qr=ea=Gn=null;break;case"mousedown":ta=!0;break;case"contextmenu":case"mouseup":case"dragend":ta=!1,td(d,n,f);break;case"selectionchange":if(dv)break;case"keydown":case"keyup":td(d,n,f)}var I;if(pu)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else $n?Nf(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(xf&&n.locale!=="ko"&&($n||P!=="onCompositionStart"?P==="onCompositionEnd"&&$n&&(I=Sf()):($t=f,du="value"in $t?$t.value:$t.textContent,$n=!0)),T=Fi(c,P),0<T.length&&(P=new Gc(P,t,null,n,f),d.push({event:P,listeners:T}),I?P.data=I:(I=kf(n),I!==null&&(P.data=I)))),(I=J_?ev(t,n):tv(t,n))&&(c=Fi(c,"onBeforeInput"),0<c.length&&(f=new Gc("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:c}),f.data=I))}Ff(d,e)})}function ms(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fi(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=as(t,n),i!=null&&r.unshift(ms(t,i,s)),i=as(t,e),i!=null&&r.push(ms(t,i,s))),t=t.return}return r}function Un(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sd(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,s?(a=as(n,i),a!=null&&o.unshift(ms(n,a,l))):s||(a=as(n,i),a!=null&&o.push(ms(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var mv=/\r\n?/g,gv=/\u0000|\uFFFD/g;function id(t){return(typeof t=="string"?t:""+t).replace(mv,`
`).replace(gv,"")}function li(t,e,n){if(e=id(e),id(t)!==e&&n)throw Error(C(425))}function zi(){}var na=null,ra=null;function sa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ia=typeof setTimeout=="function"?setTimeout:void 0,_v=typeof clearTimeout=="function"?clearTimeout:void 0,od=typeof Promise=="function"?Promise:void 0,vv=typeof queueMicrotask=="function"?queueMicrotask:typeof od<"u"?function(t){return od.resolve(null).then(t).catch(yv)}:ia;function yv(t){setTimeout(function(){throw t})}function hl(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ds(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ds(e)}function Xt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ld(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xr=Math.random().toString(36).slice(2),wt="__reactFiber$"+xr,gs="__reactProps$"+xr,Dt="__reactContainer$"+xr,oa="__reactEvents$"+xr,wv="__reactListeners$"+xr,Cv="__reactHandles$"+xr;function En(t){var e=t[wt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dt]||n[wt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ld(t);t!==null;){if(n=t[wt])return n;t=ld(t)}return e}t=n,n=t.parentNode}return null}function Fs(t){return t=t[wt]||t[Dt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function No(t){return t[gs]||null}var la=[],Kn=-1;function pn(t){return{current:t}}function Z(t){0>Kn||(t.current=la[Kn],la[Kn]=null,Kn--)}function q(t,e){Kn++,la[Kn]=t.current,t.current=e}var an={},Ie=pn(an),ze=pn(!1),Rn=an;function dr(t,e){var n=t.type.contextTypes;if(!n)return an;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Be(t){return t=t.childContextTypes,t!=null}function Bi(){Z(ze),Z(Ie)}function ad(t,e,n){if(Ie.current!==an)throw Error(C(168));q(Ie,e),q(ze,n)}function Bf(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(C(108,i_(t)||"Unknown",s));return re({},n,r)}function Ui(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||an,Rn=Ie.current,q(Ie,t),q(ze,ze.current),!0}function ud(t,e,n){var r=t.stateNode;if(!r)throw Error(C(169));n?(t=Bf(t,e,Rn),r.__reactInternalMemoizedMergedChildContext=t,Z(ze),Z(Ie),q(Ie,t)):Z(ze),q(ze,n)}var kt=null,ko=!1,fl=!1;function Uf(t){kt===null?kt=[t]:kt.push(t)}function Ev(t){ko=!0,Uf(t)}function mn(){if(!fl&&kt!==null){fl=!0;var t=0,e=W;try{var n=kt;for(W=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}kt=null,ko=!1}catch(s){throw kt!==null&&(kt=kt.slice(t+1)),hf(lu,mn),s}finally{W=e,fl=!1}}return null}var qn=[],Xn=0,Vi=null,Hi=0,Xe=[],Ze=0,Pn=null,Tt=1,It="";function vn(t,e){qn[Xn++]=Hi,qn[Xn++]=Vi,Vi=t,Hi=e}function Vf(t,e,n){Xe[Ze++]=Tt,Xe[Ze++]=It,Xe[Ze++]=Pn,Pn=t;var r=Tt;t=It;var s=32-ft(r)-1;r&=~(1<<s),n+=1;var i=32-ft(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Tt=1<<32-ft(e)+s|n<<s|r,It=i+t}else Tt=1<<i|n<<s|r,It=t}function gu(t){t.return!==null&&(vn(t,1),Vf(t,1,0))}function _u(t){for(;t===Vi;)Vi=qn[--Xn],qn[Xn]=null,Hi=qn[--Xn],qn[Xn]=null;for(;t===Pn;)Pn=Xe[--Ze],Xe[Ze]=null,It=Xe[--Ze],Xe[Ze]=null,Tt=Xe[--Ze],Xe[Ze]=null}var Ye=null,Ge=null,J=!1,at=null;function Hf(t,e){var n=Je(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ye=t,Ge=Xt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ye=t,Ge=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pn!==null?{id:Tt,overflow:It}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Je(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ye=t,Ge=null,!0):!1;default:return!1}}function aa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ua(t){if(J){var e=Ge;if(e){var n=e;if(!cd(t,e)){if(aa(t))throw Error(C(418));e=Xt(n.nextSibling);var r=Ye;e&&cd(t,e)?Hf(r,n):(t.flags=t.flags&-4097|2,J=!1,Ye=t)}}else{if(aa(t))throw Error(C(418));t.flags=t.flags&-4097|2,J=!1,Ye=t}}}function dd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ye=t}function ai(t){if(t!==Ye)return!1;if(!J)return dd(t),J=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sa(t.type,t.memoizedProps)),e&&(e=Ge)){if(aa(t))throw Wf(),Error(C(418));for(;e;)Hf(t,e),e=Xt(e.nextSibling)}if(dd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ge=Xt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ge=null}}else Ge=Ye?Xt(t.stateNode.nextSibling):null;return!0}function Wf(){for(var t=Ge;t;)t=Xt(t.nextSibling)}function hr(){Ge=Ye=null,J=!1}function vu(t){at===null?at=[t]:at.push(t)}var Sv=Ft.ReactCurrentBatchConfig;function Lr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,t))}return t}function ui(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hd(t){var e=t._init;return e(t._payload)}function $f(t){function e(m,p){if(t){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=tn(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,p,g,w){return p===null||p.tag!==6?(p=wl(g,m.mode,w),p.return=m,p):(p=s(p,g),p.return=m,p)}function a(m,p,g,w){var x=g.type;return x===Wn?f(m,p,g.props.children,w,g.key):p!==null&&(p.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ut&&hd(x)===p.type)?(w=s(p,g.props),w.ref=Lr(m,p,g),w.return=m,w):(w=Ri(g.type,g.key,g.props,null,m.mode,w),w.ref=Lr(m,p,g),w.return=m,w)}function c(m,p,g,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Cl(g,m.mode,w),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function f(m,p,g,w,x){return p===null||p.tag!==7?(p=Tn(g,m.mode,w,x),p.return=m,p):(p=s(p,g),p.return=m,p)}function d(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=wl(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Zs:return g=Ri(p.type,p.key,p.props,null,m.mode,g),g.ref=Lr(m,null,p),g.return=m,g;case Hn:return p=Cl(p,m.mode,g),p.return=m,p;case Ut:var w=p._init;return d(m,w(p._payload),g)}if(Hr(p)||Pr(p))return p=Tn(p,m.mode,g,null),p.return=m,p;ui(m,p)}return null}function h(m,p,g,w){var x=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return x!==null?null:l(m,p,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zs:return g.key===x?a(m,p,g,w):null;case Hn:return g.key===x?c(m,p,g,w):null;case Ut:return x=g._init,h(m,p,x(g._payload),w)}if(Hr(g)||Pr(g))return x!==null?null:f(m,p,g,w,null);ui(m,g)}return null}function _(m,p,g,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(g)||null,l(p,m,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zs:return m=m.get(w.key===null?g:w.key)||null,a(p,m,w,x);case Hn:return m=m.get(w.key===null?g:w.key)||null,c(p,m,w,x);case Ut:var T=w._init;return _(m,p,g,T(w._payload),x)}if(Hr(w)||Pr(w))return m=m.get(g)||null,f(p,m,w,x,null);ui(p,w)}return null}function v(m,p,g,w){for(var x=null,T=null,I=p,P=p=0,H=null;I!==null&&P<g.length;P++){I.index>P?(H=I,I=null):H=I.sibling;var L=h(m,I,g[P],w);if(L===null){I===null&&(I=H);break}t&&I&&L.alternate===null&&e(m,I),p=i(L,p,P),T===null?x=L:T.sibling=L,T=L,I=H}if(P===g.length)return n(m,I),J&&vn(m,P),x;if(I===null){for(;P<g.length;P++)I=d(m,g[P],w),I!==null&&(p=i(I,p,P),T===null?x=I:T.sibling=I,T=I);return J&&vn(m,P),x}for(I=r(m,I);P<g.length;P++)H=_(I,m,P,g[P],w),H!==null&&(t&&H.alternate!==null&&I.delete(H.key===null?P:H.key),p=i(H,p,P),T===null?x=H:T.sibling=H,T=H);return t&&I.forEach(function(xe){return e(m,xe)}),J&&vn(m,P),x}function y(m,p,g,w){var x=Pr(g);if(typeof x!="function")throw Error(C(150));if(g=x.call(g),g==null)throw Error(C(151));for(var T=x=null,I=p,P=p=0,H=null,L=g.next();I!==null&&!L.done;P++,L=g.next()){I.index>P?(H=I,I=null):H=I.sibling;var xe=h(m,I,L.value,w);if(xe===null){I===null&&(I=H);break}t&&I&&xe.alternate===null&&e(m,I),p=i(xe,p,P),T===null?x=xe:T.sibling=xe,T=xe,I=H}if(L.done)return n(m,I),J&&vn(m,P),x;if(I===null){for(;!L.done;P++,L=g.next())L=d(m,L.value,w),L!==null&&(p=i(L,p,P),T===null?x=L:T.sibling=L,T=L);return J&&vn(m,P),x}for(I=r(m,I);!L.done;P++,L=g.next())L=_(I,m,P,L.value,w),L!==null&&(t&&L.alternate!==null&&I.delete(L.key===null?P:L.key),p=i(L,p,P),T===null?x=L:T.sibling=L,T=L);return t&&I.forEach(function(_t){return e(m,_t)}),J&&vn(m,P),x}function D(m,p,g,w){if(typeof g=="object"&&g!==null&&g.type===Wn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Zs:e:{for(var x=g.key,T=p;T!==null;){if(T.key===x){if(x=g.type,x===Wn){if(T.tag===7){n(m,T.sibling),p=s(T,g.props.children),p.return=m,m=p;break e}}else if(T.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ut&&hd(x)===T.type){n(m,T.sibling),p=s(T,g.props),p.ref=Lr(m,T,g),p.return=m,m=p;break e}n(m,T);break}else e(m,T);T=T.sibling}g.type===Wn?(p=Tn(g.props.children,m.mode,w,g.key),p.return=m,m=p):(w=Ri(g.type,g.key,g.props,null,m.mode,w),w.ref=Lr(m,p,g),w.return=m,m=w)}return o(m);case Hn:e:{for(T=g.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=Cl(g,m.mode,w),p.return=m,m=p}return o(m);case Ut:return T=g._init,D(m,p,T(g._payload),w)}if(Hr(g))return v(m,p,g,w);if(Pr(g))return y(m,p,g,w);ui(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,g),p.return=m,m=p):(n(m,p),p=wl(g,m.mode,w),p.return=m,m=p),o(m)):n(m,p)}return D}var fr=$f(!0),Gf=$f(!1),Wi=pn(null),$i=null,Zn=null,yu=null;function wu(){yu=Zn=$i=null}function Cu(t){var e=Wi.current;Z(Wi),t._currentValue=e}function ca(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function or(t,e){$i=t,yu=Zn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(be=!0),t.firstContext=null)}function nt(t){var e=t._currentValue;if(yu!==t)if(t={context:t,memoizedValue:e,next:null},Zn===null){if($i===null)throw Error(C(308));Zn=t,$i.dependencies={lanes:0,firstContext:t}}else Zn=Zn.next=t;return e}var Sn=null;function Eu(t){Sn===null?Sn=[t]:Sn.push(t)}function Yf(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Eu(e)):(n.next=s.next,s.next=n),e.interleaved=n,Mt(t,r)}function Mt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vt=!1;function Su(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,U&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Mt(t,n)}return s=r.interleaved,s===null?(e.next=e,Eu(r)):(e.next=s.next,s.next=e),r.interleaved=e,Mt(t,n)}function Si(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,au(t,n)}}function fd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gi(t,e,n,r){var s=t.updateQueue;Vt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=a))}if(i!==null){var d=s.baseState;o=0,f=c=a=null,l=i;do{var h=l.lane,_=l.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,y=l;switch(h=e,_=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(_,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(_,d,h):v,h==null)break e;d=re({},d,h);break e;case 2:Vt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else _={eventTime:_,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=_,a=d):f=f.next=_,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(a=d),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);jn|=o,t.lanes=o,t.memoizedState=d}}function pd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(C(191,s));s.call(r)}}}var zs={},Et=pn(zs),_s=pn(zs),vs=pn(zs);function xn(t){if(t===zs)throw Error(C(174));return t}function xu(t,e){switch(q(vs,e),q(_s,t),q(Et,zs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wl(e,t)}Z(Et),q(Et,e)}function pr(){Z(Et),Z(_s),Z(vs)}function Kf(t){xn(vs.current);var e=xn(Et.current),n=Wl(e,t.type);e!==n&&(q(_s,t),q(Et,n))}function Nu(t){_s.current===t&&(Z(Et),Z(_s))}var ee=pn(0);function Yi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pl=[];function ku(){for(var t=0;t<pl.length;t++)pl[t]._workInProgressVersionPrimary=null;pl.length=0}var xi=Ft.ReactCurrentDispatcher,ml=Ft.ReactCurrentBatchConfig,An=0,ne=null,ce=null,me=null,Qi=!1,Xr=!1,ys=0,xv=0;function Ne(){throw Error(C(321))}function Tu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gt(t[n],e[n]))return!1;return!0}function Iu(t,e,n,r,s,i){if(An=i,ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xi.current=t===null||t.memoizedState===null?Iv:Rv,t=n(r,s),Xr){i=0;do{if(Xr=!1,ys=0,25<=i)throw Error(C(301));i+=1,me=ce=null,e.updateQueue=null,xi.current=Pv,t=n(r,s)}while(Xr)}if(xi.current=Ki,e=ce!==null&&ce.next!==null,An=0,me=ce=ne=null,Qi=!1,e)throw Error(C(300));return t}function Ru(){var t=ys!==0;return ys=0,t}function yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ne.memoizedState=me=t:me=me.next=t,me}function rt(){if(ce===null){var t=ne.alternate;t=t!==null?t.memoizedState:null}else t=ce.next;var e=me===null?ne.memoizedState:me.next;if(e!==null)me=e,ce=t;else{if(t===null)throw Error(C(310));ce=t,t={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},me===null?ne.memoizedState=me=t:me=me.next=t}return me}function ws(t,e){return typeof e=="function"?e(t):e}function gl(t){var e=rt(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=ce,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,c=i;do{var f=c.lane;if((An&f)===f)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,ne.lanes|=f,jn|=f}c=c.next}while(c!==null&&c!==i);a===null?o=r:a.next=l,gt(r,e.memoizedState)||(be=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ne.lanes|=i,jn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _l(t){var e=rt(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);gt(i,e.memoizedState)||(be=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function qf(){}function Xf(t,e){var n=ne,r=rt(),s=e(),i=!gt(r.memoizedState,s);if(i&&(r.memoizedState=s,be=!0),r=r.queue,Pu(ep.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,Cs(9,Jf.bind(null,n,r,s,e),void 0,null),_e===null)throw Error(C(349));An&30||Zf(n,e,s)}return s}function Zf(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Jf(t,e,n,r){e.value=n,e.getSnapshot=r,tp(e)&&np(t)}function ep(t,e,n){return n(function(){tp(e)&&np(t)})}function tp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gt(t,n)}catch{return!0}}function np(t){var e=Mt(t,1);e!==null&&pt(e,t,1,-1)}function md(t){var e=yt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:t},e.queue=t,t=t.dispatch=Tv.bind(null,ne,t),[e.memoizedState,t]}function Cs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function rp(){return rt().memoizedState}function Ni(t,e,n,r){var s=yt();ne.flags|=t,s.memoizedState=Cs(1|e,n,void 0,r===void 0?null:r)}function To(t,e,n,r){var s=rt();r=r===void 0?null:r;var i=void 0;if(ce!==null){var o=ce.memoizedState;if(i=o.destroy,r!==null&&Tu(r,o.deps)){s.memoizedState=Cs(e,n,i,r);return}}ne.flags|=t,s.memoizedState=Cs(1|e,n,i,r)}function gd(t,e){return Ni(8390656,8,t,e)}function Pu(t,e){return To(2048,8,t,e)}function sp(t,e){return To(4,2,t,e)}function ip(t,e){return To(4,4,t,e)}function op(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lp(t,e,n){return n=n!=null?n.concat([t]):null,To(4,4,op.bind(null,e,t),n)}function Au(){}function ap(t,e){var n=rt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function up(t,e){var n=rt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function cp(t,e,n){return An&21?(gt(n,e)||(n=mf(),ne.lanes|=n,jn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,be=!0),t.memoizedState=n)}function Nv(t,e){var n=W;W=n!==0&&4>n?n:4,t(!0);var r=ml.transition;ml.transition={};try{t(!1),e()}finally{W=n,ml.transition=r}}function dp(){return rt().memoizedState}function kv(t,e,n){var r=en(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hp(t))fp(e,n);else if(n=Yf(t,e,n,r),n!==null){var s=je();pt(n,t,r,s),pp(n,e,r)}}function Tv(t,e,n){var r=en(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hp(t))fp(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,gt(l,o)){var a=e.interleaved;a===null?(s.next=s,Eu(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=Yf(t,e,s,r),n!==null&&(s=je(),pt(n,t,r,s),pp(n,e,r))}}function hp(t){var e=t.alternate;return t===ne||e!==null&&e===ne}function fp(t,e){Xr=Qi=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function pp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,au(t,n)}}var Ki={readContext:nt,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},Iv={readContext:nt,useCallback:function(t,e){return yt().memoizedState=[t,e===void 0?null:e],t},useContext:nt,useEffect:gd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ni(4194308,4,op.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ni(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ni(4,2,t,e)},useMemo:function(t,e){var n=yt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=yt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=kv.bind(null,ne,t),[r.memoizedState,t]},useRef:function(t){var e=yt();return t={current:t},e.memoizedState=t},useState:md,useDebugValue:Au,useDeferredValue:function(t){return yt().memoizedState=t},useTransition:function(){var t=md(!1),e=t[0];return t=Nv.bind(null,t[1]),yt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ne,s=yt();if(J){if(n===void 0)throw Error(C(407));n=n()}else{if(n=e(),_e===null)throw Error(C(349));An&30||Zf(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,gd(ep.bind(null,r,i,t),[t]),r.flags|=2048,Cs(9,Jf.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=yt(),e=_e.identifierPrefix;if(J){var n=It,r=Tt;n=(r&~(1<<32-ft(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ys++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Rv={readContext:nt,useCallback:ap,useContext:nt,useEffect:Pu,useImperativeHandle:lp,useInsertionEffect:sp,useLayoutEffect:ip,useMemo:up,useReducer:gl,useRef:rp,useState:function(){return gl(ws)},useDebugValue:Au,useDeferredValue:function(t){var e=rt();return cp(e,ce.memoizedState,t)},useTransition:function(){var t=gl(ws)[0],e=rt().memoizedState;return[t,e]},useMutableSource:qf,useSyncExternalStore:Xf,useId:dp,unstable_isNewReconciler:!1},Pv={readContext:nt,useCallback:ap,useContext:nt,useEffect:Pu,useImperativeHandle:lp,useInsertionEffect:sp,useLayoutEffect:ip,useMemo:up,useReducer:_l,useRef:rp,useState:function(){return _l(ws)},useDebugValue:Au,useDeferredValue:function(t){var e=rt();return ce===null?e.memoizedState=t:cp(e,ce.memoizedState,t)},useTransition:function(){var t=_l(ws)[0],e=rt().memoizedState;return[t,e]},useMutableSource:qf,useSyncExternalStore:Xf,useId:dp,unstable_isNewReconciler:!1};function ot(t,e){if(t&&t.defaultProps){e=re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function da(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Io={isMounted:function(t){return(t=t._reactInternals)?Fn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=je(),s=en(t),i=Pt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Zt(t,i,s),e!==null&&(pt(e,t,s,r),Si(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=je(),s=en(t),i=Pt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Zt(t,i,s),e!==null&&(pt(e,t,s,r),Si(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=je(),r=en(t),s=Pt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Zt(t,s,r),e!==null&&(pt(e,t,r,n),Si(e,t,r))}};function _d(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!fs(n,r)||!fs(s,i):!0}function mp(t,e,n){var r=!1,s=an,i=e.contextType;return typeof i=="object"&&i!==null?i=nt(i):(s=Be(e)?Rn:Ie.current,r=e.contextTypes,i=(r=r!=null)?dr(t,s):an),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Io,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function vd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Io.enqueueReplaceState(e,e.state,null)}function ha(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Su(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=nt(i):(i=Be(e)?Rn:Ie.current,s.context=dr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(da(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Io.enqueueReplaceState(s,s.state,null),Gi(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function mr(t,e){try{var n="",r=e;do n+=s_(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function vl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function fa(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Av=typeof WeakMap=="function"?WeakMap:Map;function gp(t,e,n){n=Pt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xi||(Xi=!0,Sa=r),fa(t,e)},n}function _p(t,e,n){n=Pt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){fa(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){fa(t,e),typeof r!="function"&&(Jt===null?Jt=new Set([this]):Jt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function yd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Av;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=$v.bind(null,t,e,n),e.then(t,t))}function wd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Cd(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pt(-1,1),e.tag=2,Zt(n,e,1))),n.lanes|=1),t)}var jv=Ft.ReactCurrentOwner,be=!1;function Pe(t,e,n,r){e.child=t===null?Gf(e,null,n,r):fr(e,t.child,n,r)}function Ed(t,e,n,r,s){n=n.render;var i=e.ref;return or(e,s),r=Iu(t,e,n,r,i,s),n=Ru(),t!==null&&!be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Lt(t,e,s)):(J&&n&&gu(e),e.flags|=1,Pe(t,e,r,s),e.child)}function Sd(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!zu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,vp(t,e,i,r,s)):(t=Ri(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:fs,n(o,r)&&t.ref===e.ref)return Lt(t,e,s)}return e.flags|=1,t=tn(i,r),t.ref=e.ref,t.return=e,e.child=t}function vp(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(fs(i,r)&&t.ref===e.ref)if(be=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(be=!0);else return e.lanes=t.lanes,Lt(t,e,s)}return pa(t,e,n,r,s)}function yp(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(er,$e),$e|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,q(er,$e),$e|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,q(er,$e),$e|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,q(er,$e),$e|=r;return Pe(t,e,s,n),e.child}function wp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pa(t,e,n,r,s){var i=Be(n)?Rn:Ie.current;return i=dr(e,i),or(e,s),n=Iu(t,e,n,r,i,s),r=Ru(),t!==null&&!be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Lt(t,e,s)):(J&&r&&gu(e),e.flags|=1,Pe(t,e,n,s),e.child)}function xd(t,e,n,r,s){if(Be(n)){var i=!0;Ui(e)}else i=!1;if(or(e,s),e.stateNode===null)ki(t,e),mp(e,n,r),ha(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=nt(c):(c=Be(n)?Rn:Ie.current,c=dr(e,c));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&vd(e,o,r,c),Vt=!1;var h=e.memoizedState;o.state=h,Gi(e,r,o,s),a=e.memoizedState,l!==r||h!==a||ze.current||Vt?(typeof f=="function"&&(da(e,n,f,r),a=e.memoizedState),(l=Vt||_d(e,n,l,r,h,a,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Qf(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:ot(e.type,l),o.props=c,d=e.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=nt(a):(a=Be(n)?Rn:Ie.current,a=dr(e,a));var _=n.getDerivedStateFromProps;(f=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==a)&&vd(e,o,r,a),Vt=!1,h=e.memoizedState,o.state=h,Gi(e,r,o,s);var v=e.memoizedState;l!==d||h!==v||ze.current||Vt?(typeof _=="function"&&(da(e,n,_,r),v=e.memoizedState),(c=Vt||_d(e,n,c,r,h,v,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return ma(t,e,n,r,i,s)}function ma(t,e,n,r,s,i){wp(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&ud(e,n,!1),Lt(t,e,i);r=e.stateNode,jv.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=fr(e,t.child,null,i),e.child=fr(e,null,l,i)):Pe(t,e,l,i),e.memoizedState=r.state,s&&ud(e,n,!0),e.child}function Cp(t){var e=t.stateNode;e.pendingContext?ad(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ad(t,e.context,!1),xu(t,e.containerInfo)}function Nd(t,e,n,r,s){return hr(),vu(s),e.flags|=256,Pe(t,e,n,r),e.child}var ga={dehydrated:null,treeContext:null,retryLane:0};function _a(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ep(t,e,n){var r=e.pendingProps,s=ee.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),q(ee,s&1),t===null)return ua(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ao(o,r,0,null),t=Tn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=_a(n),e.memoizedState=ga,t):ju(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Dv(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=tn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=tn(l,i):(i=Tn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?_a(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ga,r}return i=t.child,t=i.sibling,r=tn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ju(t,e){return e=Ao({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ci(t,e,n,r){return r!==null&&vu(r),fr(e,t.child,null,n),t=ju(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Dv(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=vl(Error(C(422))),ci(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ao({mode:"visible",children:r.children},s,0,null),i=Tn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&fr(e,t.child,null,o),e.child.memoizedState=_a(o),e.memoizedState=ga,i);if(!(e.mode&1))return ci(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(C(419)),r=vl(i,r,void 0),ci(t,e,o,r)}if(l=(o&t.childLanes)!==0,be||l){if(r=_e,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Mt(t,s),pt(r,t,s,-1))}return Fu(),r=vl(Error(C(421))),ci(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Gv.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ge=Xt(s.nextSibling),Ye=e,J=!0,at=null,t!==null&&(Xe[Ze++]=Tt,Xe[Ze++]=It,Xe[Ze++]=Pn,Tt=t.id,It=t.overflow,Pn=e),e=ju(e,r.children),e.flags|=4096,e)}function kd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ca(t.return,e,n)}function yl(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Sp(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Pe(t,e,r.children,n),r=ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kd(t,n,e);else if(t.tag===19)kd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(q(ee,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Yi(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),yl(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Yi(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}yl(e,!0,n,null,i);break;case"together":yl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ki(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Lt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),jn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,n=tn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=tn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Mv(t,e,n){switch(e.tag){case 3:Cp(e),hr();break;case 5:Kf(e);break;case 1:Be(e.type)&&Ui(e);break;case 4:xu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;q(Wi,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(q(ee,ee.current&1),e.flags|=128,null):n&e.child.childLanes?Ep(t,e,n):(q(ee,ee.current&1),t=Lt(t,e,n),t!==null?t.sibling:null);q(ee,ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Sp(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(ee,ee.current),r)break;return null;case 22:case 23:return e.lanes=0,yp(t,e,n)}return Lt(t,e,n)}var xp,va,Np,kp;xp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};va=function(){};Np=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,xn(Et.current);var i=null;switch(n){case"input":s=Bl(t,s),r=Bl(t,r),i=[];break;case"select":s=re({},s,{value:void 0}),r=re({},r,{value:void 0}),i=[];break;case"textarea":s=Hl(t,s),r=Hl(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zi)}$l(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(os.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var a=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(os.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&X("scroll",t),i||l===a||(i=[])):(i=i||[]).push(c,a))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};kp=function(t,e,n,r){n!==r&&(e.flags|=4)};function Or(t,e){if(!J)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Lv(t,e,n){var r=e.pendingProps;switch(_u(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(e),null;case 1:return Be(e.type)&&Bi(),ke(e),null;case 3:return r=e.stateNode,pr(),Z(ze),Z(Ie),ku(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ai(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,at!==null&&(ka(at),at=null))),va(t,e),ke(e),null;case 5:Nu(e);var s=xn(vs.current);if(n=e.type,t!==null&&e.stateNode!=null)Np(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(C(166));return ke(e),null}if(t=xn(Et.current),ai(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[wt]=e,r[gs]=i,t=(e.mode&1)!==0,n){case"dialog":X("cancel",r),X("close",r);break;case"iframe":case"object":case"embed":X("load",r);break;case"video":case"audio":for(s=0;s<$r.length;s++)X($r[s],r);break;case"source":X("error",r);break;case"img":case"image":case"link":X("error",r),X("load",r);break;case"details":X("toggle",r);break;case"input":Lc(r,i),X("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},X("invalid",r);break;case"textarea":bc(r,i),X("invalid",r)}$l(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&li(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&li(r.textContent,l,t),s=["children",""+l]):os.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&X("scroll",r)}switch(n){case"input":Js(r),Oc(r,i,!0);break;case"textarea":Js(r),Fc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=zi)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Jh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[wt]=e,t[gs]=r,xp(t,e,!1,!1),e.stateNode=t;e:{switch(o=Gl(n,r),n){case"dialog":X("cancel",t),X("close",t),s=r;break;case"iframe":case"object":case"embed":X("load",t),s=r;break;case"video":case"audio":for(s=0;s<$r.length;s++)X($r[s],t);s=r;break;case"source":X("error",t),s=r;break;case"img":case"image":case"link":X("error",t),X("load",t),s=r;break;case"details":X("toggle",t),s=r;break;case"input":Lc(t,r),s=Bl(t,r),X("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=re({},r,{value:void 0}),X("invalid",t);break;case"textarea":bc(t,r),s=Hl(t,r),X("invalid",t);break;default:s=r}$l(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?nf(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&ef(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ls(t,a):typeof a=="number"&&ls(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(os.hasOwnProperty(i)?a!=null&&i==="onScroll"&&X("scroll",t):a!=null&&nu(t,i,a,o))}switch(n){case"input":Js(t),Oc(t,r,!1);break;case"textarea":Js(t),Fc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ln(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?nr(t,!!r.multiple,i,!1):r.defaultValue!=null&&nr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=zi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ke(e),null;case 6:if(t&&e.stateNode!=null)kp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(C(166));if(n=xn(vs.current),xn(Et.current),ai(e)){if(r=e.stateNode,n=e.memoizedProps,r[wt]=e,(i=r.nodeValue!==n)&&(t=Ye,t!==null))switch(t.tag){case 3:li(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&li(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wt]=e,e.stateNode=r}return ke(e),null;case 13:if(Z(ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(J&&Ge!==null&&e.mode&1&&!(e.flags&128))Wf(),hr(),e.flags|=98560,i=!1;else if(i=ai(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(C(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[wt]=e}else hr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ke(e),i=!1}else at!==null&&(ka(at),at=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ee.current&1?fe===0&&(fe=3):Fu())),e.updateQueue!==null&&(e.flags|=4),ke(e),null);case 4:return pr(),va(t,e),t===null&&ps(e.stateNode.containerInfo),ke(e),null;case 10:return Cu(e.type._context),ke(e),null;case 17:return Be(e.type)&&Bi(),ke(e),null;case 19:if(Z(ee),i=e.memoizedState,i===null)return ke(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Or(i,!1);else{if(fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yi(t),o!==null){for(e.flags|=128,Or(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return q(ee,ee.current&1|2),e.child}t=t.sibling}i.tail!==null&&le()>gr&&(e.flags|=128,r=!0,Or(i,!1),e.lanes=4194304)}else{if(!r)if(t=Yi(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Or(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!J)return ke(e),null}else 2*le()-i.renderingStartTime>gr&&n!==1073741824&&(e.flags|=128,r=!0,Or(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=le(),e.sibling=null,n=ee.current,q(ee,r?n&1|2:n&1),e):(ke(e),null);case 22:case 23:return bu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$e&1073741824&&(ke(e),e.subtreeFlags&6&&(e.flags|=8192)):ke(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function Ov(t,e){switch(_u(e),e.tag){case 1:return Be(e.type)&&Bi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pr(),Z(ze),Z(Ie),ku(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Nu(e),null;case 13:if(Z(ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));hr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Z(ee),null;case 4:return pr(),null;case 10:return Cu(e.type._context),null;case 22:case 23:return bu(),null;case 24:return null;default:return null}}var di=!1,Te=!1,bv=typeof WeakSet=="function"?WeakSet:Set,R=null;function Jn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){se(t,e,r)}else n.current=null}function ya(t,e,n){try{n()}catch(r){se(t,e,r)}}var Td=!1;function Fv(t,e){if(na=Oi,t=Af(),mu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,f=0,d=t,h=null;t:for(;;){for(var _;d!==n||s!==0&&d.nodeType!==3||(l=o+s),d!==i||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(_=d.firstChild)!==null;)h=d,d=_;for(;;){if(d===t)break t;if(h===n&&++c===s&&(l=o),h===i&&++f===r&&(a=o),(_=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=_}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ra={focusedElem:t,selectionRange:n},Oi=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,D=v.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:ot(e.type,y),D);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(w){se(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return v=Td,Td=!1,v}function Zr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ya(e,n,i)}s=s.next}while(s!==r)}}function Ro(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wa(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Tp(t){var e=t.alternate;e!==null&&(t.alternate=null,Tp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wt],delete e[gs],delete e[oa],delete e[wv],delete e[Cv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ip(t){return t.tag===5||t.tag===3||t.tag===4}function Id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ip(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ca(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zi));else if(r!==4&&(t=t.child,t!==null))for(Ca(t,e,n),t=t.sibling;t!==null;)Ca(t,e,n),t=t.sibling}function Ea(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ea(t,e,n),t=t.sibling;t!==null;)Ea(t,e,n),t=t.sibling}var ve=null,lt=!1;function Bt(t,e,n){for(n=n.child;n!==null;)Rp(t,e,n),n=n.sibling}function Rp(t,e,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Co,n)}catch{}switch(n.tag){case 5:Te||Jn(n,e);case 6:var r=ve,s=lt;ve=null,Bt(t,e,n),ve=r,lt=s,ve!==null&&(lt?(t=ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(lt?(t=ve,n=n.stateNode,t.nodeType===8?hl(t.parentNode,n):t.nodeType===1&&hl(t,n),ds(t)):hl(ve,n.stateNode));break;case 4:r=ve,s=lt,ve=n.stateNode.containerInfo,lt=!0,Bt(t,e,n),ve=r,lt=s;break;case 0:case 11:case 14:case 15:if(!Te&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ya(n,e,o),s=s.next}while(s!==r)}Bt(t,e,n);break;case 1:if(!Te&&(Jn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){se(n,e,l)}Bt(t,e,n);break;case 21:Bt(t,e,n);break;case 22:n.mode&1?(Te=(r=Te)||n.memoizedState!==null,Bt(t,e,n),Te=r):Bt(t,e,n);break;default:Bt(t,e,n)}}function Rd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new bv),e.forEach(function(r){var s=Yv.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function it(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ve=l.stateNode,lt=!1;break e;case 3:ve=l.stateNode.containerInfo,lt=!0;break e;case 4:ve=l.stateNode.containerInfo,lt=!0;break e}l=l.return}if(ve===null)throw Error(C(160));Rp(i,o,s),ve=null,lt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){se(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Pp(e,t),e=e.sibling}function Pp(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(it(e,t),vt(t),r&4){try{Zr(3,t,t.return),Ro(3,t)}catch(y){se(t,t.return,y)}try{Zr(5,t,t.return)}catch(y){se(t,t.return,y)}}break;case 1:it(e,t),vt(t),r&512&&n!==null&&Jn(n,n.return);break;case 5:if(it(e,t),vt(t),r&512&&n!==null&&Jn(n,n.return),t.flags&32){var s=t.stateNode;try{ls(s,"")}catch(y){se(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Xh(s,i),Gl(l,o);var c=Gl(l,i);for(o=0;o<a.length;o+=2){var f=a[o],d=a[o+1];f==="style"?nf(s,d):f==="dangerouslySetInnerHTML"?ef(s,d):f==="children"?ls(s,d):nu(s,f,d,c)}switch(l){case"input":Ul(s,i);break;case"textarea":Zh(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var _=i.value;_!=null?nr(s,!!i.multiple,_,!1):h!==!!i.multiple&&(i.defaultValue!=null?nr(s,!!i.multiple,i.defaultValue,!0):nr(s,!!i.multiple,i.multiple?[]:"",!1))}s[gs]=i}catch(y){se(t,t.return,y)}}break;case 6:if(it(e,t),vt(t),r&4){if(t.stateNode===null)throw Error(C(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){se(t,t.return,y)}}break;case 3:if(it(e,t),vt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ds(e.containerInfo)}catch(y){se(t,t.return,y)}break;case 4:it(e,t),vt(t);break;case 13:it(e,t),vt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Lu=le())),r&4&&Rd(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Te=(c=Te)||f,it(e,t),Te=c):it(e,t),vt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(R=t,f=t.child;f!==null;){for(d=R=f;R!==null;){switch(h=R,_=h.child,h.tag){case 0:case 11:case 14:case 15:Zr(4,h,h.return);break;case 1:Jn(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){se(r,n,y)}}break;case 5:Jn(h,h.return);break;case 22:if(h.memoizedState!==null){Ad(d);continue}}_!==null?(_.return=h,R=_):Ad(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=tf("display",o))}catch(y){se(t,t.return,y)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){se(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:it(e,t),vt(t),r&4&&Rd(t);break;case 21:break;default:it(e,t),vt(t)}}function vt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ip(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ls(s,""),r.flags&=-33);var i=Id(t);Ea(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Id(t);Ca(t,l,o);break;default:throw Error(C(161))}}catch(a){se(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zv(t,e,n){R=t,Ap(t)}function Ap(t,e,n){for(var r=(t.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||di;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Te;l=di;var c=Te;if(di=o,(Te=a)&&!c)for(R=s;R!==null;)o=R,a=o.child,o.tag===22&&o.memoizedState!==null?jd(s):a!==null?(a.return=o,R=a):jd(s);for(;i!==null;)R=i,Ap(i),i=i.sibling;R=s,di=l,Te=c}Pd(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):Pd(t)}}function Pd(t){for(;R!==null;){var e=R;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Te||Ro(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Te)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ot(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&pd(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pd(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&ds(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Te||e.flags&512&&wa(e)}catch(h){se(e,e.return,h)}}if(e===t){R=null;break}if(n=e.sibling,n!==null){n.return=e.return,R=n;break}R=e.return}}function Ad(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var n=e.sibling;if(n!==null){n.return=e.return,R=n;break}R=e.return}}function jd(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ro(4,e)}catch(a){se(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){se(e,s,a)}}var i=e.return;try{wa(e)}catch(a){se(e,i,a)}break;case 5:var o=e.return;try{wa(e)}catch(a){se(e,o,a)}}}catch(a){se(e,e.return,a)}if(e===t){R=null;break}var l=e.sibling;if(l!==null){l.return=e.return,R=l;break}R=e.return}}var Bv=Math.ceil,qi=Ft.ReactCurrentDispatcher,Du=Ft.ReactCurrentOwner,tt=Ft.ReactCurrentBatchConfig,U=0,_e=null,ue=null,Ce=0,$e=0,er=pn(0),fe=0,Es=null,jn=0,Po=0,Mu=0,Jr=null,Oe=null,Lu=0,gr=1/0,Nt=null,Xi=!1,Sa=null,Jt=null,hi=!1,Gt=null,Zi=0,es=0,xa=null,Ti=-1,Ii=0;function je(){return U&6?le():Ti!==-1?Ti:Ti=le()}function en(t){return t.mode&1?U&2&&Ce!==0?Ce&-Ce:Sv.transition!==null?(Ii===0&&(Ii=mf()),Ii):(t=W,t!==0||(t=window.event,t=t===void 0?16:Ef(t.type)),t):1}function pt(t,e,n,r){if(50<es)throw es=0,xa=null,Error(C(185));Os(t,n,r),(!(U&2)||t!==_e)&&(t===_e&&(!(U&2)&&(Po|=n),fe===4&&Wt(t,Ce)),Ue(t,r),n===1&&U===0&&!(e.mode&1)&&(gr=le()+500,ko&&mn()))}function Ue(t,e){var n=t.callbackNode;S_(t,e);var r=Li(t,t===_e?Ce:0);if(r===0)n!==null&&Uc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Uc(n),e===1)t.tag===0?Ev(Dd.bind(null,t)):Uf(Dd.bind(null,t)),vv(function(){!(U&6)&&mn()}),n=null;else{switch(gf(r)){case 1:n=lu;break;case 4:n=ff;break;case 16:n=Mi;break;case 536870912:n=pf;break;default:n=Mi}n=zp(n,jp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jp(t,e){if(Ti=-1,Ii=0,U&6)throw Error(C(327));var n=t.callbackNode;if(lr()&&t.callbackNode!==n)return null;var r=Li(t,t===_e?Ce:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ji(t,r);else{e=r;var s=U;U|=2;var i=Mp();(_e!==t||Ce!==e)&&(Nt=null,gr=le()+500,kn(t,e));do try{Hv();break}catch(l){Dp(t,l)}while(!0);wu(),qi.current=i,U=s,ue!==null?e=0:(_e=null,Ce=0,e=fe)}if(e!==0){if(e===2&&(s=Xl(t),s!==0&&(r=s,e=Na(t,s))),e===1)throw n=Es,kn(t,0),Wt(t,r),Ue(t,le()),n;if(e===6)Wt(t,r);else{if(s=t.current.alternate,!(r&30)&&!Uv(s)&&(e=Ji(t,r),e===2&&(i=Xl(t),i!==0&&(r=i,e=Na(t,i))),e===1))throw n=Es,kn(t,0),Wt(t,r),Ue(t,le()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(C(345));case 2:yn(t,Oe,Nt);break;case 3:if(Wt(t,r),(r&130023424)===r&&(e=Lu+500-le(),10<e)){if(Li(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){je(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ia(yn.bind(null,t,Oe,Nt),e);break}yn(t,Oe,Nt);break;case 4:if(Wt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ft(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Bv(r/1960))-r,10<r){t.timeoutHandle=ia(yn.bind(null,t,Oe,Nt),r);break}yn(t,Oe,Nt);break;case 5:yn(t,Oe,Nt);break;default:throw Error(C(329))}}}return Ue(t,le()),t.callbackNode===n?jp.bind(null,t):null}function Na(t,e){var n=Jr;return t.current.memoizedState.isDehydrated&&(kn(t,e).flags|=256),t=Ji(t,e),t!==2&&(e=Oe,Oe=n,e!==null&&ka(e)),t}function ka(t){Oe===null?Oe=t:Oe.push.apply(Oe,t)}function Uv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!gt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wt(t,e){for(e&=~Mu,e&=~Po,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ft(e),r=1<<n;t[n]=-1,e&=~r}}function Dd(t){if(U&6)throw Error(C(327));lr();var e=Li(t,0);if(!(e&1))return Ue(t,le()),null;var n=Ji(t,e);if(t.tag!==0&&n===2){var r=Xl(t);r!==0&&(e=r,n=Na(t,r))}if(n===1)throw n=Es,kn(t,0),Wt(t,e),Ue(t,le()),n;if(n===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yn(t,Oe,Nt),Ue(t,le()),null}function Ou(t,e){var n=U;U|=1;try{return t(e)}finally{U=n,U===0&&(gr=le()+500,ko&&mn())}}function Dn(t){Gt!==null&&Gt.tag===0&&!(U&6)&&lr();var e=U;U|=1;var n=tt.transition,r=W;try{if(tt.transition=null,W=1,t)return t()}finally{W=r,tt.transition=n,U=e,!(U&6)&&mn()}}function bu(){$e=er.current,Z(er)}function kn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_v(n)),ue!==null)for(n=ue.return;n!==null;){var r=n;switch(_u(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bi();break;case 3:pr(),Z(ze),Z(Ie),ku();break;case 5:Nu(r);break;case 4:pr();break;case 13:Z(ee);break;case 19:Z(ee);break;case 10:Cu(r.type._context);break;case 22:case 23:bu()}n=n.return}if(_e=t,ue=t=tn(t.current,null),Ce=$e=e,fe=0,Es=null,Mu=Po=jn=0,Oe=Jr=null,Sn!==null){for(e=0;e<Sn.length;e++)if(n=Sn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Sn=null}return t}function Dp(t,e){do{var n=ue;try{if(wu(),xi.current=Ki,Qi){for(var r=ne.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qi=!1}if(An=0,me=ce=ne=null,Xr=!1,ys=0,Du.current=null,n===null||n.return===null){fe=1,Es=e,ue=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=Ce,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var _=wd(o);if(_!==null){_.flags&=-257,Cd(_,o,l,i,e),_.mode&1&&yd(i,c,e),e=_,a=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(a),e.updateQueue=y}else v.add(a);break e}else{if(!(e&1)){yd(i,c,e),Fu();break e}a=Error(C(426))}}else if(J&&l.mode&1){var D=wd(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),Cd(D,o,l,i,e),vu(mr(a,l));break e}}i=a=mr(a,l),fe!==4&&(fe=2),Jr===null?Jr=[i]:Jr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=gp(i,a,e);fd(i,m);break e;case 1:l=a;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Jt===null||!Jt.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=_p(i,l,e);fd(i,w);break e}}i=i.return}while(i!==null)}Op(n)}catch(x){e=x,ue===n&&n!==null&&(ue=n=n.return);continue}break}while(!0)}function Mp(){var t=qi.current;return qi.current=Ki,t===null?Ki:t}function Fu(){(fe===0||fe===3||fe===2)&&(fe=4),_e===null||!(jn&268435455)&&!(Po&268435455)||Wt(_e,Ce)}function Ji(t,e){var n=U;U|=2;var r=Mp();(_e!==t||Ce!==e)&&(Nt=null,kn(t,e));do try{Vv();break}catch(s){Dp(t,s)}while(!0);if(wu(),U=n,qi.current=r,ue!==null)throw Error(C(261));return _e=null,Ce=0,fe}function Vv(){for(;ue!==null;)Lp(ue)}function Hv(){for(;ue!==null&&!p_();)Lp(ue)}function Lp(t){var e=Fp(t.alternate,t,$e);t.memoizedProps=t.pendingProps,e===null?Op(t):ue=e,Du.current=null}function Op(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ov(n,e),n!==null){n.flags&=32767,ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fe=6,ue=null;return}}else if(n=Lv(n,e,$e),n!==null){ue=n;return}if(e=e.sibling,e!==null){ue=e;return}ue=e=t}while(e!==null);fe===0&&(fe=5)}function yn(t,e,n){var r=W,s=tt.transition;try{tt.transition=null,W=1,Wv(t,e,n,r)}finally{tt.transition=s,W=r}return null}function Wv(t,e,n,r){do lr();while(Gt!==null);if(U&6)throw Error(C(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(x_(t,i),t===_e&&(ue=_e=null,Ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hi||(hi=!0,zp(Mi,function(){return lr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=tt.transition,tt.transition=null;var o=W;W=1;var l=U;U|=4,Du.current=null,Fv(t,n),Pp(n,t),cv(ra),Oi=!!na,ra=na=null,t.current=n,zv(n),m_(),U=l,W=o,tt.transition=i}else t.current=n;if(hi&&(hi=!1,Gt=t,Zi=s),i=t.pendingLanes,i===0&&(Jt=null),v_(n.stateNode),Ue(t,le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Xi)throw Xi=!1,t=Sa,Sa=null,t;return Zi&1&&t.tag!==0&&lr(),i=t.pendingLanes,i&1?t===xa?es++:(es=0,xa=t):es=0,mn(),null}function lr(){if(Gt!==null){var t=gf(Zi),e=tt.transition,n=W;try{if(tt.transition=null,W=16>t?16:t,Gt===null)var r=!1;else{if(t=Gt,Gt=null,Zi=0,U&6)throw Error(C(331));var s=U;for(U|=4,R=t.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(R=c;R!==null;){var f=R;switch(f.tag){case 0:case 11:case 15:Zr(8,f,i)}var d=f.child;if(d!==null)d.return=f,R=d;else for(;R!==null;){f=R;var h=f.sibling,_=f.return;if(Tp(f),f===c){R=null;break}if(h!==null){h.return=_,R=h;break}R=_}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var D=y.sibling;y.sibling=null,y=D}while(y!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Zr(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,R=m;break e}R=i.return}}var p=t.current;for(R=p;R!==null;){o=R;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,R=g;else e:for(o=p;R!==null;){if(l=R,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ro(9,l)}}catch(x){se(l,l.return,x)}if(l===o){R=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,R=w;break e}R=l.return}}if(U=s,mn(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Co,t)}catch{}r=!0}return r}finally{W=n,tt.transition=e}}return!1}function Md(t,e,n){e=mr(n,e),e=gp(t,e,1),t=Zt(t,e,1),e=je(),t!==null&&(Os(t,1,e),Ue(t,e))}function se(t,e,n){if(t.tag===3)Md(t,t,n);else for(;e!==null;){if(e.tag===3){Md(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jt===null||!Jt.has(r))){t=mr(n,t),t=_p(e,t,1),e=Zt(e,t,1),t=je(),e!==null&&(Os(e,1,t),Ue(e,t));break}}e=e.return}}function $v(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=je(),t.pingedLanes|=t.suspendedLanes&n,_e===t&&(Ce&n)===n&&(fe===4||fe===3&&(Ce&130023424)===Ce&&500>le()-Lu?kn(t,0):Mu|=n),Ue(t,e)}function bp(t,e){e===0&&(t.mode&1?(e=ni,ni<<=1,!(ni&130023424)&&(ni=4194304)):e=1);var n=je();t=Mt(t,e),t!==null&&(Os(t,e,n),Ue(t,n))}function Gv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bp(t,n)}function Yv(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(e),bp(t,n)}var Fp;Fp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ze.current)be=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return be=!1,Mv(t,e,n);be=!!(t.flags&131072)}else be=!1,J&&e.flags&1048576&&Vf(e,Hi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ki(t,e),t=e.pendingProps;var s=dr(e,Ie.current);or(e,n),s=Iu(null,e,r,t,s,n);var i=Ru();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Be(r)?(i=!0,Ui(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Su(e),s.updater=Io,e.stateNode=s,s._reactInternals=e,ha(e,r,t,n),e=ma(null,e,r,!0,i,n)):(e.tag=0,J&&i&&gu(e),Pe(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ki(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Kv(r),t=ot(r,t),s){case 0:e=pa(null,e,r,t,n);break e;case 1:e=xd(null,e,r,t,n);break e;case 11:e=Ed(null,e,r,t,n);break e;case 14:e=Sd(null,e,r,ot(r.type,t),n);break e}throw Error(C(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ot(r,s),pa(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ot(r,s),xd(t,e,r,s,n);case 3:e:{if(Cp(e),t===null)throw Error(C(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Qf(t,e),Gi(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=mr(Error(C(423)),e),e=Nd(t,e,r,n,s);break e}else if(r!==s){s=mr(Error(C(424)),e),e=Nd(t,e,r,n,s);break e}else for(Ge=Xt(e.stateNode.containerInfo.firstChild),Ye=e,J=!0,at=null,n=Gf(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hr(),r===s){e=Lt(t,e,n);break e}Pe(t,e,r,n)}e=e.child}return e;case 5:return Kf(e),t===null&&ua(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,sa(r,s)?o=null:i!==null&&sa(r,i)&&(e.flags|=32),wp(t,e),Pe(t,e,o,n),e.child;case 6:return t===null&&ua(e),null;case 13:return Ep(t,e,n);case 4:return xu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fr(e,null,r,n):Pe(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ot(r,s),Ed(t,e,r,s,n);case 7:return Pe(t,e,e.pendingProps,n),e.child;case 8:return Pe(t,e,e.pendingProps.children,n),e.child;case 12:return Pe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,q(Wi,r._currentValue),r._currentValue=o,i!==null)if(gt(i.value,o)){if(i.children===s.children&&!ze.current){e=Lt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Pt(-1,n&-n),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),ca(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ca(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Pe(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,or(e,n),s=nt(s),r=r(s),e.flags|=1,Pe(t,e,r,n),e.child;case 14:return r=e.type,s=ot(r,e.pendingProps),s=ot(r.type,s),Sd(t,e,r,s,n);case 15:return vp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ot(r,s),ki(t,e),e.tag=1,Be(r)?(t=!0,Ui(e)):t=!1,or(e,n),mp(e,r,s),ha(e,r,s,n),ma(null,e,r,!0,t,n);case 19:return Sp(t,e,n);case 22:return yp(t,e,n)}throw Error(C(156,e.tag))};function zp(t,e){return hf(t,e)}function Qv(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Je(t,e,n,r){return new Qv(t,e,n,r)}function zu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kv(t){if(typeof t=="function")return zu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===su)return 11;if(t===iu)return 14}return 2}function tn(t,e){var n=t.alternate;return n===null?(n=Je(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ri(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")zu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Wn:return Tn(n.children,s,i,e);case ru:o=8,s|=8;break;case Ol:return t=Je(12,n,e,s|2),t.elementType=Ol,t.lanes=i,t;case bl:return t=Je(13,n,e,s),t.elementType=bl,t.lanes=i,t;case Fl:return t=Je(19,n,e,s),t.elementType=Fl,t.lanes=i,t;case Qh:return Ao(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gh:o=10;break e;case Yh:o=9;break e;case su:o=11;break e;case iu:o=14;break e;case Ut:o=16,r=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=Je(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Tn(t,e,n,r){return t=Je(7,t,r,e),t.lanes=n,t}function Ao(t,e,n,r){return t=Je(22,t,r,e),t.elementType=Qh,t.lanes=n,t.stateNode={isHidden:!1},t}function wl(t,e,n){return t=Je(6,t,null,e),t.lanes=n,t}function Cl(t,e,n){return e=Je(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qv(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tl(0),this.expirationTimes=tl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bu(t,e,n,r,s,i,o,l,a){return t=new qv(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Je(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Su(i),t}function Xv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Bp(t){if(!t)return an;t=t._reactInternals;e:{if(Fn(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Be(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var n=t.type;if(Be(n))return Bf(t,n,e)}return e}function Up(t,e,n,r,s,i,o,l,a){return t=Bu(n,r,!0,t,s,i,o,l,a),t.context=Bp(null),n=t.current,r=je(),s=en(n),i=Pt(r,s),i.callback=e??null,Zt(n,i,s),t.current.lanes=s,Os(t,s,r),Ue(t,r),t}function jo(t,e,n,r){var s=e.current,i=je(),o=en(s);return n=Bp(n),e.context===null?e.context=n:e.pendingContext=n,e=Pt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zt(s,e,o),t!==null&&(pt(t,s,o,i),Si(t,s,o)),o}function eo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ld(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Uu(t,e){Ld(t,e),(t=t.alternate)&&Ld(t,e)}function Zv(){return null}var Vp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vu(t){this._internalRoot=t}Do.prototype.render=Vu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));jo(t,e,null,null)};Do.prototype.unmount=Vu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Dn(function(){jo(null,t,null,null)}),e[Dt]=null}};function Do(t){this._internalRoot=t}Do.prototype.unstable_scheduleHydration=function(t){if(t){var e=yf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ht.length&&e!==0&&e<Ht[n].priority;n++);Ht.splice(n,0,t),n===0&&Cf(t)}};function Hu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Od(){}function Jv(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=eo(o);i.call(c)}}var o=Up(e,r,t,0,null,!1,!1,"",Od);return t._reactRootContainer=o,t[Dt]=o.current,ps(t.nodeType===8?t.parentNode:t),Dn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=eo(a);l.call(c)}}var a=Bu(t,0,!1,null,null,!1,!1,"",Od);return t._reactRootContainer=a,t[Dt]=a.current,ps(t.nodeType===8?t.parentNode:t),Dn(function(){jo(e,a,n,r)}),a}function Lo(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=eo(o);l.call(a)}}jo(e,o,t,s)}else o=Jv(n,e,t,s,r);return eo(o)}_f=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wr(e.pendingLanes);n!==0&&(au(e,n|1),Ue(e,le()),!(U&6)&&(gr=le()+500,mn()))}break;case 13:Dn(function(){var r=Mt(t,1);if(r!==null){var s=je();pt(r,t,1,s)}}),Uu(t,1)}};uu=function(t){if(t.tag===13){var e=Mt(t,134217728);if(e!==null){var n=je();pt(e,t,134217728,n)}Uu(t,134217728)}};vf=function(t){if(t.tag===13){var e=en(t),n=Mt(t,e);if(n!==null){var r=je();pt(n,t,e,r)}Uu(t,e)}};yf=function(){return W};wf=function(t,e){var n=W;try{return W=t,e()}finally{W=n}};Ql=function(t,e,n){switch(e){case"input":if(Ul(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=No(r);if(!s)throw Error(C(90));qh(r),Ul(r,s)}}}break;case"textarea":Zh(t,n);break;case"select":e=n.value,e!=null&&nr(t,!!n.multiple,e,!1)}};of=Ou;lf=Dn;var ey={usingClientEntryPoint:!1,Events:[Fs,Qn,No,rf,sf,Ou]},br={findFiberByHostInstance:En,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ty={bundleType:br.bundleType,version:br.version,rendererPackageName:br.rendererPackageName,rendererConfig:br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cf(t),t===null?null:t.stateNode},findFiberByHostInstance:br.findFiberByHostInstance||Zv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fi.isDisabled&&fi.supportsFiber)try{Co=fi.inject(ty),Ct=fi}catch{}}Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ey;Ke.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hu(e))throw Error(C(200));return Xv(t,e,null,n)};Ke.createRoot=function(t,e){if(!Hu(t))throw Error(C(299));var n=!1,r="",s=Vp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Bu(t,1,!1,null,null,n,!1,r,s),t[Dt]=e.current,ps(t.nodeType===8?t.parentNode:t),new Vu(e)};Ke.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=cf(e),t=t===null?null:t.stateNode,t};Ke.flushSync=function(t){return Dn(t)};Ke.hydrate=function(t,e,n){if(!Mo(e))throw Error(C(200));return Lo(null,t,e,!0,n)};Ke.hydrateRoot=function(t,e,n){if(!Hu(t))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Vp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Up(e,null,t,1,n??null,s,!1,i,o),t[Dt]=e.current,ps(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Do(e)};Ke.render=function(t,e,n){if(!Mo(e))throw Error(C(200));return Lo(null,t,e,!1,n)};Ke.unmountComponentAtNode=function(t){if(!Mo(t))throw Error(C(40));return t._reactRootContainer?(Dn(function(){Lo(null,null,t,!1,function(){t._reactRootContainer=null,t[Dt]=null})}),!0):!1};Ke.unstable_batchedUpdates=Ou;Ke.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Mo(n))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return Lo(t,e,n,!1,r)};Ke.version="18.3.1-next-f1338f8080-20240426";function Hp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hp)}catch(t){console.error(t)}}Hp(),Vh.exports=Ke;var Wp=Vh.exports,bd=Wp;Ml.createRoot=bd.createRoot,Ml.hydrateRoot=bd.hydrateRoot;function ny(){const[t,e]=k.useState(0),[n,r]=k.useState(!1),[s,i]=k.useState("");k.useEffect(()=>{const l=new Date().getHours();l>=5&&l<12?i("Good morning, astronaut!"):l>=12&&l<17?i("Good afternoon, space explorer!"):l>=17&&l<21?i("Good evening, star gazer!"):i("Up late, night owl?")},[]);const o=()=>{const l=t+1;e(l),l>=3&&(r(!0),e(0),setTimeout(()=>r(!1),4e3))};return u.jsxs("section",{className:"hero",children:[u.jsx("div",{className:"planet planet-1",children:u.jsxs("svg",{viewBox:"0 0 100 100",className:"planet-svg",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"planet1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#ff6b9d"}),u.jsx("stop",{offset:"100%",stopColor:"#c44569"})]})}),u.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"url(#planet1)"}),u.jsx("ellipse",{cx:"50",cy:"50",rx:"60",ry:"12",fill:"none",stroke:"rgba(255,255,255,0.3)",strokeWidth:"3"})]})}),u.jsx("div",{className:"planet planet-2",children:u.jsxs("svg",{viewBox:"0 0 80 80",className:"planet-svg",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"planet2",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#ffd700"}),u.jsx("stop",{offset:"100%",stopColor:"#ff8c42"})]})}),u.jsx("circle",{cx:"40",cy:"40",r:"35",fill:"url(#planet2)"})]})}),u.jsx("div",{className:"planet planet-3",children:u.jsxs("svg",{viewBox:"0 0 60 60",className:"planet-svg",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"planet3",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#74b9ff"}),u.jsx("stop",{offset:"100%",stopColor:"#0984e3"})]})}),u.jsx("circle",{cx:"30",cy:"30",r:"25",fill:"url(#planet3)"})]})}),u.jsx("div",{className:"rocket-container",children:u.jsxs("svg",{viewBox:"0 0 100 200",className:"rocket-svg",children:[u.jsxs("g",{className:"rocket-flame",children:[u.jsx("ellipse",{cx:"50",cy:"180",rx:"12",ry:"25",fill:"#ff6b35",opacity:"0.9"}),u.jsx("ellipse",{cx:"50",cy:"175",rx:"8",ry:"18",fill:"#ffd700"}),u.jsx("ellipse",{cx:"50",cy:"170",rx:"4",ry:"10",fill:"#fff"})]}),u.jsx("path",{d:"M50 10 L70 60 L70 130 L60 140 L40 140 L30 130 L30 60 Z",fill:"url(#rocketBody)"}),u.jsx("defs",{children:u.jsxs("linearGradient",{id:"rocketBody",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"#e0e0e0"}),u.jsx("stop",{offset:"50%",stopColor:"#ffffff"}),u.jsx("stop",{offset:"100%",stopColor:"#c0c0c0"})]})}),u.jsx("path",{d:"M50 10 L65 45 L35 45 Z",fill:"#ff6b9d"}),u.jsx("circle",{cx:"50",cy:"70",r:"12",fill:"#74b9ff",stroke:"#2d3436",strokeWidth:"3"}),u.jsx("circle",{cx:"47",cy:"67",r:"4",fill:"rgba(255,255,255,0.6)"}),u.jsx("path",{d:"M30 110 L15 145 L30 135 Z",fill:"#ff8c42"}),u.jsx("path",{d:"M70 110 L85 145 L70 135 Z",fill:"#ff8c42"}),u.jsx("rect",{x:"35",y:"95",width:"30",height:"8",fill:"#ff6b9d"})]})}),u.jsxs("div",{className:"hero-content",children:[s&&u.jsx("p",{className:"hero-greeting",children:s}),u.jsx("p",{className:"hero-invite",children:"You're invited to"}),u.jsx("h1",{children:"Hilde's Space Mission"}),u.jsxs("div",{className:"age-badge-container",children:[u.jsxs("div",{className:"age-badge",onClick:o,children:[u.jsx("span",{className:"age-number",children:"5"}),u.jsx("span",{className:"age-text",children:"years around the sun!"})]}),u.jsx("span",{className:"age-badge-hint",children:" tap me!"})]})]}),n&&u.jsx("div",{className:"easter-egg-overlay",children:u.jsxs("div",{className:"easter-egg-content",children:[u.jsx("div",{className:"neptune-graphic",children:u.jsxs("svg",{viewBox:"0 0 120 120",width:"120",height:"120",children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"neptuneGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#74b9ff"}),u.jsx("stop",{offset:"50%",stopColor:"#0984e3"}),u.jsx("stop",{offset:"100%",stopColor:"#0652DD"})]}),u.jsxs("filter",{id:"glow",children:[u.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),u.jsx("circle",{cx:"60",cy:"60",r:"50",fill:"url(#neptuneGrad)",filter:"url(#glow)"}),u.jsx("ellipse",{cx:"60",cy:"60",rx:"55",ry:"8",fill:"none",stroke:"rgba(255,255,255,0.4)",strokeWidth:"2",transform:"rotate(-15 60 60)"}),u.jsx("circle",{cx:"45",cy:"45",r:"8",fill:"rgba(255,255,255,0.2)"})]})}),u.jsx("p",{className:"easter-egg-title",children:"You discovered Neptune!"}),u.jsx("p",{className:"easter-egg-message",children:"Hilde's favorite planet because it's light blue - her favorite color!"}),u.jsx("span",{className:"easter-egg-emoji",children:""})]})}),u.jsx("div",{className:"astronaut-float",children:u.jsxs("svg",{viewBox:"0 0 100 140",className:"astronaut-svg",children:[u.jsx("rect",{x:"30",y:"45",width:"40",height:"50",rx:"5",fill:"#636e72"}),u.jsx("ellipse",{cx:"50",cy:"80",rx:"25",ry:"30",fill:"white"}),u.jsx("circle",{cx:"50",cy:"35",r:"28",fill:"white"}),u.jsx("ellipse",{cx:"50",cy:"38",rx:"20",ry:"18",fill:"#74b9ff",opacity:"0.8"}),u.jsx("ellipse",{cx:"45",cy:"33",rx:"6",ry:"4",fill:"rgba(255,255,255,0.5)"}),u.jsx("ellipse",{cx:"20",cy:"75",rx:"10",ry:"15",fill:"white"}),u.jsx("ellipse",{cx:"80",cy:"75",rx:"10",ry:"15",fill:"white"}),u.jsx("ellipse",{cx:"38",cy:"115",rx:"10",ry:"18",fill:"white"}),u.jsx("ellipse",{cx:"62",cy:"115",rx:"10",ry:"18",fill:"white"}),u.jsx("ellipse",{cx:"50",cy:"55",rx:"25",ry:"5",fill:"#dfe6e9"})]})})]})}function ry(){const[t,e]=k.useState({x:0,y:0}),[n,r]=k.useState(!1),[s,i]=k.useState(!1),o=k.useRef(null),l=k.useRef(null),a=(m,p,g,w=15)=>{if(!g)return{x:0,y:0};const x=g.getBoundingClientRect(),T=x.left+x.width/2,I=x.top+x.height/2,P=(m-T)/(x.width/2),H=(p-I)/(x.height/2);return{x:Math.max(-w,Math.min(w,H*w)),y:Math.max(-w,Math.min(w,-P*w))}},c=m=>{const p=a(m.clientX,m.clientY,o.current,15);e(p)},f=()=>r(!0),d=()=>{r(!1),e({x:0,y:0})},h=k.useCallback((m,p)=>{l.current&&(l.current.style.transform=`perspective(1000px) rotateX(${m}deg) rotateY(${p}deg) scale(1)`)},[]),_=k.useCallback(m=>{if(m.preventDefault(),m.stopPropagation(),m.touches.length>0){const p=m.touches[0],g=a(p.clientX,p.clientY,l.current,25);h(g.x,g.y)}},[h]),v=k.useCallback(m=>{if(m.preventDefault(),m.stopPropagation(),i(!0),l.current&&(l.current.style.transition="none"),m.touches.length>0){const p=m.touches[0],g=a(p.clientX,p.clientY,l.current,25);h(g.x,g.y)}},[h]),y=k.useCallback(m=>{m.stopPropagation(),i(!1),l.current&&(l.current.style.transition="transform 0.3s ease-out",l.current.style.transform="perspective(1000px) rotateX(0deg) rotateY(0deg) scale(1)"),e({x:0,y:0})},[]),D=n&&!s;return u.jsxs("section",{className:"commander-section",children:[u.jsx("h2",{children:"Meet Your Mission Commander"}),u.jsxs("div",{className:"commander-frame-container",ref:o,onMouseMove:c,onMouseEnter:f,onMouseLeave:d,children:[u.jsx("div",{className:"orbit orbit-1",children:u.jsx("div",{className:"orbit-dot"})}),u.jsx("div",{className:"orbit orbit-2",children:u.jsx("div",{className:"orbit-dot star"})}),u.jsx("div",{className:"orbit orbit-3",children:u.jsx("div",{className:"orbit-dot planet"})}),u.jsxs("div",{ref:l,className:`commander-porthole ${D?"hovering":""}`,style:{transform:`perspective(1000px) rotateX(${t.x}deg) rotateY(${t.y}deg) scale(${D?1.05:1})`},onTouchStart:v,onTouchMove:_,onTouchEnd:y,children:[u.jsx("div",{className:"porthole-glow"}),u.jsxs("div",{className:"porthole-frame",children:[u.jsx("div",{className:"bolt bolt-1"}),u.jsx("div",{className:"bolt bolt-2"}),u.jsx("div",{className:"bolt bolt-3"}),u.jsx("div",{className:"bolt bolt-4"}),u.jsxs("div",{className:"porthole-glass",children:[u.jsx("img",{src:"/Hilde-5th-birthday/hilde-commander.jpg",alt:"Commander Hilde in her astronaut suit",className:"commander-photo"}),u.jsx("div",{className:"glass-reflection"})]})]})]}),u.jsxs("div",{className:"space-particles",children:[u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{})]})]}),u.jsxs("div",{className:"commander-info",children:[u.jsx("p",{className:"commander-title",children:"Commander Hilde"}),u.jsx("p",{className:"commander-subtitle",children:"Leading the mission to turn 5!"})]})]})}const sy=new Date("2026-02-08T10:00:00-05:00"),iy="Hudson River Museum",oy="Joyce Greene Education Center & Planetarium",Ta="511 Warburton Ave, Yonkers, NY 10701",ly="https://maps.google.com/?q=Hudson+River+Museum+511+Warburton+Ave+Yonkers+NY+10701",ay="https://kotharishalin-max.github.io/Hilde-5th-birthday/",uy="SPACE2026";function cy(){const[t,e]=k.useState(n());function n(){const s=sy-new Date;return s<=0?{days:0,hours:0,minutes:0,seconds:0,expired:!0}:{days:Math.floor(s/(1e3*60*60*24)),hours:Math.floor(s/(1e3*60*60)%24),minutes:Math.floor(s/(1e3*60)%60),seconds:Math.floor(s/1e3%60),expired:!1}}return k.useEffect(()=>{const r=setInterval(()=>{e(n())},1e3);return()=>clearInterval(r)},[]),t.expired?u.jsx("div",{className:"countdown countdown-expired",children:u.jsx("span",{className:"countdown-title",children:"Liftoff!"})}):u.jsxs("div",{className:"countdown",children:[u.jsx("span",{className:"countdown-title",children:"T-Minus"}),u.jsxs("div",{className:"countdown-units",children:[u.jsxs("div",{className:"countdown-unit",children:[u.jsx("span",{className:"countdown-number",children:t.days}),u.jsx("span",{className:"countdown-label",children:"days"})]}),u.jsxs("div",{className:"countdown-unit",children:[u.jsx("span",{className:"countdown-number",children:t.hours}),u.jsx("span",{className:"countdown-label",children:"hrs"})]}),u.jsxs("div",{className:"countdown-unit",children:[u.jsx("span",{className:"countdown-number",children:t.minutes}),u.jsx("span",{className:"countdown-label",children:"min"})]}),u.jsxs("div",{className:"countdown-unit",children:[u.jsx("span",{className:"countdown-number",children:t.seconds}),u.jsx("span",{className:"countdown-label",children:"sec"})]})]})]})}function dy(){const t="Hilde's 5th Birthday - Space Mission!",e=`Join us for an out-of-this-world birthday celebration at the Hudson River Museum Planetarium!

9:30 AM - Doors open (early arrivals welcome)
10:00 AM - Creative activity begins
10:30 AM - Private Planetarium show
11:00 AM - Refreshments and cake
11:45 AM - Party concludes

RSVP & Details: ${ay}
Access Code: ${uy}

See you among the stars!`,n="20260208T150000Z",r="20260208T170000Z",s=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(t)}&dates=${n}/${r}&details=${encodeURIComponent(e)}&location=${encodeURIComponent(Ta)}`,i=e.replace(/\n/g,"\\n"),o=()=>{const l=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Hilde Birthday//EN
BEGIN:VEVENT
DTSTART:${n}
DTEND:${r}
SUMMARY:${t}
DESCRIPTION:${i}
LOCATION:${Ta}
END:VEVENT
END:VCALENDAR`,a=new Blob([l],{type:"text/calendar;charset=utf-8"}),c=document.createElement("a");c.href=URL.createObjectURL(a),c.download="hilde-birthday.ics",document.body.appendChild(c),c.click(),document.body.removeChild(c)};return u.jsxs("div",{className:"calendar-buttons",children:[u.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"calendar-btn google",children:[u.jsx("svg",{viewBox:"0 0 24 24",className:"calendar-icon",children:u.jsx("path",{fill:"currentColor",d:"M19,4H17V3a1,1,0,0,0-2,0V4H9V3A1,1,0,0,0,7,3V4H5A2,2,0,0,0,3,6V20a2,2,0,0,0,2,2H19a2,2,0,0,0,2-2V6A2,2,0,0,0,19,4Zm0,16H5V10H19ZM9,14H7V12H9Zm4,0H11V12h2Zm4,0H15V12h2Zm-8,4H7V16H9Zm4,0H11V16h2Zm4,0H15V16h2Z"})}),"Google Calendar"]}),u.jsxs("button",{onClick:o,className:"calendar-btn ics",children:[u.jsx("svg",{viewBox:"0 0 24 24",className:"calendar-icon",children:u.jsx("path",{fill:"currentColor",d:"M19,4H17V3a1,1,0,0,0-2,0V4H9V3A1,1,0,0,0,7,3V4H5A2,2,0,0,0,3,6V20a2,2,0,0,0,2,2H19a2,2,0,0,0,2-2V6A2,2,0,0,0,19,4Zm0,16H5V10H19ZM9,14H7V12H9Zm4,0H11V12h2Zm4,0H15V12h2Zm-8,4H7V16H9Zm4,0H11V16h2Zm4,0H15V16h2Z"})}),"Apple / Outlook"]})]})}function hy(){return u.jsxs("section",{className:"details",children:[u.jsx("h2",{children:"Mission Briefing"}),u.jsx(cy,{}),u.jsxs("div",{className:"detail-cards",children:[u.jsxs("div",{className:"detail-card date-time-card",children:[u.jsx("span",{className:"icon",role:"img","aria-label":"rocket",children:""}),u.jsx("h3",{children:"Launch Date"}),u.jsx("p",{children:"Saturday, February 8th, 2026"}),u.jsx("p",{children:"Countdown Begins at 10:00 AM"})]}),u.jsxs("div",{className:"detail-card location-card",children:[u.jsx("span",{className:"icon",role:"img","aria-label":"location",children:""}),u.jsx("h3",{children:"Mission Control"}),u.jsx("p",{children:iy}),u.jsx("p",{className:"address",children:oy}),u.jsx("p",{className:"address",children:Ta}),u.jsxs("a",{href:ly,target:"_blank",rel:"noopener noreferrer",className:"maps-link",children:[u.jsx("svg",{viewBox:"0 0 24 24",className:"maps-icon",children:u.jsx("path",{fill:"currentColor",d:"M12,2C8.13,2,5,5.13,5,9c0,5.25,7,13,7,13s7-7.75,7-13C19,5.13,15.87,2,12,2zm0,9.5c-1.38,0-2.5-1.12-2.5-2.5s1.12-2.5,2.5-2.5s2.5,1.12,2.5,2.5S13.38,11.5,12,11.5z"})}),"Open in Maps"]})]}),u.jsxs("div",{className:"detail-card schedule-card",children:[u.jsx("span",{className:"icon",role:"img","aria-label":"clipboard",children:""}),u.jsx("h3",{children:"Flight Plan"}),u.jsxs("div",{className:"schedule-timeline",children:[u.jsxs("div",{className:"schedule-item soft",children:[u.jsx("span",{className:"schedule-time",children:"9:30 AM"}),u.jsx("span",{className:"schedule-desc",children:"Doors open - early arrivals welcome"})]}),u.jsxs("div",{className:"schedule-item",children:[u.jsx("span",{className:"schedule-time",children:"10:00 AM"}),u.jsx("span",{className:"schedule-desc",children:"Creative activity begins"})]}),u.jsxs("div",{className:"schedule-item highlight",children:[u.jsx("span",{className:"schedule-time",children:"10:30 AM"}),u.jsx("span",{className:"schedule-desc",children:"Planetarium show"})]}),u.jsxs("div",{className:"schedule-item",children:[u.jsx("span",{className:"schedule-time",children:"11:00 AM"}),u.jsx("span",{className:"schedule-desc",children:"Refreshments & cake"})]}),u.jsxs("div",{className:"schedule-item",children:[u.jsx("span",{className:"schedule-time",children:"11:45 AM"}),u.jsx("span",{className:"schedule-desc",children:"Mission complete"})]})]})]})]}),u.jsx(dy,{})]})}var Fd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S=function(t,e){if(!t)throw Nr(e)},Nr=function(t){return new Error("Firebase Database ("+$p.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},fy=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],a=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Wu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,a=s+2<t.length,c=a?t[s+2]:0,f=i>>2,d=(i&3)<<4|l>>4;let h=(l&15)<<2|c>>6,_=c&63;a||(_=64,o||(h=64)),r.push(n[f],n[d],n[h],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Gp(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fy(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||c==null||d==null)throw new py;const h=i<<2|l>>4;if(r.push(h),c!==64){const _=l<<4&240|c>>2;if(r.push(_),d!==64){const v=c<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class py extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yp=function(t){const e=Gp(t);return Wu.encodeByteArray(e,!0)},to=function(t){return Yp(t).replace(/\./g,"")},Ia=function(t){try{return Wu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t){return Qp(void 0,t)}function Qp(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!gy(n)||(t[n]=Qp(t[n],e[n]));return t}function gy(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=()=>_y().__FIREBASE_DEFAULTS__,yy=()=>{if(typeof process>"u"||typeof Fd>"u")return;const t=Fd.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wy=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ia(t[1]);return e&&JSON.parse(e)},Kp=()=>{try{return vy()||yy()||wy()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Cy=t=>{var e,n;return(n=(e=Kp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ey=t=>{const e=Cy(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qp=()=>{var t;return(t=Kp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[to(JSON.stringify(n)),to(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xy())}function Ny(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ky(){return $p.NODE_ADMIN===!0}function Ty(){try{return typeof indexedDB=="object"}catch{return!1}}function Iy(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="FirebaseError";class Us extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ry,Object.setPrototypeOf(this,Us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zp.prototype.create)}}class Zp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Py(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Us(s,l,r)}}function Py(t,e){return t.replace(Ay,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Ay=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(t){return JSON.parse(t)}function he(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=Ss(Ia(i[0])||""),n=Ss(Ia(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},jy=function(t){const e=Jp(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Dy=function(t){const e=Jp(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _r(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function zd(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function no(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Ra(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Bd(i)&&Bd(o)){if(!Ra(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Bd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],c,f;for(let d=0;d<80;d++){d<40?d<20?(c=l^i&(o^l),f=1518500249):(c=i^o^l,f=1859775393):d<60?(c=i&o|l&(i|o),f=2400959708):(c=i^o^l,f=3395469782);const h=(s<<5|s>>>27)+c+a+f+r[d]&4294967295;a=l,l=o,o=(i<<30|i>>>2)&4294967295,i=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function Oo(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,S(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},bo=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t){return t&&t._delegate?t._delegate:t}class xs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Bs;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zy(e))try{this.getOrInitializeService({instanceIdentifier:wn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=wn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wn){return this.instances.has(e)}getOptions(e=wn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Fy(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wn){return this.component?this.component.multipleInstances?e:wn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Fy(t){return t===wn?void 0:t}function zy(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new by(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Q||(Q={}));const Uy={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},Vy=Q.INFO,Hy={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},Wy=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Hy[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class em{constructor(e){this.name=e,this._logLevel=Vy,this._logHandler=Wy,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Uy[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...e),this._logHandler(this,Q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...e),this._logHandler(this,Q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...e),this._logHandler(this,Q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...e),this._logHandler(this,Q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...e),this._logHandler(this,Q.ERROR,...e)}}const $y=(t,e)=>e.some(n=>t instanceof n);let Ud,Vd;function Gy(){return Ud||(Ud=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yy(){return Vd||(Vd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tm=new WeakMap,Pa=new WeakMap,nm=new WeakMap,El=new WeakMap,$u=new WeakMap;function Qy(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(nn(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tm.set(n,t)}).catch(()=>{}),$u.set(e,t),e}function Ky(t){if(Pa.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Pa.set(t,e)}let Aa={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pa.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qy(t){Aa=t(Aa)}function Xy(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Sl(this),e,...n);return nm.set(r,e.sort?e.sort():[e]),nn(r)}:Yy().includes(t)?function(...e){return t.apply(Sl(this),e),nn(tm.get(this))}:function(...e){return nn(t.apply(Sl(this),e))}}function Zy(t){return typeof t=="function"?Xy(t):(t instanceof IDBTransaction&&Ky(t),$y(t,Gy())?new Proxy(t,Aa):t)}function nn(t){if(t instanceof IDBRequest)return Qy(t);if(El.has(t))return El.get(t);const e=Zy(t);return e!==t&&(El.set(t,e),$u.set(e,t)),e}const Sl=t=>$u.get(t);function Jy(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=nn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(nn(o.result),a.oldVersion,a.newVersion,nn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{i&&a.addEventListener("close",()=>i()),s&&a.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const e0=["get","getKey","getAll","getAllKeys","count"],t0=["put","add","delete","clear"],xl=new Map;function Hd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xl.get(e))return xl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=t0.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||e0.includes(n)))return;const i=async function(o,...l){const a=this.transaction(o,s?"readwrite":"readonly");let c=a.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&a.done]))[0]};return xl.set(e,i),i}qy(t=>({...t,get:(e,n,r)=>Hd(e,n)||t.get(e,n,r),has:(e,n)=>!!Hd(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(r0(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function r0(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ja="@firebase/app",Wd="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot=new em("@firebase/app"),s0="@firebase/app-compat",i0="@firebase/analytics-compat",o0="@firebase/analytics",l0="@firebase/app-check-compat",a0="@firebase/app-check",u0="@firebase/auth",c0="@firebase/auth-compat",d0="@firebase/database",h0="@firebase/data-connect",f0="@firebase/database-compat",p0="@firebase/functions",m0="@firebase/functions-compat",g0="@firebase/installations",_0="@firebase/installations-compat",v0="@firebase/messaging",y0="@firebase/messaging-compat",w0="@firebase/performance",C0="@firebase/performance-compat",E0="@firebase/remote-config",S0="@firebase/remote-config-compat",x0="@firebase/storage",N0="@firebase/storage-compat",k0="@firebase/firestore",T0="@firebase/vertexai-preview",I0="@firebase/firestore-compat",R0="firebase",P0="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]",A0={[ja]:"fire-core",[s0]:"fire-core-compat",[o0]:"fire-analytics",[i0]:"fire-analytics-compat",[a0]:"fire-app-check",[l0]:"fire-app-check-compat",[u0]:"fire-auth",[c0]:"fire-auth-compat",[d0]:"fire-rtdb",[h0]:"fire-data-connect",[f0]:"fire-rtdb-compat",[p0]:"fire-fn",[m0]:"fire-fn-compat",[g0]:"fire-iid",[_0]:"fire-iid-compat",[v0]:"fire-fcm",[y0]:"fire-fcm-compat",[w0]:"fire-perf",[C0]:"fire-perf-compat",[E0]:"fire-rc",[S0]:"fire-rc-compat",[x0]:"fire-gcs",[N0]:"fire-gcs-compat",[k0]:"fire-fst",[I0]:"fire-fst-compat",[T0]:"fire-vertex","fire-js":"fire-js",[R0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=new Map,j0=new Map,Ma=new Map;function $d(t,e){try{t.container.addComponent(e)}catch(n){Ot.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function so(t){const e=t.name;if(Ma.has(e))return Ot.debug(`There were multiple attempts to register component ${e}.`),!1;Ma.set(e,t);for(const n of ro.values())$d(n,t);for(const n of j0.values())$d(n,t);return!0}function D0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rn=new Zp("app","Firebase",M0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=P0;function rm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Da,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw rn.create("bad-app-name",{appName:String(s)});if(n||(n=qp()),!n)throw rn.create("no-options");const i=ro.get(s);if(i){if(Ra(n,i.options)&&Ra(r,i.config))return i;throw rn.create("duplicate-app",{appName:s})}const o=new By(s);for(const a of Ma.values())o.addComponent(a);const l=new L0(n,r,o);return ro.set(s,l),l}function b0(t=Da){const e=ro.get(t);if(!e&&t===Da&&qp())return rm();if(!e)throw rn.create("no-app",{appName:t});return e}function ar(t,e,n){var r;let s=(r=A0[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ot.warn(l.join(" "));return}so(new xs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="firebase-heartbeat-database",z0=1,Ns="firebase-heartbeat-store";let Nl=null;function sm(){return Nl||(Nl=Jy(F0,z0,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ns)}catch(n){console.warn(n)}}}}).catch(t=>{throw rn.create("idb-open",{originalErrorMessage:t.message})})),Nl}async function B0(t){try{const n=(await sm()).transaction(Ns),r=await n.objectStore(Ns).get(im(t));return await n.done,r}catch(e){if(e instanceof Us)Ot.warn(e.message);else{const n=rn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ot.warn(n.message)}}}async function Gd(t,e){try{const r=(await sm()).transaction(Ns,"readwrite");await r.objectStore(Ns).put(e,im(t)),await r.done}catch(n){if(n instanceof Us)Ot.warn(n.message);else{const r=rn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ot.warn(r.message)}}}function im(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=1024,V0=30*24*60*60*1e3;class H0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $0(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Yd();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=V0}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ot.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yd(),{heartbeatsToSend:r,unsentEntries:s}=W0(this._heartbeatsCache.heartbeats),i=to(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ot.warn(n),""}}}function Yd(){return new Date().toISOString().substring(0,10)}function W0(t,e=U0){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Qd(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Qd(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ty()?Iy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await B0(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Gd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Gd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Qd(t){return to(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t){so(new xs("platform-logger",e=>new n0(e),"PRIVATE")),so(new xs("heartbeat",e=>new H0(e),"PRIVATE")),ar(ja,Wd,t),ar(ja,Wd,"esm2017"),ar("fire-js","")}G0("");var Kd={};const qd="@firebase/database",Xd="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let om="";function Y0(t){om=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),he(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ss(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return St(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Q0(e)}}catch{}return new K0},Nn=lm("localStorage"),q0=lm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new em("@firebase/database"),X0=function(){let t=1;return function(){return t++}}(),am=function(t){const e=Oy(t),n=new Ly;n.update(e);const r=n.digest();return Wu.encodeByteArray(r)},Vs=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Vs.apply(null,r):typeof r=="object"?e+=he(r):e+=r,e+=" "}return e};let ts=null,Zd=!0;const Z0=function(t,e){S(!0,"Can't turn on custom loggers persistently."),ur.logLevel=Q.VERBOSE,ts=ur.log.bind(ur)},ye=function(...t){if(Zd===!0&&(Zd=!1,ts===null&&q0.get("logging_enabled")===!0&&Z0()),ts){const e=Vs.apply(null,t);ts(e)}},Hs=function(t){return function(...e){ye(t,...e)}},La=function(...t){const e="FIREBASE INTERNAL ERROR: "+Vs(...t);ur.error(e)},bt=function(...t){const e=`FIREBASE FATAL ERROR: ${Vs(...t)}`;throw ur.error(e),new Error(e)},De=function(...t){const e="FIREBASE WARNING: "+Vs(...t);ur.warn(e)},J0=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&De("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Gu=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ew=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Mn="[MIN_NAME]",un="[MAX_NAME]",zn=function(t,e){if(t===e)return 0;if(t===Mn||e===un)return-1;if(e===Mn||t===un)return 1;{const n=Jd(t),r=Jd(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},tw=function(t,e){return t===e?0:t<e?-1:1},Fr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+he(e))},Yu=function(t){if(typeof t!="object"||t===null)return he(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=he(e[r]),n+=":",n+=Yu(t[e[r]]);return n+="}",n},um=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Se(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const cm=function(t){S(!Gu(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,l,a;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(a=n;a;a-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const f=c.join("");let d="";for(a=0;a<64;a+=8){let h=parseInt(f.substr(a,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},nw=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},rw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function sw(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const iw=new RegExp("^-?(0*)\\d{1,10}$"),ow=-2147483648,lw=2147483647,Jd=function(t){if(iw.test(t)){const e=Number(t);if(e>=ow&&e<=lw)return e}return null},kr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw De("Exception was thrown by user callback.",n),e},Math.floor(0))}},aw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ns=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){De(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ye("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',De(e)}}class Pi{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Pi.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu="5",dm="v",hm="s",fm="r",pm="f",mm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gm="ls",_m="p",Oa="ac",vm="websocket",ym="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n,r,s,i=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Nn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Nn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function dw(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Cm(t,e,n){S(typeof e=="string","typeof type must == string"),S(typeof n=="object","typeof params must == object");let r;if(e===vm)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===ym)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);dw(t)&&(n.ns=t.namespace);const s=[];return Se(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.counters_={}}incrementCounter(e,n=1){St(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return my(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl={},Tl={};function Ku(t){const e=t.toString();return kl[e]||(kl[e]=new hw),kl[e]}function fw(t,e){const n=t.toString();return Tl[n]||(Tl[n]=e()),Tl[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&kr(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="start",mw="close",gw="pLPCommand",_w="pRTLPCB",Em="id",Sm="pw",xm="ser",vw="cb",yw="seg",ww="ts",Cw="d",Ew="dframe",Nm=1870,km=30,Sw=Nm-km,xw=25e3,Nw=3e4;class tr{constructor(e,n,r,s,i,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Hs(e),this.stats_=Ku(n),this.urlFn=a=>(this.appCheckToken&&(a[Oa]=this.appCheckToken),Cm(n,ym,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new pw(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Nw)),ew(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qu((...i)=>{const[o,l,a,c,f]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===eh)this.id=l,this.password=a;else if(o===mw)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,l]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[eh]="t",r[xm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[vw]=this.scriptTagHolder.uniqueCallbackIdentifier),r[dm]=Qu,this.transportSessionId&&(r[hm]=this.transportSessionId),this.lastSessionId&&(r[gm]=this.lastSessionId),this.applicationId&&(r[_m]=this.applicationId),this.appCheckToken&&(r[Oa]=this.appCheckToken),typeof location<"u"&&location.hostname&&mm.test(location.hostname)&&(r[fm]=pm);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){tr.forceAllow_=!0}static forceDisallow(){tr.forceDisallow_=!0}static isAvailable(){return tr.forceAllow_?!0:!tr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!nw()&&!rw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=he(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Yp(n),s=um(r,Sw);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Ew]="t",r[Em]=e,r[Sm]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=he(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class qu{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=X0(),window[gw+this.uniqueCallbackIdentifier]=e,window[_w+this.uniqueCallbackIdentifier]=n,this.myIFrame=qu.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){ye("frame writing exception"),l.stack&&ye(l.stack),ye(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ye("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Em]=this.myID,e[Sm]=this.myPW,e[xm]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+km+r.length<=Nm;){const o=this.pendingSegs.shift();r=r+"&"+yw+s+"="+o.seg+"&"+ww+s+"="+o.ts+"&"+Cw+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(xw)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ye("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=16384,Tw=45e3;let io=null;typeof MozWebSocket<"u"?io=MozWebSocket:typeof WebSocket<"u"&&(io=WebSocket);class ut{constructor(e,n,r,s,i,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Hs(this.connId),this.stats_=Ku(n),this.connURL=ut.connectionURL_(n,o,l,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[dm]=Qu,typeof location<"u"&&location.hostname&&mm.test(location.hostname)&&(o[fm]=pm),n&&(o[hm]=n),r&&(o[gm]=r),s&&(o[Oa]=s),i&&(o[_m]=i),Cm(e,vm,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Nn.set("previous_websocket_failure",!0);try{let r;ky(),this.mySock=new io(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){ut.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&io!==null&&!ut.forceDisallow_}static previouslyFailed(){return Nn.isInMemoryStorage||Nn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Nn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ss(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(S(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=he(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=um(n,kw);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Tw))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ut.responsesRequiredToBeHealthy=2;ut.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[tr,ut]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ut&&ut.isAvailable();let r=n&&!ut.previouslyFailed();if(e.webSocketOnly&&(n||De("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ut];else{const s=this.transports_=[];for(const i of ks.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);ks.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ks.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=6e4,Rw=5e3,Pw=10*1024,Aw=100*1024,Il="t",th="d",jw="s",nh="r",Dw="e",rh="o",sh="a",ih="n",oh="p",Mw="h";class Lw{constructor(e,n,r,s,i,o,l,a,c,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Hs("c:"+this.id+":"),this.transportManager_=new ks(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=ns(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Aw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Pw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Il in e){const n=e[Il];n===sh?this.upgradeIfSecondaryHealthy_():n===nh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===rh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Fr("t",e),r=Fr("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:oh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:sh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ih,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Fr("t",e),r=Fr("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Fr(Il,e);if(th in e){const r=e[th];if(n===Mw){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===ih){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===jw?this.onConnectionShutdown_(r):n===nh?this.onReset_(r):n===Dw?La("Server Error: "+r):n===rh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):La("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Qu!==r&&De("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ns(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Iw))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ns(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Rw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:oh,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Nn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this.allowedEvents_=e,this.listeners_={},S(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){S(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Im{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Xp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new oo}getInitialEvent(e){return S(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=32,ah=768;class ${constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function V(){return new $("")}function O(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function cn(t){return t.pieces_.length-t.pieceNum_}function K(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new $(t.pieces_,e)}function Xu(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Ow(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ts(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Rm(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new $(e,0)}function ie(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof $)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new $(n,0)}function b(t){return t.pieceNum_>=t.pieces_.length}function Ae(t,e){const n=O(t),r=O(e);if(n===null)return e;if(n===r)return Ae(K(t),K(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function bw(t,e){const n=Ts(t,0),r=Ts(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=zn(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function Zu(t,e){if(cn(t)!==cn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function et(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(cn(t)>cn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Fw{constructor(e,n){this.errorPrefix_=n,this.parts_=Ts(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=bo(this.parts_[r]);Pm(this)}}function zw(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=bo(e),Pm(t)}function Bw(t){const e=t.parts_.pop();t.byteLength_-=bo(e),t.parts_.length>0&&(t.byteLength_-=1)}function Pm(t){if(t.byteLength_>ah)throw new Error(t.errorPrefix_+"has a key path longer than "+ah+" bytes ("+t.byteLength_+").");if(t.parts_.length>lh)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+lh+") or object contains a cycle "+Cn(t))}function Cn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends Im{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Ju}getInitialEvent(e){return S(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=1e3,Uw=60*5*1e3,uh=30*1e3,Vw=1.3,Hw=3e4,Ww="server_kill",ch=3;class At extends Tm{constructor(e,n,r,s,i,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=At.nextPersistentConnectionId_++,this.log_=Hs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=zr,this.maxReconnectDelay_=Uw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ju.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&oo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(he(i)),S(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Bs,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),S(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),S(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,l=>{const a=l.d,c=l.s;At.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&St(e,"w")){const r=_r(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();De(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Dy(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=uh)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=jy(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),S(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+he(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):La("Unrecognized action received from server: "+he(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){S(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=zr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Hw&&(this.reconnectDelay_=zr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Vw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+At.nextConnectionId_++,i=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},c=function(d){S(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:c};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?ye("getToken() completed but was canceled"):(ye("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,l=new Lw(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,_=>{De(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(Ww)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&De(d),a())}}}interrupt(e){ye("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ye("Resuming connection for reason: "+e),delete this.interruptReasons_[e],zd(this.interruptReasons_)&&(this.reconnectDelay_=zr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Yu(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new $(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){ye("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ch&&(this.reconnectDelay_=uh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ye("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ch&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+om.replace(/\./g,"-")]=1,Xp()?e["framework.cordova"]=1:Ny()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=oo.getInstance().currentlyOnline();return zd(this.interruptReasons_)&&e}}At.nextPersistentConnectionId_=0;At.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new F(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new F(Mn,e),s=new F(Mn,n);return this.compare(r,s)!==0}minPost(){return F.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pi;class Am extends Fo{static get __EMPTY_NODE(){return pi}static set __EMPTY_NODE(e){pi=e}compare(e,n){return zn(e.name,n.name)}isDefinedOn(e){throw Nr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return F.MIN}maxPost(){return new F(un,pi)}makePost(e,n){return S(typeof e=="string","KeyIndex indexValue must always be a string."),new F(e,pi)}toString(){return".key"}}const In=new Am;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ge{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ge.RED,this.left=s??Fe.EMPTY_NODE,this.right=i??Fe.EMPTY_NODE}copy(e,n,r,s,i){return new ge(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Fe.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Fe.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ge.RED=!0;ge.BLACK=!1;class $w{copy(e,n,r,s,i){return this}insert(e,n,r){return new ge(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Fe{constructor(e,n=Fe.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Fe(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ge.BLACK,null,null))}remove(e){return new Fe(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ge.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new mi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new mi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new mi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new mi(this.root_,null,this.comparator_,!0,e)}}Fe.EMPTY_NODE=new $w;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(t,e){return zn(t.name,e.name)}function ec(t,e){return zn(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba;function Yw(t){ba=t}const jm=function(t){return typeof t=="number"?"number:"+cm(t):"string:"+t},Dm=function(t){if(t.isLeafNode()){const e=t.val();S(typeof e=="string"||typeof e=="number"||typeof e=="object"&&St(e,".sv"),"Priority must be a string or number.")}else S(t===ba||t.isEmpty(),"priority of unexpected type.");S(t===ba||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh;class pe{constructor(e,n=pe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,S(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Dm(this.priorityNode_)}static set __childrenNodeConstructor(e){dh=e}static get __childrenNodeConstructor(){return dh}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new pe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:pe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return b(e)?this:O(e)===".priority"?this.priorityNode_:pe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:pe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=O(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(S(r!==".priority"||cn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,pe.__childrenNodeConstructor.EMPTY_NODE.updateChild(K(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+jm(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=cm(this.value_):e+=this.value_,this.lazyHash_=am(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===pe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof pe.__childrenNodeConstructor?-1:(S(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=pe.VALUE_TYPE_ORDER.indexOf(n),i=pe.VALUE_TYPE_ORDER.indexOf(r);return S(s>=0,"Unknown leaf type: "+n),S(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}pe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mm,Lm;function Qw(t){Mm=t}function Kw(t){Lm=t}class qw extends Fo{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?zn(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return F.MIN}maxPost(){return new F(un,new pe("[PRIORITY-POST]",Lm))}makePost(e,n){const r=Mm(e);return new F(n,new pe("[PRIORITY-POST]",r))}toString(){return".priority"}}const te=new qw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=Math.log(2);class Zw{constructor(e){const n=i=>parseInt(Math.log(i)/Xw,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const lo=function(t,e,n,r){t.sort(e);const s=function(a,c){const f=c-a;let d,h;if(f===0)return null;if(f===1)return d=t[a],h=n?n(d):d,new ge(h,d.node,ge.BLACK,null,null);{const _=parseInt(f/2,10)+a,v=s(a,_),y=s(_+1,c);return d=t[_],h=n?n(d):d,new ge(h,d.node,ge.BLACK,v,y)}},i=function(a){let c=null,f=null,d=t.length;const h=function(v,y){const D=d-v,m=d;d-=v;const p=s(D+1,m),g=t[D],w=n?n(g):g;_(new ge(w,g.node,y,null,p))},_=function(v){c?(c.left=v,c=v):(f=v,c=v)};for(let v=0;v<a.count;++v){const y=a.nextBitIsOne(),D=Math.pow(2,a.count-(v+1));y?h(D,ge.BLACK):(h(D,ge.BLACK),h(D,ge.RED))}return f},o=new Zw(t.length),l=i(o);return new Fe(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl;const Vn={};class Rt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return S(Vn&&te,"ChildrenNode.ts has not been loaded"),Rl=Rl||new Rt({".priority":Vn},{".priority":te}),Rl}get(e){const n=_r(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Fe?n:null}hasIndex(e){return St(this.indexSet_,e.toString())}addIndex(e,n){S(e!==In,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(F.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let l;s?l=lo(r,e.getCompare()):l=Vn;const a=e.toString(),c=Object.assign({},this.indexSet_);c[a]=e;const f=Object.assign({},this.indexes_);return f[a]=l,new Rt(f,c)}addToIndexes(e,n){const r=no(this.indexes_,(s,i)=>{const o=_r(this.indexSet_,i);if(S(o,"Missing index implementation for "+i),s===Vn)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(F.Wrap);let c=a.getNext();for(;c;)c.name!==e.name&&l.push(c),c=a.getNext();return l.push(e),lo(l,o.getCompare())}else return Vn;else{const l=n.get(e.name);let a=s;return l&&(a=a.remove(new F(e.name,l))),a.insert(e,e.node)}});return new Rt(r,this.indexSet_)}removeFromIndexes(e,n){const r=no(this.indexes_,s=>{if(s===Vn)return s;{const i=n.get(e.name);return i?s.remove(new F(e.name,i)):s}});return new Rt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Br;class M{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Dm(this.priorityNode_),this.children_.isEmpty()&&S(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Br||(Br=new M(new Fe(ec),null,Rt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Br}updatePriority(e){return this.children_.isEmpty()?this:new M(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Br:n}}getChild(e){const n=O(e);return n===null?this:this.getImmediateChild(n).getChild(K(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(S(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new F(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Br:this.priorityNode_;return new M(s,o,i)}}updateChild(e,n){const r=O(e);if(r===null)return n;{S(O(e)!==".priority"||cn(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(K(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(te,(o,l)=>{n[o]=l.val(e),r++,i&&M.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+jm(this.getPriority().val())+":"),this.forEachChild(te,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":am(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new F(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new F(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new F(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,F.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,F.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ws?-1:0}withIndex(e){if(e===In||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new M(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===In||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(te),s=n.getIterator(te);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===In?null:this.indexMap_.get(e.toString())}}M.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Jw extends M{constructor(){super(new Fe(ec),M.EMPTY_NODE,Rt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return M.EMPTY_NODE}isEmpty(){return!1}}const Ws=new Jw;Object.defineProperties(F,{MIN:{value:new F(Mn,M.EMPTY_NODE)},MAX:{value:new F(un,Ws)}});Am.__EMPTY_NODE=M.EMPTY_NODE;pe.__childrenNodeConstructor=M;Yw(Ws);Kw(Ws);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=!0;function de(t,e=null){if(t===null)return M.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),S(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new pe(n,de(e))}if(!(t instanceof Array)&&eC){const n=[];let r=!1;if(Se(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=de(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new F(o,a)))}}),n.length===0)return M.EMPTY_NODE;const i=lo(n,Gw,o=>o.name,ec);if(r){const o=lo(n,te.getCompare());return new M(i,de(e),new Rt({".priority":o},{".priority":te}))}else return new M(i,de(e),Rt.Default)}else{let n=M.EMPTY_NODE;return Se(t,(r,s)=>{if(St(t,r)&&r.substring(0,1)!=="."){const i=de(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(de(e))}}Qw(de);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends Fo{constructor(e){super(),this.indexPath_=e,S(!b(e)&&O(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?zn(e.name,n.name):i}makePost(e,n){const r=de(e),s=M.EMPTY_NODE.updateChild(this.indexPath_,r);return new F(n,s)}maxPost(){const e=M.EMPTY_NODE.updateChild(this.indexPath_,Ws);return new F(un,e)}toString(){return Ts(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC extends Fo{compare(e,n){const r=e.node.compareTo(n.node);return r===0?zn(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return F.MIN}maxPost(){return F.MAX}makePost(e,n){const r=de(e);return new F(n,r)}toString(){return".value"}}const Om=new tC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(t){return{type:"value",snapshotNode:t}}function vr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Is(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Rs(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function nC(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){S(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(r.getChild(s))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Is(n,l)):S(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(vr(n,r)):o.trackChildChange(Rs(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(te,(s,i)=>{n.hasChild(s)||r.trackChildChange(Is(s,i))}),n.isLeafNode()||n.forEachChild(te,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(Rs(s,i,o))}else r.trackChildChange(vr(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?M.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.indexedFilter_=new nc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ps.getStartPost_(e),this.endPost_=Ps.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new F(n,r))||(r=M.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=M.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(M.EMPTY_NODE);const i=this;return n.forEachChild(te,(o,l)=>{i.matches(new F(o,l))||(s=s.updateImmediateChild(o,M.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ps(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new F(n,r))||(r=M.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=M.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=M.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const l=i.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(M.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const l=i.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:s=s.updateImmediateChild(l.name,M.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,_)=>d(_,h)}else o=this.index_.getCompare();const l=e;S(l.numChildren()===this.limit_,"");const a=new F(n,r),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),f=this.rangedFilter_.matches(a);if(l.hasChild(n)){const d=l.getImmediateChild(n);let h=s.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||l.hasChild(h.name));)h=s.getChildAfterChild(this.index_,h,this.reverse_);const _=h==null?1:o(h,a);if(f&&!r.isEmpty()&&_>=0)return i!=null&&i.trackChildChange(Rs(n,r,d)),l.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(Is(n,d));const y=l.updateImmediateChild(n,M.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(i!=null&&i.trackChildChange(vr(h.name,h.node)),y.updateImmediateChild(h.name,h.node)):y}}else return r.isEmpty()?e:f&&o(c,a)>=0?(i!=null&&(i.trackChildChange(Is(c.name,c.node)),i.trackChildChange(vr(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(c.name,M.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=te}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return S(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return S(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mn}hasEnd(){return this.endSet_}getIndexEndValue(){return S(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return S(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:un}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return S(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===te}copy(){const e=new rc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function sC(t){return t.loadsAllData()?new nc(t.getIndex()):t.hasLimit()?new rC(t):new Ps(t)}function iC(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function oC(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function lC(t,e){const n=t.copy();return n.index_=e,n}function hh(t){const e={};if(t.isDefault())return e;let n;if(t.index_===te?n="$priority":t.index_===Om?n="$value":t.index_===In?n="$key":(S(t.index_ instanceof tc,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=he(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=he(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+he(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=he(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+he(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function fh(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==te&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Tm{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Hs("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(S(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=ao.getListenId_(e,r),l={};this.listens_[o]=l;const a=hh(e._queryParams);this.restRequest_(i+".json",a,(c,f)=>{let d=f;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,r),_r(this.listens_,o)===l){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",s(h,null)}})}unlisten(e,n){const r=ao.getListenId_(e,n);delete this.listens_[r]}get(e){const n=hh(e._queryParams),r=e._path.toString(),s=new Bs;return this.restRequest_(r+".json",n,(i,o)=>{let l=o;i===404&&(l=null,i=null),i===null?(this.onDataUpdate_(r,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+My(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Ss(l.responseText)}catch{De("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&De("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.rootNode_=M.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(){return{value:null,children:new Map}}function Fm(t,e,n){if(b(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=O(e);t.children.has(r)||t.children.set(r,uo());const s=t.children.get(r);e=K(e),Fm(s,e,n)}}function Fa(t,e,n){t.value!==null?n(e,t.value):uC(t,(r,s)=>{const i=new $(e.toString()+"/"+r);Fa(s,i,n)})}function uC(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Se(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=10*1e3,dC=30*1e3,hC=5*60*1e3;class fC{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new cC(e);const r=ph+(dC-ph)*Math.random();ns(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Se(e,(s,i)=>{i>0&&St(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),ns(this.reportStats_.bind(this),Math.floor(Math.random()*2*hC))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ct||(ct={}));function sc(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ic(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function oc(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ct.ACK_USER_WRITE,this.source=sc()}operationForChild(e){if(b(this.path)){if(this.affectedTree.value!=null)return S(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new $(e));return new co(V(),n,this.revert)}}else return S(O(this.path)===e,"operationForChild called for unrelated child."),new co(K(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){this.source=e,this.path=n,this.type=ct.LISTEN_COMPLETE}operationForChild(e){return b(this.path)?new As(this.source,V()):new As(this.source,K(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ct.OVERWRITE}operationForChild(e){return b(this.path)?new Ln(this.source,V(),this.snap.getImmediateChild(e)):new Ln(this.source,K(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ct.MERGE}operationForChild(e){if(b(this.path)){const n=this.children.subtree(new $(e));return n.isEmpty()?null:n.value?new Ln(this.source,V(),n.value):new yr(this.source,V(),n)}else return S(O(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new yr(this.source,K(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(b(e))return this.isFullyInitialized()&&!this.filtered_;const n=O(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function mC(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(nC(o.childName,o.snapshotNode))}),Ur(t,s,"child_removed",e,r,n),Ur(t,s,"child_added",e,r,n),Ur(t,s,"child_moved",i,r,n),Ur(t,s,"child_changed",e,r,n),Ur(t,s,"value",e,r,n),s}function Ur(t,e,n,r,s,i){const o=r.filter(l=>l.type===n);o.sort((l,a)=>_C(t,l,a)),o.forEach(l=>{const a=gC(t,l,i);s.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(a,t.query_))})})}function gC(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function _C(t,e,n){if(e.childName==null||n.childName==null)throw Nr("Should only compare child_ events.");const r=new F(e.childName,e.snapshotNode),s=new F(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(t,e){return{eventCache:t,serverCache:e}}function rs(t,e,n,r){return zo(new dn(e,n,r),t.serverCache)}function zm(t,e,n,r){return zo(t.eventCache,new dn(e,n,r))}function ho(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function On(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl;const vC=()=>(Pl||(Pl=new Fe(tw)),Pl);class Y{constructor(e,n=vC()){this.value=e,this.children=n}static fromObject(e){let n=new Y(null);return Se(e,(r,s)=>{n=n.set(new $(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:V(),value:this.value};if(b(e))return null;{const r=O(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(K(e),n);return i!=null?{path:ie(new $(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(b(e))return this;{const n=O(e),r=this.children.get(n);return r!==null?r.subtree(K(e)):new Y(null)}}set(e,n){if(b(e))return new Y(n,this.children);{const r=O(e),i=(this.children.get(r)||new Y(null)).set(K(e),n),o=this.children.insert(r,i);return new Y(this.value,o)}}remove(e){if(b(e))return this.children.isEmpty()?new Y(null):new Y(null,this.children);{const n=O(e),r=this.children.get(n);if(r){const s=r.remove(K(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new Y(null):new Y(this.value,i)}else return this}}get(e){if(b(e))return this.value;{const n=O(e),r=this.children.get(n);return r?r.get(K(e)):null}}setTree(e,n){if(b(e))return n;{const r=O(e),i=(this.children.get(r)||new Y(null)).setTree(K(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new Y(this.value,o)}}fold(e){return this.fold_(V(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(ie(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,V(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(b(e))return null;{const i=O(e),o=this.children.get(i);return o?o.findOnPath_(K(e),ie(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,V(),n)}foreachOnPath_(e,n,r){if(b(e))return this;{this.value&&r(n,this.value);const s=O(e),i=this.children.get(s);return i?i.foreachOnPath_(K(e),ie(n,s),r):new Y(null)}}foreach(e){this.foreach_(V(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(ie(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.writeTree_=e}static empty(){return new mt(new Y(null))}}function ss(t,e,n){if(b(e))return new mt(new Y(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=Ae(s,e);return i=i.updateChild(o,n),new mt(t.writeTree_.set(s,i))}else{const s=new Y(n),i=t.writeTree_.setTree(e,s);return new mt(i)}}}function za(t,e,n){let r=t;return Se(n,(s,i)=>{r=ss(r,ie(e,s),i)}),r}function mh(t,e){if(b(e))return mt.empty();{const n=t.writeTree_.setTree(e,new Y(null));return new mt(n)}}function Ba(t,e){return Bn(t,e)!=null}function Bn(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ae(n.path,e)):null}function gh(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(te,(r,s)=>{e.push(new F(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new F(r,s.value))}),e}function sn(t,e){if(b(e))return t;{const n=Bn(t,e);return n!=null?new mt(new Y(n)):new mt(t.writeTree_.subtree(e))}}function Ua(t){return t.writeTree_.isEmpty()}function wr(t,e){return Bm(V(),t.writeTree_,e)}function Bm(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(S(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=Bm(ie(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ie(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(t,e){return Wm(e,t)}function yC(t,e,n,r,s){S(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=ss(t.visibleWrites,e,n)),t.lastWriteId=r}function wC(t,e,n,r){S(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=za(t.visibleWrites,e,n),t.lastWriteId=r}function CC(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function EC(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);S(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&SC(l,r.path)?s=!1:et(r.path,l.path)&&(i=!0)),o--}if(s){if(i)return xC(t),!0;if(r.snap)t.visibleWrites=mh(t.visibleWrites,r.path);else{const l=r.children;Se(l,a=>{t.visibleWrites=mh(t.visibleWrites,ie(r.path,a))})}return!0}else return!1}function SC(t,e){if(t.snap)return et(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&et(ie(t.path,n),e))return!0;return!1}function xC(t){t.visibleWrites=Um(t.allWrites,NC,V()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function NC(t){return t.visible}function Um(t,e,n){let r=mt.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let l;if(i.snap)et(n,o)?(l=Ae(n,o),r=ss(r,l,i.snap)):et(o,n)&&(l=Ae(o,n),r=ss(r,V(),i.snap.getChild(l)));else if(i.children){if(et(n,o))l=Ae(n,o),r=za(r,l,i.children);else if(et(o,n))if(l=Ae(o,n),b(l))r=za(r,V(),i.children);else{const a=_r(i.children,O(l));if(a){const c=a.getChild(K(l));r=ss(r,V(),c)}}}else throw Nr("WriteRecord should have .snap or .children")}}return r}function Vm(t,e,n,r,s){if(!r&&!s){const i=Bn(t.visibleWrites,e);if(i!=null)return i;{const o=sn(t.visibleWrites,e);if(Ua(o))return n;if(n==null&&!Ba(o,V()))return null;{const l=n||M.EMPTY_NODE;return wr(o,l)}}}else{const i=sn(t.visibleWrites,e);if(!s&&Ua(i))return n;if(!s&&n==null&&!Ba(i,V()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(et(c.path,e)||et(e,c.path))},l=Um(t.allWrites,o,e),a=n||M.EMPTY_NODE;return wr(l,a)}}}function kC(t,e,n){let r=M.EMPTY_NODE;const s=Bn(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(te,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=sn(t.visibleWrites,e);return n.forEachChild(te,(o,l)=>{const a=wr(sn(i,new $(o)),l);r=r.updateImmediateChild(o,a)}),gh(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=sn(t.visibleWrites,e);return gh(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function TC(t,e,n,r,s){S(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=ie(e,n);if(Ba(t.visibleWrites,i))return null;{const o=sn(t.visibleWrites,i);return Ua(o)?s.getChild(n):wr(o,s.getChild(n))}}function IC(t,e,n,r){const s=ie(e,n),i=Bn(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=sn(t.visibleWrites,s);return wr(o,r.getNode().getImmediateChild(n))}else return null}function RC(t,e){return Bn(t.visibleWrites,e)}function PC(t,e,n,r,s,i,o){let l;const a=sn(t.visibleWrites,e),c=Bn(a,V());if(c!=null)l=c;else if(n!=null)l=wr(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const f=[],d=o.getCompare(),h=i?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let _=h.getNext();for(;_&&f.length<s;)d(_,r)!==0&&f.push(_),_=h.getNext();return f}else return[]}function AC(){return{visibleWrites:mt.empty(),allWrites:[],lastWriteId:-1}}function fo(t,e,n,r){return Vm(t.writeTree,t.treePath,e,n,r)}function lc(t,e){return kC(t.writeTree,t.treePath,e)}function _h(t,e,n,r){return TC(t.writeTree,t.treePath,e,n,r)}function po(t,e){return RC(t.writeTree,ie(t.treePath,e))}function jC(t,e,n,r,s,i){return PC(t.writeTree,t.treePath,e,n,r,s,i)}function ac(t,e,n){return IC(t.writeTree,t.treePath,e,n)}function Hm(t,e){return Wm(ie(t.treePath,e),t.writeTree)}function Wm(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;S(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),S(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,Rs(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Is(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,vr(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,Rs(r,e.snapshotNode,s.oldSnap));else throw Nr("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const $m=new MC;class uc{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new dn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ac(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:On(this.viewCache_),i=jC(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t){return{filter:t}}function OC(t,e){S(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),S(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function bC(t,e,n,r,s){const i=new DC;let o,l;if(n.type===ct.OVERWRITE){const c=n;c.source.fromUser?o=Va(t,e,c.path,c.snap,r,s,i):(S(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!b(c.path),o=mo(t,e,c.path,c.snap,r,s,l,i))}else if(n.type===ct.MERGE){const c=n;c.source.fromUser?o=zC(t,e,c.path,c.children,r,s,i):(S(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),o=Ha(t,e,c.path,c.children,r,s,l,i))}else if(n.type===ct.ACK_USER_WRITE){const c=n;c.revert?o=VC(t,e,c.path,r,s,i):o=BC(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===ct.LISTEN_COMPLETE)o=UC(t,e,n.path,r,i);else throw Nr("Unknown operation type: "+n.type);const a=i.getChanges();return FC(e,o,a),{viewCache:o,changes:a}}function FC(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=ho(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(bm(ho(e)))}}function Gm(t,e,n,r,s,i){const o=e.eventCache;if(po(r,n)!=null)return e;{let l,a;if(b(n))if(S(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=On(e),f=c instanceof M?c:M.EMPTY_NODE,d=lc(r,f);l=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const c=fo(r,On(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=O(n);if(c===".priority"){S(cn(n)===1,"Can't have a priority with additional path components");const f=o.getNode();a=e.serverCache.getNode();const d=_h(r,n,f,a);d!=null?l=t.filter.updatePriority(f,d):l=o.getNode()}else{const f=K(n);let d;if(o.isCompleteForChild(c)){a=e.serverCache.getNode();const h=_h(r,n,o.getNode(),a);h!=null?d=o.getNode().getImmediateChild(c).updateChild(f,h):d=o.getNode().getImmediateChild(c)}else d=ac(r,c,e.serverCache);d!=null?l=t.filter.updateChild(o.getNode(),c,d,f,s,i):l=o.getNode()}}return rs(e,l,o.isFullyInitialized()||b(n),t.filter.filtersNodes())}}function mo(t,e,n,r,s,i,o,l){const a=e.serverCache;let c;const f=o?t.filter:t.filter.getIndexedFilter();if(b(n))c=f.updateFullNode(a.getNode(),r,null);else if(f.filtersNodes()&&!a.isFiltered()){const _=a.getNode().updateChild(n,r);c=f.updateFullNode(a.getNode(),_,null)}else{const _=O(n);if(!a.isCompleteForPath(n)&&cn(n)>1)return e;const v=K(n),D=a.getNode().getImmediateChild(_).updateChild(v,r);_===".priority"?c=f.updatePriority(a.getNode(),D):c=f.updateChild(a.getNode(),_,D,v,$m,null)}const d=zm(e,c,a.isFullyInitialized()||b(n),f.filtersNodes()),h=new uc(s,d,i);return Gm(t,d,n,s,h,l)}function Va(t,e,n,r,s,i,o){const l=e.eventCache;let a,c;const f=new uc(s,e,i);if(b(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=rs(e,c,!0,t.filter.filtersNodes());else{const d=O(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),a=rs(e,c,l.isFullyInitialized(),l.isFiltered());else{const h=K(n),_=l.getNode().getImmediateChild(d);let v;if(b(h))v=r;else{const y=f.getCompleteChild(d);y!=null?Xu(h)===".priority"&&y.getChild(Rm(h)).isEmpty()?v=y:v=y.updateChild(h,r):v=M.EMPTY_NODE}if(_.equals(v))a=e;else{const y=t.filter.updateChild(l.getNode(),d,v,h,f,o);a=rs(e,y,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function vh(t,e){return t.eventCache.isCompleteForChild(e)}function zC(t,e,n,r,s,i,o){let l=e;return r.foreach((a,c)=>{const f=ie(n,a);vh(e,O(f))&&(l=Va(t,l,f,c,s,i,o))}),r.foreach((a,c)=>{const f=ie(n,a);vh(e,O(f))||(l=Va(t,l,f,c,s,i,o))}),l}function yh(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Ha(t,e,n,r,s,i,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,c;b(n)?c=r:c=new Y(null).setTree(n,r);const f=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(f.hasChild(d)){const _=e.serverCache.getNode().getImmediateChild(d),v=yh(t,_,h);a=mo(t,a,new $(d),v,s,i,o,l)}}),c.children.inorderTraversal((d,h)=>{const _=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!f.hasChild(d)&&!_){const v=e.serverCache.getNode().getImmediateChild(d),y=yh(t,v,h);a=mo(t,a,new $(d),y,s,i,o,l)}}),a}function BC(t,e,n,r,s,i,o){if(po(s,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(b(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return mo(t,e,n,a.getNode().getChild(n),s,i,l,o);if(b(n)){let c=new Y(null);return a.getNode().forEachChild(In,(f,d)=>{c=c.set(new $(f),d)}),Ha(t,e,n,c,s,i,l,o)}else return e}else{let c=new Y(null);return r.foreach((f,d)=>{const h=ie(n,f);a.isCompleteForPath(h)&&(c=c.set(f,a.getNode().getChild(h)))}),Ha(t,e,n,c,s,i,l,o)}}function UC(t,e,n,r,s){const i=e.serverCache,o=zm(e,i.getNode(),i.isFullyInitialized()||b(n),i.isFiltered());return Gm(t,o,n,r,$m,s)}function VC(t,e,n,r,s,i){let o;if(po(r,n)!=null)return e;{const l=new uc(r,e,s),a=e.eventCache.getNode();let c;if(b(n)||O(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=fo(r,On(e));else{const d=e.serverCache.getNode();S(d instanceof M,"serverChildren would be complete if leaf node"),f=lc(r,d)}f=f,c=t.filter.updateFullNode(a,f,i)}else{const f=O(n);let d=ac(r,f,e.serverCache);d==null&&e.serverCache.isCompleteForChild(f)&&(d=a.getImmediateChild(f)),d!=null?c=t.filter.updateChild(a,f,d,K(n),l,i):e.eventCache.getNode().hasChild(f)?c=t.filter.updateChild(a,f,M.EMPTY_NODE,K(n),l,i):c=a,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=fo(r,On(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||po(r,V())!=null,rs(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new nc(r.getIndex()),i=sC(r);this.processor_=LC(i);const o=n.serverCache,l=n.eventCache,a=s.updateFullNode(M.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(M.EMPTY_NODE,l.getNode(),null),f=new dn(a,o.isFullyInitialized(),s.filtersNodes()),d=new dn(c,l.isFullyInitialized(),i.filtersNodes());this.viewCache_=zo(d,f),this.eventGenerator_=new pC(this.query_)}get query(){return this.query_}}function WC(t){return t.viewCache_.serverCache.getNode()}function $C(t){return ho(t.viewCache_)}function GC(t,e){const n=On(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!b(e)&&!n.getImmediateChild(O(e)).isEmpty())?n.getChild(e):null}function wh(t){return t.eventRegistrations_.length===0}function YC(t,e){t.eventRegistrations_.push(e)}function Ch(t,e,n){const r=[];if(n){S(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Eh(t,e,n,r){e.type===ct.MERGE&&e.source.queryId!==null&&(S(On(t.viewCache_),"We should always have a full cache before handling merges"),S(ho(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=bC(t.processor_,s,e,n,r);return OC(t.processor_,i.viewCache),S(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,Ym(t,i.changes,i.viewCache.eventCache.getNode(),null)}function QC(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(te,(i,o)=>{r.push(vr(i,o))}),n.isFullyInitialized()&&r.push(bm(n.getNode())),Ym(t,r,n.getNode(),e)}function Ym(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return mC(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go;class Qm{constructor(){this.views=new Map}}function KC(t){S(!go,"__referenceConstructor has already been defined"),go=t}function qC(){return S(go,"Reference.ts has not been loaded"),go}function XC(t){return t.views.size===0}function cc(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return S(i!=null,"SyncTree gave us an op for an invalid query."),Eh(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(Eh(o,e,n,r));return i}}function Km(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let l=fo(n,s?r:null),a=!1;l?a=!0:r instanceof M?(l=lc(n,r),a=!1):(l=M.EMPTY_NODE,a=!1);const c=zo(new dn(l,a,!1),new dn(r,s,!1));return new HC(e,c)}return o}function ZC(t,e,n,r,s,i){const o=Km(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),YC(o,n),QC(o,n)}function JC(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const l=hn(t);if(s==="default")for(const[a,c]of t.views.entries())o=o.concat(Ch(c,n,r)),wh(c)&&(t.views.delete(a),c.query._queryParams.loadsAllData()||i.push(c.query));else{const a=t.views.get(s);a&&(o=o.concat(Ch(a,n,r)),wh(a)&&(t.views.delete(s),a.query._queryParams.loadsAllData()||i.push(a.query)))}return l&&!hn(t)&&i.push(new(qC())(e._repo,e._path)),{removed:i,events:o}}function qm(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function on(t,e){let n=null;for(const r of t.views.values())n=n||GC(r,e);return n}function Xm(t,e){if(e._queryParams.loadsAllData())return Uo(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Zm(t,e){return Xm(t,e)!=null}function hn(t){return Uo(t)!=null}function Uo(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o;function eE(t){S(!_o,"__referenceConstructor has already been defined"),_o=t}function tE(){return S(_o,"Reference.ts has not been loaded"),_o}let nE=1;class Sh{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Y(null),this.pendingWriteTree_=AC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Jm(t,e,n,r,s){return yC(t.pendingWriteTree_,e,n,r,s),s?Tr(t,new Ln(sc(),e,n)):[]}function rE(t,e,n,r){wC(t.pendingWriteTree_,e,n,r);const s=Y.fromObject(n);return Tr(t,new yr(sc(),e,s))}function Yt(t,e,n=!1){const r=CC(t.pendingWriteTree_,e);if(EC(t.pendingWriteTree_,e)){let i=new Y(null);return r.snap!=null?i=i.set(V(),!0):Se(r.children,o=>{i=i.set(new $(o),!0)}),Tr(t,new co(r.path,i,n))}else return[]}function $s(t,e,n){return Tr(t,new Ln(ic(),e,n))}function sE(t,e,n){const r=Y.fromObject(n);return Tr(t,new yr(ic(),e,r))}function iE(t,e){return Tr(t,new As(ic(),e))}function oE(t,e,n){const r=hc(t,n);if(r){const s=fc(r),i=s.path,o=s.queryId,l=Ae(i,e),a=new As(oc(o),l);return pc(t,i,a)}else return[]}function vo(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let l=[];if(o&&(e._queryIdentifier==="default"||Zm(o,e))){const a=JC(o,e,n,r);XC(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=a.removed;if(l=a.events,!s){const f=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(i,(h,_)=>hn(_));if(f&&!d){const h=t.syncPointTree_.subtree(i);if(!h.isEmpty()){const _=uE(h);for(let v=0;v<_.length;++v){const y=_[v],D=y.query,m=rg(t,y);t.listenProvider_.startListening(is(D),js(t,D),m.hashFn,m.onComplete)}}}!d&&c.length>0&&!r&&(f?t.listenProvider_.stopListening(is(e),null):c.forEach(h=>{const _=t.queryToTagMap.get(Vo(h));t.listenProvider_.stopListening(is(h),_)}))}cE(t,c)}return l}function eg(t,e,n,r){const s=hc(t,r);if(s!=null){const i=fc(s),o=i.path,l=i.queryId,a=Ae(o,e),c=new Ln(oc(l),a,n);return pc(t,o,c)}else return[]}function lE(t,e,n,r){const s=hc(t,r);if(s){const i=fc(s),o=i.path,l=i.queryId,a=Ae(o,e),c=Y.fromObject(n),f=new yr(oc(l),a,c);return pc(t,o,f)}else return[]}function Wa(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(h,_)=>{const v=Ae(h,s);i=i||on(_,v),o=o||hn(_)});let l=t.syncPointTree_.get(s);l?(o=o||hn(l),i=i||on(l,V())):(l=new Qm,t.syncPointTree_=t.syncPointTree_.set(s,l));let a;i!=null?a=!0:(a=!1,i=M.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((_,v)=>{const y=on(v,V());y&&(i=i.updateImmediateChild(_,y))}));const c=Zm(l,e);if(!c&&!e._queryParams.loadsAllData()){const h=Vo(e);S(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const _=dE();t.queryToTagMap.set(h,_),t.tagToQueryMap.set(_,h)}const f=Bo(t.pendingWriteTree_,s);let d=ZC(l,e,n,f,i,a);if(!c&&!o&&!r){const h=Xm(l,e);d=d.concat(hE(t,e,h))}return d}function dc(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=Ae(o,e),c=on(l,a);if(c)return c});return Vm(s,e,i,n,!0)}function aE(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,f)=>{const d=Ae(c,n);r=r||on(f,d)});let s=t.syncPointTree_.get(n);s?r=r||on(s,V()):(s=new Qm,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new dn(r,!0,!1):null,l=Bo(t.pendingWriteTree_,e._path),a=Km(s,e,l,i?o.getNode():M.EMPTY_NODE,i);return $C(a)}function Tr(t,e){return tg(e,t.syncPointTree_,null,Bo(t.pendingWriteTree_,V()))}function tg(t,e,n,r){if(b(t.path))return ng(t,e,n,r);{const s=e.get(V());n==null&&s!=null&&(n=on(s,V()));let i=[];const o=O(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const c=n?n.getImmediateChild(o):null,f=Hm(r,o);i=i.concat(tg(l,a,c,f))}return s&&(i=i.concat(cc(s,t,r,n))),i}}function ng(t,e,n,r){const s=e.get(V());n==null&&s!=null&&(n=on(s,V()));let i=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,c=Hm(r,o),f=t.operationForChild(o);f&&(i=i.concat(ng(f,l,a,c)))}),s&&(i=i.concat(cc(s,t,r,n))),i}function rg(t,e){const n=e.query,r=js(t,n);return{hashFn:()=>(WC(e)||M.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?oE(t,n._path,r):iE(t,n._path);{const i=sw(s,n);return vo(t,n,null,i)}}}}function js(t,e){const n=Vo(e);return t.queryToTagMap.get(n)}function Vo(t){return t._path.toString()+"$"+t._queryIdentifier}function hc(t,e){return t.tagToQueryMap.get(e)}function fc(t){const e=t.indexOf("$");return S(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new $(t.substr(0,e))}}function pc(t,e,n){const r=t.syncPointTree_.get(e);S(r,"Missing sync point for query tag that we're tracking");const s=Bo(t.pendingWriteTree_,e);return cc(r,n,s,null)}function uE(t){return t.fold((e,n,r)=>{if(n&&hn(n))return[Uo(n)];{let s=[];return n&&(s=qm(n)),Se(r,(i,o)=>{s=s.concat(o)}),s}})}function is(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(tE())(t._repo,t._path):t}function cE(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=Vo(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function dE(){return nE++}function hE(t,e,n){const r=e._path,s=js(t,e),i=rg(t,n),o=t.listenProvider_.startListening(is(e),s,i.hashFn,i.onComplete),l=t.syncPointTree_.subtree(r);if(s)S(!hn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((c,f,d)=>{if(!b(c)&&f&&hn(f))return[Uo(f).query];{let h=[];return f&&(h=h.concat(qm(f).map(_=>_.query))),Se(d,(_,v)=>{h=h.concat(v)}),h}});for(let c=0;c<a.length;++c){const f=a[c];t.listenProvider_.stopListening(is(f),js(t,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new mc(n)}node(){return this.node_}}class gc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ie(this.path_,e);return new gc(this.syncTree_,n)}node(){return dc(this.syncTree_,this.path_)}}const fE=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},xh=function(t,e,n){if(!t||typeof t!="object")return t;if(S(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return pE(t[".sv"],e,n);if(typeof t[".sv"]=="object")return mE(t[".sv"],e);S(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},pE=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:S(!1,"Unexpected server value: "+t)}},mE=function(t,e,n){t.hasOwnProperty("increment")||S(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&S(!1,"Unexpected increment value: "+r);const s=e.node();if(S(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},sg=function(t,e,n,r){return _c(e,new gc(n,t),r)},ig=function(t,e,n){return _c(t,new mc(e),n)};function _c(t,e,n){const r=t.getPriority().val(),s=xh(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,l=xh(o.getValue(),e,n);return l!==o.getValue()||s!==o.getPriority().val()?new pe(l,de(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new pe(s))),o.forEachChild(te,(l,a)=>{const c=_c(a,e.getImmediateChild(l),n);c!==a&&(i=i.updateImmediateChild(l,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function yc(t,e){let n=e instanceof $?e:new $(e),r=t,s=O(n);for(;s!==null;){const i=_r(r.node.children,s)||{children:{},childCount:0};r=new vc(s,r,i),n=K(n),s=O(n)}return r}function Ir(t){return t.node.value}function og(t,e){t.node.value=e,$a(t)}function lg(t){return t.node.childCount>0}function gE(t){return Ir(t)===void 0&&!lg(t)}function Ho(t,e){Se(t.node.children,(n,r)=>{e(new vc(n,t,r))})}function ag(t,e,n,r){n&&e(t),Ho(t,s=>{ag(s,e,!0)})}function _E(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Gs(t){return new $(t.parent===null?t.name:Gs(t.parent)+"/"+t.name)}function $a(t){t.parent!==null&&vE(t.parent,t.name,t)}function vE(t,e,n){const r=gE(n),s=St(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,$a(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,$a(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=/[\[\].#$\/\u0000-\u001F\u007F]/,wE=/[\[\].#$\u0000-\u001F\u007F]/,Al=10*1024*1024,wc=function(t){return typeof t=="string"&&t.length!==0&&!yE.test(t)},ug=function(t){return typeof t=="string"&&t.length!==0&&!wE.test(t)},CE=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ug(t)},Ga=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Gu(t)||t&&typeof t=="object"&&St(t,".sv")},Ys=function(t,e,n,r){r&&e===void 0||Wo(Oo(t,"value"),e,n)},Wo=function(t,e,n){const r=n instanceof $?new Fw(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Cn(r));if(typeof e=="function")throw new Error(t+"contains a function "+Cn(r)+" with contents = "+e.toString());if(Gu(e))throw new Error(t+"contains "+e.toString()+" "+Cn(r));if(typeof e=="string"&&e.length>Al/3&&bo(e)>Al)throw new Error(t+"contains a string greater than "+Al+" utf8 bytes "+Cn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Se(e,(o,l)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!wc(o)))throw new Error(t+" contains an invalid key ("+o+") "+Cn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);zw(r,o),Wo(t,l,r),Bw(r)}),s&&i)throw new Error(t+' contains ".value" child '+Cn(r)+" in addition to actual children.")}},EE=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=Ts(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!wc(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(bw);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&et(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},SE=function(t,e,n,r){const s=Oo(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];Se(e,(o,l)=>{const a=new $(o);if(Wo(s,l,ie(n,a)),Xu(a)===".priority"&&!Ga(l))throw new Error(s+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(a)}),EE(s,i)},Cc=function(t,e,n,r){if(!ug(n))throw new Error(Oo(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},xE=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Cc(t,e,n)},Ec=function(t,e){if(O(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},NE=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!wc(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!CE(n))throw new Error(Oo(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function $o(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!Zu(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function cg(t,e,n){$o(t,n),dg(t,r=>Zu(r,e))}function st(t,e,n){$o(t,n),dg(t,r=>et(r,e)||et(e,r))}function dg(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(TE(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function TE(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ts&&ye("event: "+n.toString()),kr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="repo_interrupt",RE=25;class PE{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new kE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=uo(),this.transactionQueueTree_=new vc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function AE(t,e,n){if(t.stats_=Ku(t.repoInfo_),t.forceRestClient_||aw())t.server_=new ao(t.repoInfo_,(r,s,i,o)=>{Nh(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>kh(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{he(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new At(t.repoInfo_,e,(r,s,i,o)=>{Nh(t,r,s,i,o)},r=>{kh(t,r)},r=>{jE(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=fw(t.repoInfo_,()=>new fC(t.stats_,t.server_)),t.infoData_=new aC,t.infoSyncTree_=new Sh({startListening:(r,s,i,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=$s(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Sc(t,"connected",!1),t.serverSyncTree_=new Sh({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(l,a)=>{const c=o(l,a);st(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function hg(t){const n=t.infoData_.getNode(new $(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Go(t){return fE({timestamp:hg(t)})}function Nh(t,e,n,r,s){t.dataUpdateCount++;const i=new $(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const a=no(n,c=>de(c));o=lE(t.serverSyncTree_,i,a,s)}else{const a=de(n);o=eg(t.serverSyncTree_,i,a,s)}else if(r){const a=no(n,c=>de(c));o=sE(t.serverSyncTree_,i,a)}else{const a=de(n);o=$s(t.serverSyncTree_,i,a)}let l=i;o.length>0&&(l=Cr(t,i)),st(t.eventQueue_,l,o)}function kh(t,e){Sc(t,"connected",e),e===!1&&OE(t)}function jE(t,e){Se(e,(n,r)=>{Sc(t,n,r)})}function Sc(t,e,n){const r=new $("/.info/"+e),s=de(n);t.infoData_.updateSnapshot(r,s);const i=$s(t.infoSyncTree_,r,s);st(t.eventQueue_,r,i)}function xc(t){return t.nextWriteId_++}function DE(t,e,n){const r=aE(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=de(s).withIndex(e._queryParams.getIndex());Wa(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=$s(t.serverSyncTree_,e._path,i);else{const l=js(t.serverSyncTree_,e);o=eg(t.serverSyncTree_,e._path,i,l)}return st(t.eventQueue_,e._path,o),vo(t.serverSyncTree_,e,n,null,!0),i},s=>(Qs(t,"get for query "+he(e)+" failed: "+s),Promise.reject(new Error(s))))}function ME(t,e,n,r,s){Qs(t,"set",{path:e.toString(),value:n,priority:r});const i=Go(t),o=de(n,r),l=dc(t.serverSyncTree_,e),a=ig(o,l,i),c=xc(t),f=Jm(t.serverSyncTree_,e,a,c,!0);$o(t.eventQueue_,f),t.server_.put(e.toString(),o.val(!0),(h,_)=>{const v=h==="ok";v||De("set at "+e+" failed: "+h);const y=Yt(t.serverSyncTree_,c,!v);st(t.eventQueue_,e,y),Ya(t,s,h,_)});const d=kc(t,e);Cr(t,d),st(t.eventQueue_,d,[])}function LE(t,e,n,r){Qs(t,"update",{path:e.toString(),value:n});let s=!0;const i=Go(t),o={};if(Se(n,(l,a)=>{s=!1,o[l]=sg(ie(e,l),de(a),t.serverSyncTree_,i)}),s)ye("update() called with empty data.  Don't do anything."),Ya(t,r,"ok",void 0);else{const l=xc(t),a=rE(t.serverSyncTree_,e,o,l);$o(t.eventQueue_,a),t.server_.merge(e.toString(),n,(c,f)=>{const d=c==="ok";d||De("update at "+e+" failed: "+c);const h=Yt(t.serverSyncTree_,l,!d),_=h.length>0?Cr(t,e):e;st(t.eventQueue_,_,h),Ya(t,r,c,f)}),Se(n,c=>{const f=kc(t,ie(e,c));Cr(t,f)}),st(t.eventQueue_,e,[])}}function OE(t){Qs(t,"onDisconnectEvents");const e=Go(t),n=uo();Fa(t.onDisconnect_,V(),(s,i)=>{const o=sg(s,i,t.serverSyncTree_,e);Fm(n,s,o)});let r=[];Fa(n,V(),(s,i)=>{r=r.concat($s(t.serverSyncTree_,s,i));const o=kc(t,s);Cr(t,o)}),t.onDisconnect_=uo(),st(t.eventQueue_,V(),r)}function bE(t,e,n){let r;O(e._path)===".info"?r=Wa(t.infoSyncTree_,e,n):r=Wa(t.serverSyncTree_,e,n),cg(t.eventQueue_,e._path,r)}function FE(t,e,n){let r;O(e._path)===".info"?r=vo(t.infoSyncTree_,e,n):r=vo(t.serverSyncTree_,e,n),cg(t.eventQueue_,e._path,r)}function zE(t){t.persistentConnection_&&t.persistentConnection_.interrupt(IE)}function Qs(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ye(n,...e)}function Ya(t,e,n,r){e&&kr(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function fg(t,e,n){return dc(t.serverSyncTree_,e,n)||M.EMPTY_NODE}function Nc(t,e=t.transactionQueueTree_){if(e||Yo(t,e),Ir(e)){const n=mg(t,e);S(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&BE(t,Gs(e),n)}else lg(e)&&Ho(e,n=>{Nc(t,n)})}function BE(t,e,n){const r=n.map(c=>c.currentWriteId),s=fg(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const f=n[c];S(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const d=Ae(e,f.path);i=i.updateChild(d,f.currentOutputSnapshotRaw)}const l=i.val(!0),a=e;t.server_.put(a.toString(),l,c=>{Qs(t,"transaction put response",{path:a.toString(),status:c});let f=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,f=f.concat(Yt(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Yo(t,yc(t.transactionQueueTree_,e)),Nc(t,t.transactionQueueTree_),st(t.eventQueue_,e,f);for(let h=0;h<d.length;h++)kr(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{De("transaction at "+a.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Cr(t,e)}},o)}function Cr(t,e){const n=pg(t,e),r=Gs(n),s=mg(t,n);return UE(t,s,r),r}function UE(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],c=Ae(n,a.path);let f=!1,d;if(S(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)f=!0,d=a.abortReason,s=s.concat(Yt(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=RE)f=!0,d="maxretry",s=s.concat(Yt(t.serverSyncTree_,a.currentWriteId,!0));else{const h=fg(t,a.path,o);a.currentInputSnapshot=h;const _=e[l].update(h.val());if(_!==void 0){Wo("transaction failed: Data returned ",_,a.path);let v=de(_);typeof _=="object"&&_!=null&&St(_,".priority")||(v=v.updatePriority(h.getPriority()));const D=a.currentWriteId,m=Go(t),p=ig(v,h,m);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=p,a.currentWriteId=xc(t),o.splice(o.indexOf(D),1),s=s.concat(Jm(t.serverSyncTree_,a.path,p,a.currentWriteId,a.applyLocally)),s=s.concat(Yt(t.serverSyncTree_,D,!0))}else f=!0,d="nodata",s=s.concat(Yt(t.serverSyncTree_,a.currentWriteId,!0))}st(t.eventQueue_,n,s),s=[],f&&(e[l].status=2,function(h){setTimeout(h,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(d==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(d),!1,null))))}Yo(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)kr(r[l]);Nc(t,t.transactionQueueTree_)}function pg(t,e){let n,r=t.transactionQueueTree_;for(n=O(e);n!==null&&Ir(r)===void 0;)r=yc(r,n),e=K(e),n=O(e);return r}function mg(t,e){const n=[];return gg(t,e,n),n.sort((r,s)=>r.order-s.order),n}function gg(t,e,n){const r=Ir(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Ho(e,s=>{gg(t,s,n)})}function Yo(t,e){const n=Ir(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,og(e,n.length>0?n:void 0)}Ho(e,r=>{Yo(t,r)})}function kc(t,e){const n=Gs(pg(t,e)),r=yc(t.transactionQueueTree_,e);return _E(r,s=>{jl(t,s)}),jl(t,r),ag(r,s=>{jl(t,s)}),n}function jl(t,e){const n=Ir(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(S(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(S(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Yt(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?og(e,void 0):n.length=i+1,st(t.eventQueue_,Gs(e),s);for(let o=0;o<r.length;o++)kr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function HE(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):De(`Invalid query segment '${n}' in query '${t}'`)}return e}const Th=function(t,e){const n=WE(t),r=n.namespace;n.domain==="firebase.com"&&bt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&bt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||J0();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new wm(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new $(n.pathString)}},WE=function(t){let e="",n="",r="",s="",i="",o=!0,l="https",a=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let f=t.indexOf("/");f===-1&&(f=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(f,d)),f<d&&(s=VE(t.substring(f,d)));const h=HE(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(c+1),10)):c=e.length;const _=e.slice(0,c);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),i=r}"ns"in h&&(i=h.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",$E=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=Ih.charAt(n%64),n=Math.floor(n/64);S(n===0,"Cannot push at time == 0");let o=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=Ih.charAt(e[s]);return S(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+he(this.snapshot.exportVal())}}class YE{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return S(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return b(this._path)?null:Xu(this._path)}get ref(){return new zt(this._repo,this._path)}get _queryIdentifier(){const e=fh(this._queryParams),n=Yu(e);return n==="{}"?"default":n}get _queryObject(){return fh(this._queryParams)}isEqual(e){if(e=gn(e),!(e instanceof Rr))return!1;const n=this._repo===e._repo,r=Zu(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+Ow(this._path)}}function QE(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Tc(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===In){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Mn)throw new Error(r);if(typeof e!="string")throw new Error(s)}if(t.hasEnd()){if(t.getIndexEndName()!==un)throw new Error(r);if(typeof n!="string")throw new Error(s)}}else if(t.getIndex()===te){if(e!=null&&!Ga(e)||n!=null&&!Ga(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(S(t.getIndex()instanceof tc||t.getIndex()===Om,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function vg(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class zt extends Rr{constructor(e,n){super(e,n,new rc,!1)}get parent(){const e=Rm(this._path);return e===null?null:new zt(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ds{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new $(e),r=Ms(this.ref,e);return new Ds(this._node.getChild(n),r,te)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Ds(s,Ms(this.ref,r),te)))}hasChild(e){const n=new $(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function dt(t,e){return t=gn(t),t._checkNotDeleted("ref"),e!==void 0?Ms(t._root,e):t._root}function Ms(t,e){return t=gn(t),O(t._path)===null?xE("child","path",e):Cc("child","path",e),new zt(t._repo,ie(t._path,e))}function Qa(t,e){t=gn(t),Ec("push",t._path),Ys("push",e,t._path,!0);const n=hg(t._repo),r=$E(n),s=Ms(t,r),i=Ms(t,r);let o;return e!=null?o=yg(i,e).then(()=>i):o=Promise.resolve(i),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function Rh(t){return Ec("remove",t._path),yg(t,null)}function yg(t,e){t=gn(t),Ec("set",t._path),Ys("set",e,t._path,!1);const n=new Bs;return ME(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function KE(t,e){SE("update",e,t._path);const n=new Bs;return LE(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function qE(t){t=gn(t);const e=new _g(()=>{}),n=new Qo(e);return DE(t._repo,t,n).then(r=>new Ds(r,new zt(t._repo,t._path),t._queryParams.getIndex()))}class Qo{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new GE("value",this,new Ds(e.snapshotNode,new zt(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new YE(this,e,n):null}matches(e){return e instanceof Qo?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function XE(t,e,n,r,s){const i=new _g(n,void 0),o=new Qo(i);return bE(t._repo,t,o),()=>FE(t._repo,t,o)}function yo(t,e,n,r){return XE(t,"value",e)}class Ko{}class ZE extends Ko{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Ys("endAt",this._value,e._path,!0);const n=oC(e._queryParams,this._value,this._key);if(vg(n),Tc(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Rr(e._repo,e._path,n,e._orderByCalled)}}class JE extends Ko{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Ys("startAt",this._value,e._path,!0);const n=iC(e._queryParams,this._value,this._key);if(vg(n),Tc(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Rr(e._repo,e._path,n,e._orderByCalled)}}class eS extends Ko{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){QE(e,"orderByChild");const n=new $(this._path);if(b(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new tc(n),s=lC(e._queryParams,r);return Tc(s),new Rr(e._repo,e._path,s,!0)}}function tS(t){return Cc("orderByChild","path",t),new eS(t)}class nS extends Ko{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Ys("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ZE(this._value,this._key)._apply(new JE(this._value,this._key)._apply(e))}}function rS(t,e){return new nS(t,e)}function sS(t,...e){let n=gn(t);for(const r of e)n=r._apply(n);return n}KC(zt);eE(zt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="FIREBASE_DATABASE_EMULATOR_HOST",Ka={};let oS=!1;function lS(t,e,n,r){t.repoInfo_=new wm(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function aS(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||bt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ye("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Th(i,s),l=o.repoInfo,a;typeof process<"u"&&Kd&&(a=Kd[iS]),a?(i=`http://${a}?ns=${l.namespace}`,o=Th(i,s),l=o.repoInfo):o.repoInfo.secure;const c=new cw(t.name,t.options,e);NE("Invalid Firebase Database URL",o),b(o.path)||bt("Database URL must point to the root of a Firebase Database (not including a child path).");const f=cS(l,t,c,new uw(t.name,n));return new dS(f,t)}function uS(t,e){const n=Ka[e];(!n||n[t.key]!==t)&&bt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),zE(t),delete n[t.key]}function cS(t,e,n,r){let s=Ka[e.name];s||(s={},Ka[e.name]=s);let i=s[t.toURLString()];return i&&bt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new PE(t,oS,n,r),s[t.toURLString()]=i,i}class dS{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(AE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new zt(this._repo,V())),this._rootInternal}_delete(){return this._rootInternal!==null&&(uS(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&bt("Cannot call "+e+" on a deleted database.")}}function hS(t=b0(),e){const n=D0(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Ey("database");r&&fS(n,...r)}return n}function fS(t,e,n,r={}){t=gn(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&bt("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&bt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Pi(Pi.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Sy(r.mockUserToken,t.app.options.projectId);i=new Pi(o)}lS(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(t){Y0(O0),so(new xs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return aS(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),ar(qd,Xd,t),ar(qd,Xd,"esm2017")}At.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};At.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};pS();class Ks{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const mS=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},we={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:mS()},Ic=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},gS=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=Ic(t);we.publicKey=n.publicKey,we.blockHeadless=n.blockHeadless,we.storageProvider=n.storageProvider,we.blockList=n.blockList,we.limitRate=n.limitRate,we.origin=n.origin||e},wg=async(t,e,n={})=>{const r=await fetch(we.origin+t,{method:"POST",headers:n,body:e}),s=await r.text(),i=new Ks(r.status,s);if(r.ok)return i;throw i},Cg=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},_S=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Eg=t=>t.webdriver||!t.languages||t.languages.length===0,Sg=()=>new Ks(451,"Unavailable For Headless Browser"),vS=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},yS=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},wS=(t,e)=>t instanceof FormData?t.get(e):t[e],xg=(t,e)=>{if(yS(t))return!1;vS(t.list,t.watchVariable);const n=wS(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},Ng=()=>new Ks(403,"Forbidden"),CS=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},ES=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},kg=async(t,e,n)=>{if(!e.throttle||!n)return!1;CS(e.throttle,e.id);const r=e.id||t;return await ES(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},Tg=()=>new Ks(429,"Too Many Requests"),SS=async(t,e,n,r)=>{const s=Ic(r),i=s.publicKey||we.publicKey,o=s.blockHeadless||we.blockHeadless,l=s.storageProvider||we.storageProvider,a={...we.blockList,...s.blockList},c={...we.limitRate,...s.limitRate};return o&&Eg(navigator)?Promise.reject(Sg()):(Cg(i,t,e),_S(n),n&&xg(a,n)?Promise.reject(Ng()):await kg(location.pathname,c,l)?Promise.reject(Tg()):wg("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},xS=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},NS=t=>typeof t=="string"?document.querySelector(t):t,kS=async(t,e,n,r)=>{const s=Ic(r),i=s.publicKey||we.publicKey,o=s.blockHeadless||we.blockHeadless,l=we.storageProvider||s.storageProvider,a={...we.blockList,...s.blockList},c={...we.limitRate,...s.limitRate};if(o&&Eg(navigator))return Promise.reject(Sg());const f=NS(n);Cg(i,t,e),xS(f);const d=new FormData(f);return xg(a,d)?Promise.reject(Ng()):await kg(location.pathname,c,l)?Promise.reject(Tg()):(d.append("lib_version","4.4.1"),d.append("service_id",t),d.append("template_id",e),d.append("user_id",i),wg("/api/v1.0/email/send-form",d))},TS={init:gS,send:SS,sendForm:kS,EmailJSResponseStatus:Ks};var IS="firebase",RS="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar(IS,RS,"app");const PS={apiKey:"AIzaSyA7bCJ740dlOwfB7jzZ9RPZ49JO8-XzMcc",authDomain:"hilde-5th-birthday.firebaseapp.com",databaseURL:"https://hilde-5th-birthday-default-rtdb.firebaseio.com",projectId:"hilde-5th-birthday",storageBucket:"hilde-5th-birthday.firebasestorage.app",messagingSenderId:"37156501458",appId:"1:37156501458:web:bbbf39de05a681fbec3a0b"},AS=rm(PS),ht=hS(AS),gi="hilde-bday-rsvp-email",jS="hilde-bday-rsvp-id",DS="service_fj9hsv4",MS="template_owqftfa",LS="Idi5oE7BUkpUXFNOU",OS="511 Warburton Ave, Yonkers, NY 10701",bS="https://maps.google.com/?q=Hudson+River+Museum+511+Warburton+Ave+Yonkers+NY+10701",FS="https://kotharishalin-max.github.io/Hilde-5th-birthday/",zS=()=>{const t=encodeURIComponent("Hilde's 5th Birthday - Space Mission!"),e=encodeURIComponent(`Join us for an out-of-this-world birthday celebration at the Hudson River Museum Planetarium!

9:30 AM - Doors open (early arrivals welcome)
10:00 AM - Creative activity begins
10:30 AM - Private Planetarium show
11:00 AM - Refreshments and cake
11:45 AM - Party concludes

See you among the stars!`),n=encodeURIComponent(OS);return`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${t}&dates=20260208T150000Z/20260208T170000Z&details=${e}&location=${n}`},BS=()=>`${FS}?download=ics`;function US({active:t}){const e=k.useRef(null);return k.useEffect(()=>{if(!t)return;const n=e.current,r=n.getContext("2d");n.width=window.innerWidth,n.height=window.innerHeight;const s=[],i=["#ff6b9d","#ffd700","#74b9ff","#ff8c42","#a29bfe","#00cec9"];for(let a=0;a<150;a++)s.push({x:Math.random()*n.width,y:-10-Math.random()*100,size:Math.random()*8+4,color:i[Math.floor(Math.random()*i.length)],speedY:Math.random()*3+2,speedX:Math.random()*4-2,rotation:Math.random()*360,rotationSpeed:Math.random()*10-5});let o;const l=()=>{r.clearRect(0,0,n.width,n.height);let a=0;s.forEach(c=>{c.y<n.height+50&&(a++,c.y+=c.speedY,c.x+=c.speedX,c.rotation+=c.rotationSpeed,c.speedY+=.1,r.save(),r.translate(c.x,c.y),r.rotate(c.rotation*Math.PI/180),r.fillStyle=c.color,r.fillRect(-c.size/2,-c.size/2,c.size,c.size*.6),r.restore())}),a>0&&(o=requestAnimationFrame(l))};return l(),()=>{o&&cancelAnimationFrame(o)}},[t]),t?u.jsx("canvas",{ref:e,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:1e3}}):null}function VS(){const[t,e]=k.useState("lookup"),[n,r]=k.useState(""),[s,i]=k.useState(""),[o,l]=k.useState(null),[a,c]=k.useState(1),[f,d]=k.useState(1),[h,_]=k.useState(null),[v,y]=k.useState(""),[D,m]=k.useState(!0),[p,g]=k.useState(!1),[w,x]=k.useState(!1),[T,I]=k.useState(""),[P,H]=k.useState(!1),[L,xe]=k.useState(!1);k.useEffect(()=>{(async()=>{localStorage.removeItem(jS);const A=localStorage.getItem(gi);if(A){r(A);const B=await _t(A);e(B?"submitted":"lookup")}m(!1)})()},[]);const _t=async E=>{if(!E.trim())return null;try{const A=dt(ht,"rsvps"),B=sS(A,tS("email"),rS(E.toLowerCase().trim())),G=await qE(B);if(G.exists()){const oe=G.val(),[ae,We]=Object.entries(oe)[0];return i(We.childName||We.name||""),l(We.attending),c(We.adultCount||We.guestCount||1),d(We.kidCount||1),_(ae),We}}catch(A){console.log("Email lookup error:",A.message)}return null},xt=async E=>{if(E.preventDefault(),y(""),!n.trim()){y("Please enter your email");return}g(!0);const A=await _t(n);g(!1),A?(localStorage.setItem(gi,n.toLowerCase().trim()),e("submitted")):e("form")},j=async(E,A,B,G,oe)=>{const ae={to_email:E,child_name:A,status_bg_color:B?"rgba(0, 184, 148, 0.2)":"rgba(255, 255, 255, 0.1)",status_text_color:B?"#00b894":"#b8c5d6",status_text:B?" You're Coming!":" Can't Make It",guest_info:B?`${G} adult${G!==1?"s":""}, ${oe} kid${oe!==1?"s":""}`:"",google_calendar_url:zS(),ics_url:BS(),maps_url:bS};try{await TS.send(DS,MS,ae,LS),console.log("Confirmation email sent successfully")}catch(We){console.error("Failed to send confirmation email:",We)}},Re=async E=>{if(E.preventDefault(),y(""),!n.trim()){y("Please enter your email");return}if(!s.trim()){y("Please enter your child's name");return}if(o===null){y("Please let us know if you can make it");return}const A={email:n.toLowerCase().trim(),childName:s.trim(),name:s.trim(),attending:o,adultCount:o?a:0,kidCount:o?f:0,timestamp:Date.now()};try{if(h)await KE(dt(ht,`rsvps/${h}`),A);else{const B=await Qa(dt(ht,"rsvps"),A);_(B.key)}localStorage.setItem(gi,n.toLowerCase().trim()),j(n.toLowerCase().trim(),s.trim(),o,o?a:0,o?f:0),x(!0),setTimeout(()=>x(!1),4e3),e("submitted")}catch(B){y("Oops! Something went wrong. Please try again."),console.error(B)}},Ve=async()=>{if(T.trim()){xe(!0);try{await Qa(dt(ht,"messages"),{name:s.trim()+"'s family",message:T.trim(),timestamp:Date.now()}),H(!0),I("")}catch(E){console.error(E)}xe(!1)}},He=()=>{e("form")},N=()=>{localStorage.removeItem(gi),r(""),i(""),l(null),c(1),d(1),_(null),H(!1),I(""),e("lookup")};return D?u.jsxs("section",{className:"rsvp",id:"rsvp-section",children:[u.jsx("h2",{children:"Mission Log"}),u.jsx("p",{className:"rsvp-subtitle",children:"Loading..."})]}):t==="lookup"?u.jsxs("section",{className:"rsvp",id:"rsvp-section",children:[u.jsx("h2",{children:"Mission Log"}),u.jsx("p",{className:"rsvp-subtitle",children:"Enter your email to RSVP or update your response"}),u.jsxs("form",{onSubmit:xt,className:"lookup-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"lookup-email",children:"Your Email"}),u.jsx("input",{type:"email",id:"lookup-email",value:n,onChange:E=>r(E.target.value),placeholder:"astronaut@email.com"})]}),v&&u.jsx("p",{className:"error",children:v}),u.jsx("button",{type:"submit",className:"submit-btn",disabled:p,children:p?"Checking...":"Continue"})]})]}):t==="submitted"?u.jsxs("section",{className:"rsvp",id:"rsvp-section",children:[u.jsx(US,{active:w}),u.jsx("h2",{children:"Mission Log"}),u.jsxs("div",{className:"success-message",children:[u.jsx("span",{className:"success-icon",children:""}),u.jsxs("p",{className:"success-name",children:["Thanks, ",s,"'s family!"]}),u.jsx("p",{className:"success-status",children:o?"We're excited to see you at the launch!":"We'll miss you! Thanks for letting us know."}),o&&u.jsxs("p",{className:"guest-summary",children:[a," ",a===1?"adult":"adults",f>0&&`, ${f} ${f===1?"kid":"kids"}`]}),P?u.jsx("p",{className:"message-sent-confirmation",children:"Message sent! Thank you!"}):u.jsxs("div",{className:"optional-message",children:[u.jsx("p",{className:"optional-message-prompt",children:"Want to send a message to Hilde?"}),u.jsx("textarea",{value:T,onChange:E=>I(E.target.value),placeholder:"Write a birthday wish or note...",rows:3,className:"optional-message-input"}),T.trim()&&u.jsx("button",{onClick:Ve,className:"send-message-btn",disabled:L,children:L?"Sending...":"Send Message"})]}),u.jsxs("div",{className:"rsvp-actions",children:[u.jsx("button",{onClick:He,className:"edit-btn",children:"Edit RSVP"}),u.jsx("button",{onClick:N,className:"reset-link",children:"Not you? Start fresh"})]})]})]}):u.jsxs("section",{className:"rsvp",id:"rsvp-section",children:[u.jsx("h2",{children:"Mission Log"}),u.jsx("p",{className:"rsvp-subtitle",children:h?"Update your RSVP":"Will you be joining our space adventure?"}),u.jsxs("form",{onSubmit:Re,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Your Email"}),u.jsx("input",{type:"email",id:"email",value:n,onChange:E=>r(E.target.value),placeholder:"astronaut@email.com"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"childName",children:"Child's Name"}),u.jsx("input",{type:"text",id:"childName",value:s,onChange:E=>i(E.target.value),placeholder:"Little astronaut's name..."})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Can you make it?"}),u.jsxs("div",{className:"toggle-buttons",children:[u.jsx("button",{type:"button",className:`toggle-btn ${o===!0?"active yes":""}`,onClick:()=>l(!0),children:"Yes, count us in!"}),u.jsx("button",{type:"button",className:`toggle-btn ${o===!1?"active no":""}`,onClick:()=>l(!1),children:"Can't make it"})]})]}),o&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Adults"}),u.jsx("div",{className:"count-selector",children:[1,2,3,4,5,6].map(E=>u.jsx("button",{type:"button",className:`count-btn ${a===E?"active":""}`,onClick:()=>c(E),children:E},E))})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Kids"}),u.jsx("div",{className:"count-selector",children:[1,2,3,4,5,6].map(E=>u.jsx("button",{type:"button",className:`count-btn ${f===E?"active":""}`,onClick:()=>d(E),children:E},E))})]})]}),v&&u.jsx("p",{className:"error",children:v}),u.jsx("button",{type:"submit",className:"submit-btn",children:h?"Update RSVP":"Submit RSVP"}),!h&&u.jsx("button",{type:"button",onClick:N,className:"reset-link",children:" Use a different email"})]})]})}function HS(){const[t,e]=k.useState([]),[n,r]=k.useState(""),[s,i]=k.useState(""),[o,l]=k.useState(!1),[a,c]=k.useState(!1),[f,d]=k.useState(!1),[h,_]=k.useState(!1);k.useEffect(()=>{const p=dt(ht,"messages"),g=yo(p,w=>{const x=w.val();if(x){const T=Object.entries(x).map(([I,P])=>({id:I,...P})).sort((I,P)=>P.timestamp-I.timestamp);e(T)}else e([])});return()=>g()},[]);const v=async p=>{if(p.preventDefault(),!(!n.trim()||!s.trim())){l(!0);try{await Qa(dt(ht,"messages"),{name:n.trim(),message:s.trim(),timestamp:Date.now()}),r(""),i(""),_(!0),setTimeout(()=>{c(!1),_(!1)},1500)}catch(g){console.error(g)}l(!1)}},y=p=>new Date(p).toLocaleDateString("en-US",{month:"short",day:"numeric"}),D=f?t:t.slice(0,3),m=a&&u.jsx("div",{className:"message-modal-overlay",onClick:()=>c(!1),children:u.jsxs("div",{className:"message-modal",onClick:p=>p.stopPropagation(),children:[u.jsx("button",{className:"modal-close",onClick:()=>c(!1),children:""}),h?u.jsxs("div",{className:"message-sent-success",children:[u.jsx("span",{className:"success-rocket",children:""}),u.jsx("p",{children:"Message sent to space!"})]}):u.jsxs(u.Fragment,{children:[u.jsx("h3",{children:"Send a Transmission"}),u.jsx("p",{className:"modal-subtitle",children:"Leave a birthday wish for Hilde!"}),u.jsxs("form",{onSubmit:v,className:"modal-form",children:[u.jsx("input",{type:"text",value:n,onChange:p=>r(p.target.value),placeholder:"Your name",required:!0}),u.jsx("textarea",{value:s,onChange:p=>i(p.target.value),placeholder:"Your message...",rows:4,required:!0}),u.jsx("button",{type:"submit",disabled:o,className:"modal-submit",children:o?"Transmitting...":"Send Message"})]})]})]})});return u.jsxs(u.Fragment,{children:[Wp.createPortal(m,document.body),u.jsxs("section",{className:"guestbook",children:[u.jsxs("div",{className:"guestbook-header",children:[u.jsxs("div",{children:[u.jsx("h2",{children:"Transmissions from Space"}),u.jsx("p",{className:"guestbook-subtitle",children:t.length===0?"No messages yet - be the first!":`${t.length} message${t.length!==1?"s":""} received`})]}),u.jsx("button",{className:"send-message-btn-inline",onClick:()=>c(!0),children:"+ Send Message"})]}),t.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"messages-grid",children:D.map((p,g)=>u.jsxs("div",{className:"message-card",style:{animationDelay:`${g*100}ms`},children:[u.jsx("div",{className:"message-avatar",children:p.name.charAt(0).toUpperCase()}),u.jsxs("div",{className:"message-content",children:[u.jsxs("div",{className:"message-header",children:[u.jsx("span",{className:"message-author",children:p.name}),u.jsx("span",{className:"message-date",children:y(p.timestamp)})]}),u.jsx("p",{className:"message-text",children:p.message})]})]},p.id))}),t.length>3&&u.jsx("button",{className:"view-all-btn",onClick:()=>d(!f),children:f?"Show Less":`View All ${t.length} Messages`})]}),t.length===0&&u.jsxs("div",{className:"no-messages-cta",children:[u.jsx("div",{className:"empty-state-icon",children:""}),u.jsx("p",{children:"Awaiting transmissions..."}),u.jsx("button",{className:"send-first-btn",onClick:()=>c(!0),children:"Be the First to Send a Message"})]})]})]})}function WS({name:t,index:e}){const n=[{suit:"#ff6b9d",visor:"#74b9ff"},{suit:"#ffd700",visor:"#a29bfe"},{suit:"#74b9ff",visor:"#ff8c42"},{suit:"#00cec9",visor:"#ff6b9d"},{suit:"#a29bfe",visor:"#ffd700"},{suit:"#ff8c42",visor:"#00cec9"}],r=n[e%n.length];return u.jsxs("svg",{viewBox:"0 0 60 80",className:"astronaut-avatar",children:[u.jsx("circle",{cx:"30",cy:"25",r:"20",fill:"white"}),u.jsx("ellipse",{cx:"30",cy:"27",rx:"14",ry:"12",fill:r.visor,opacity:"0.8"}),u.jsx("ellipse",{cx:"26",cy:"24",rx:"4",ry:"3",fill:"rgba(255,255,255,0.4)"}),u.jsx("ellipse",{cx:"30",cy:"55",rx:"18",ry:"22",fill:r.suit}),u.jsx("ellipse",{cx:"30",cy:"40",rx:"18",ry:"4",fill:"#dfe6e9"}),u.jsx("ellipse",{cx:"10",cy:"52",rx:"7",ry:"10",fill:r.suit}),u.jsx("ellipse",{cx:"50",cy:"52",rx:"7",ry:"10",fill:r.suit})]})}function _i({delay:t=0}){return u.jsxs("svg",{viewBox:"0 0 30 40",className:"mini-astronaut",style:{animationDelay:`${t}ms`},children:[u.jsx("circle",{cx:"15",cy:"12",r:"10",fill:"white"}),u.jsx("ellipse",{cx:"15",cy:"14",rx:"7",ry:"6",fill:"#74b9ff",opacity:"0.8"}),u.jsx("ellipse",{cx:"30",cy:"27",rx:"9",ry:"11",fill:"white"})]})}function $S(){const[t,e]=k.useState([]),[n,r]=k.useState({adults:0,kids:0});k.useEffect(()=>{const i=dt(ht,"rsvps"),o=yo(i,l=>{const a=l.val();if(a){const c=Object.entries(a).map(([h,_])=>({id:h,..._})).filter(h=>h.attending).sort((h,_)=>(h.childName||h.name||"").localeCompare(_.childName||_.name||""));e(c);const f=c.reduce((h,_)=>h+(_.adultCount||_.guestCount||1),0),d=c.reduce((h,_)=>h+(_.kidCount||0),0);r({adults:f,kids:d})}});return()=>o()},[]);const s=n.adults+n.kids;return t.length===0?u.jsxs("section",{className:"guest-list",children:[u.jsx("h2",{children:"Mission Crew"}),u.jsxs("div",{className:"crew-status empty",children:[u.jsxs("div",{className:"astronaut-row",children:[u.jsx(_i,{delay:0}),u.jsx(_i,{delay:100}),u.jsx(_i,{delay:200})]}),u.jsx("p",{className:"crew-message",children:"Awaiting crew members..."}),u.jsx("p",{className:"crew-cta",children:"Be the first to join the mission!"})]})]}):u.jsxs("section",{className:"guest-list",children:[u.jsx("h2",{children:"Mission Crew"}),u.jsxs("div",{className:"crew-status",children:[u.jsxs("div",{className:"astronaut-row",children:[[...Array(Math.min(s,12))].map((i,o)=>u.jsx(_i,{delay:o*50},o)),s>12&&u.jsxs("span",{className:"more-astronauts",children:["+",s-12]})]}),u.jsxs("p",{className:"crew-count",children:[u.jsx("span",{className:"crew-number",children:s}),u.jsxs("span",{className:"crew-text",children:[s===1?"astronaut":"astronauts"," ready for launch!"]})]}),u.jsxs("p",{className:"crew-breakdown",children:[n.adults," ",n.adults===1?"adult":"adults","  ",n.kids," ",n.kids===1?"kid":"kids"]})]}),u.jsx("div",{className:"guest-cards",children:t.map((i,o)=>u.jsxs("div",{className:"guest-card",style:{animationDelay:`${o*100}ms`},children:[u.jsx(WS,{name:i.childName||i.name,index:o}),u.jsxs("div",{className:"guest-info",children:[u.jsx("span",{className:"guest-name",children:i.childName||i.name}),u.jsxs("span",{className:"guest-count",children:[i.adultCount||i.guestCount||1," adult",(i.adultCount||1)!==1?"s":"",(i.kidCount||0)>0&&`, ${i.kidCount} kid${i.kidCount!==1?"s":""}`]})]})]},i.id))})]})}const GS="SPACE2026",Ph="hilde-bday-access";function YS({children:t}){const[e,n]=k.useState(!1),[r,s]=k.useState(""),[i,o]=k.useState(""),[l,a]=k.useState(!0);k.useEffect(()=>{localStorage.getItem(Ph)==="granted"&&n(!0),a(!1)},[]);const c=d=>{d.preventDefault(),o(""),r.toUpperCase()===GS?(localStorage.setItem(Ph,"granted"),n(!0)):o("Invalid code. Please check your invitation.")};if(l)return u.jsxs("div",{className:"access-gate",children:[u.jsx("div",{className:"stars"}),u.jsx("div",{className:"stars2"}),u.jsx("div",{className:"access-box",children:u.jsx("p",{children:"Loading..."})})]});if(e)return t;const f=()=>{window.location.href="?admin=true"};return u.jsxs("div",{className:"access-gate",children:[u.jsx("div",{className:"stars"}),u.jsx("div",{className:"stars2"}),u.jsx("div",{className:"stars3"}),u.jsxs("div",{className:"access-box",children:[u.jsx("div",{className:"lock-icon",children:""}),u.jsx("h1",{children:"Mission Access Required"}),u.jsx("p",{children:"Enter the code from your invitation to continue"}),u.jsxs("form",{onSubmit:c,children:[u.jsx("input",{type:"text",value:r,onChange:d=>s(d.target.value),placeholder:"Enter access code...",autoFocus:!0}),i&&u.jsx("p",{className:"error",children:i}),u.jsx("button",{type:"submit",children:"Launch "})]}),u.jsx("button",{className:"gate-admin-link",onClick:f,children:"Mission Control"})]})]})}const QS="HILDE-ADMIN-2026",Dl="hilde-bday-admin";function KS({attending:t,notAttending:e}){const n=t+e;if(n===0)return null;const r=t/n*100,s=t/n*360,i=40,o=50,l=50,a=(f,d,h)=>{const _=c(o,l,h,d),v=c(o,l,h,f),y=d-f<=180?"0":"1";return`M ${o} ${l} L ${_.x} ${_.y} A ${h} ${h} 0 ${y} 0 ${v.x} ${v.y} Z`},c=(f,d,h,_)=>{const v=(_-90)*Math.PI/180;return{x:f+h*Math.cos(v),y:d+h*Math.sin(v)}};return u.jsxs("div",{className:"chart-container pie-chart-container",children:[u.jsx("h3",{children:"Response Breakdown"}),u.jsxs("svg",{viewBox:"0 0 100 100",className:"pie-chart",children:[t>0&&u.jsx("path",{d:s>=360?`M ${o} ${l-i} A ${i} ${i} 0 1 1 ${o-.01} ${l-i} Z`:a(0,s,i),fill:"#4caf50"}),e>0&&u.jsx("path",{d:s<=0?`M ${o} ${l-i} A ${i} ${i} 0 1 1 ${o-.01} ${l-i} Z`:a(s,360,i),fill:"#f44336"})]}),u.jsxs("div",{className:"chart-legend",children:[u.jsxs("div",{className:"legend-item",children:[u.jsx("span",{className:"legend-color",style:{background:"#4caf50"}}),u.jsxs("span",{children:["Attending (",t,") - ",r.toFixed(0),"%"]})]}),u.jsxs("div",{className:"legend-item",children:[u.jsx("span",{className:"legend-color",style:{background:"#f44336"}}),u.jsxs("span",{children:["Can't Make It (",e,") - ",(100-r).toFixed(0),"%"]})]})]})]})}function qS({adults:t,kids:e}){const n=Math.max(t,e,1),r=t/n*100,s=e/n*100;return u.jsxs("div",{className:"chart-container bar-chart-container",children:[u.jsx("h3",{children:"Guest Breakdown"}),u.jsxs("div",{className:"bar-chart",children:[u.jsxs("div",{className:"bar-row",children:[u.jsx("span",{className:"bar-label",children:"Adults"}),u.jsx("div",{className:"bar-track",children:u.jsx("div",{className:"bar-fill adults",style:{width:`${r}%`},children:u.jsx("span",{className:"bar-value",children:t})})})]}),u.jsxs("div",{className:"bar-row",children:[u.jsx("span",{className:"bar-label",children:"Kids"}),u.jsx("div",{className:"bar-track",children:u.jsx("div",{className:"bar-fill kids",style:{width:`${s}%`},children:u.jsx("span",{className:"bar-value",children:e})})})]})]})]})}function XS({onBack:t}){const[e,n]=k.useState(!1),[r,s]=k.useState(""),[i,o]=k.useState(""),[l,a]=k.useState([]),[c,f]=k.useState([]),[d,h]=k.useState({attending:0,notAttending:0,adults:0,kids:0}),[_,v]=k.useState(""),[y,D]=k.useState("all"),[m,p]=k.useState(null),[g,w]=k.useState(null),[x,T]=k.useState("rsvps");k.useEffect(()=>{localStorage.getItem(Dl)==="granted"&&n(!0)},[]),k.useEffect(()=>{if(!e)return;const j=dt(ht,"rsvps"),Re=yo(j,Ve=>{const He=Ve.val();if(He){const N=Object.entries(He).map(([oe,ae])=>({id:oe,...ae})).sort((oe,ae)=>ae.timestamp-oe.timestamp);a(N);const E=N.filter(oe=>oe.attending),A=N.filter(oe=>!oe.attending),B=E.reduce((oe,ae)=>oe+(ae.adultCount||ae.guestCount||1),0),G=E.reduce((oe,ae)=>oe+(ae.kidCount||0),0);h({attending:E.length,notAttending:A.length,adults:B,kids:G})}else a([]),h({attending:0,notAttending:0,adults:0,kids:0})});return()=>Re()},[e]),k.useEffect(()=>{if(!e)return;const j=dt(ht,"messages"),Re=yo(j,Ve=>{const He=Ve.val();if(He){const N=Object.entries(He).map(([E,A])=>({id:E,...A})).sort((E,A)=>A.timestamp-E.timestamp);f(N)}else f([])});return()=>Re()},[e]);const I=j=>{j.preventDefault(),r.toUpperCase()===QS?(localStorage.setItem(Dl,"granted"),n(!0)):o("Invalid admin code")},P=()=>{localStorage.removeItem(Dl),n(!1)},H=j=>new Date(j).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}),L=l.filter(j=>{const Re=_===""||(j.childName||j.name||"").toLowerCase().includes(_.toLowerCase())||(j.email||"").toLowerCase().includes(_.toLowerCase()),Ve=y==="all"||y==="attending"&&j.attending||y==="not-attending"&&!j.attending;return Re&&Ve}),xe=()=>{const j=["Name","Email","Attending","Adults","Kids","Date"],Re=l.map(E=>[E.childName||E.name||"",E.email||"",E.attending?"Yes":"No",E.attending?E.adultCount||E.guestCount||1:0,E.attending&&E.kidCount||0,new Date(E.timestamp).toLocaleDateString()]),Ve=[j.join(","),...Re.map(E=>E.map(A=>`"${A}"`).join(","))].join(`
`),He=new Blob([Ve],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a");N.href=URL.createObjectURL(He),N.download=`hilde-birthday-rsvps-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(N),N.click(),document.body.removeChild(N)},_t=async j=>{try{await Rh(dt(ht,`rsvps/${j}`)),p(null)}catch(Re){console.error("Delete error:",Re)}},xt=async j=>{try{await Rh(dt(ht,`messages/${j}`)),w(null)}catch(Re){console.error("Delete message error:",Re)}};return e?u.jsxs("div",{className:"admin-page",children:[u.jsxs("div",{className:"admin-header",children:[u.jsx("h1",{children:"Mission Control"}),u.jsxs("div",{className:"admin-header-actions",children:[u.jsx("button",{className:"back-link",onClick:t,children:" Back to site"}),u.jsx("button",{className:"logout-btn",onClick:P,children:"Logout"})]})]}),u.jsxs("div",{className:"admin-stats",children:[u.jsxs("div",{className:"stat-card",children:[u.jsx("span",{className:"stat-number",children:d.attending}),u.jsx("span",{className:"stat-label",children:"Attending"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("span",{className:"stat-number",children:d.notAttending}),u.jsx("span",{className:"stat-label",children:"Can't Make It"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("span",{className:"stat-number",children:d.adults}),u.jsx("span",{className:"stat-label",children:"Adults"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("span",{className:"stat-number",children:d.kids}),u.jsx("span",{className:"stat-label",children:"Kids"})]}),u.jsxs("div",{className:"stat-card highlight",children:[u.jsx("span",{className:"stat-number",children:d.adults+d.kids}),u.jsx("span",{className:"stat-label",children:"Total Guests"})]})]}),u.jsxs("div",{className:"admin-charts",children:[u.jsx(KS,{attending:d.attending,notAttending:d.notAttending}),u.jsx(qS,{adults:d.adults,kids:d.kids})]}),u.jsxs("div",{className:"admin-tabs",children:[u.jsxs("button",{className:`admin-tab ${x==="rsvps"?"active":""}`,onClick:()=>T("rsvps"),children:["RSVPs (",l.length,")"]}),u.jsxs("button",{className:`admin-tab ${x==="messages"?"active":""}`,onClick:()=>T("messages"),children:["Messages (",c.length,")"]})]}),x==="rsvps"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"admin-controls",children:[u.jsxs("div",{className:"search-box",children:[u.jsx("input",{type:"text",value:_,onChange:j=>v(j.target.value),placeholder:"Search by name or email...",className:"search-input"}),_&&u.jsx("button",{className:"clear-search",onClick:()=>v(""),children:""})]}),u.jsxs("div",{className:"filter-buttons",children:[u.jsxs("button",{className:`filter-btn ${y==="all"?"active":""}`,onClick:()=>D("all"),children:["All (",l.length,")"]}),u.jsxs("button",{className:`filter-btn ${y==="attending"?"active":""}`,onClick:()=>D("attending"),children:["Attending (",d.attending,")"]}),u.jsxs("button",{className:`filter-btn ${y==="not-attending"?"active":""}`,onClick:()=>D("not-attending"),children:["Can't Make It (",d.notAttending,")"]})]}),u.jsxs("button",{className:"export-btn",onClick:xe,children:[u.jsx("svg",{viewBox:"0 0 24 24",className:"export-icon",children:u.jsx("path",{fill:"currentColor",d:"M14,2H6A2,2,0,0,0,4,4V20a2,2,0,0,0,2,2H18a2,2,0,0,0,2-2V8ZM12,18l-4-4h2.5V11h3v3H16Zm1-9V3.5L18.5,9Z"})}),"Export CSV"]})]}),u.jsxs("div",{className:"admin-table-container",children:[u.jsxs("h2",{children:["All RSVPs ",L.length!==l.length&&`(${L.length} of ${l.length})`]}),L.length===0?u.jsx("p",{className:"no-results",children:"No RSVPs match your search/filter."}):u.jsxs("table",{className:"admin-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Name"}),u.jsx("th",{children:"Email"}),u.jsx("th",{children:"Response"}),u.jsx("th",{children:"Adults"}),u.jsx("th",{children:"Kids"}),u.jsx("th",{children:"Date"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:L.map(j=>u.jsxs("tr",{className:j.attending?"attending":"not-attending",children:[u.jsx("td",{children:j.childName||j.name}),u.jsx("td",{children:j.email||"-"}),u.jsx("td",{children:j.attending?" Yes":" No"}),u.jsx("td",{children:j.attending?j.adultCount||j.guestCount||1:"-"}),u.jsx("td",{children:j.attending?j.kidCount||0:"-"}),u.jsx("td",{children:H(j.timestamp)}),u.jsx("td",{children:m===j.id?u.jsxs("div",{className:"delete-confirm",children:[u.jsx("span",{children:"Delete?"}),u.jsx("button",{className:"confirm-yes",onClick:()=>_t(j.id),children:"Yes"}),u.jsx("button",{className:"confirm-no",onClick:()=>p(null),children:"No"})]}):u.jsx("button",{className:"delete-btn",onClick:()=>p(j.id),title:"Delete RSVP",children:""})})]},j.id))})]})]})]}),x==="messages"&&u.jsxs("div",{className:"admin-messages-section",children:[u.jsxs("h2",{children:["All Messages (",c.length,")"]}),c.length===0?u.jsx("p",{className:"no-results",children:"No messages yet."}):u.jsx("div",{className:"admin-messages-list",children:c.map(j=>u.jsxs("div",{className:"admin-message-card",children:[u.jsx("div",{className:"admin-message-avatar",children:j.name.charAt(0).toUpperCase()}),u.jsxs("div",{className:"admin-message-content",children:[u.jsxs("div",{className:"admin-message-header",children:[u.jsx("span",{className:"admin-message-author",children:j.name}),u.jsx("span",{className:"admin-message-date",children:H(j.timestamp)})]}),u.jsx("p",{className:"admin-message-text",children:j.message})]}),u.jsx("div",{className:"admin-message-actions",children:g===j.id?u.jsxs("div",{className:"delete-confirm",children:[u.jsx("span",{children:"Delete?"}),u.jsx("button",{className:"confirm-yes",onClick:()=>xt(j.id),children:"Yes"}),u.jsx("button",{className:"confirm-no",onClick:()=>w(null),children:"No"})]}):u.jsx("button",{className:"delete-btn",onClick:()=>w(j.id),title:"Delete message",children:""})})]},j.id))})]})]}):u.jsx("div",{className:"admin-page",children:u.jsxs("div",{className:"admin-login",children:[u.jsx("h1",{children:"Mission Control"}),u.jsx("p",{children:"Enter admin code to access"}),u.jsxs("form",{onSubmit:I,children:[u.jsx("input",{type:"password",value:r,onChange:j=>s(j.target.value),placeholder:"Admin code...",autoFocus:!0}),i&&u.jsx("p",{className:"error",children:i}),u.jsx("button",{type:"submit",children:"Access"})]}),u.jsx("button",{className:"back-link",onClick:t,children:" Back to site"})]})})}function ZS({x:t,y:e,onComplete:n}){return k.useEffect(()=>{const r=setTimeout(n,1500);return()=>clearTimeout(r)},[n]),u.jsx("div",{className:"mini-rocket",style:{left:t,top:e},children:u.jsxs("svg",{viewBox:"0 0 30 50",width:"30",height:"50",children:[u.jsxs("g",{className:"mini-rocket-flame",children:[u.jsx("ellipse",{cx:"15",cy:"45",rx:"4",ry:"8",fill:"#ff6b35",opacity:"0.9"}),u.jsx("ellipse",{cx:"15",cy:"43",rx:"3",ry:"5",fill:"#ffd700"})]}),u.jsx("path",{d:"M15 5 L22 18 L22 35 L19 38 L11 38 L8 35 L8 18 Z",fill:"#fff"}),u.jsx("path",{d:"M15 5 L19 14 L11 14 Z",fill:"#ff6b9d"}),u.jsx("circle",{cx:"15",cy:"22",r:"4",fill:"#74b9ff"}),u.jsx("path",{d:"M8 30 L3 40 L8 36 Z",fill:"#ff8c42"}),u.jsx("path",{d:"M22 30 L27 40 L22 36 Z",fill:"#ff8c42"})]})})}function JS(){const[t,e]=k.useState(!1),[n,r]=k.useState([]);k.useEffect(()=>{const c=new URLSearchParams(window.location.search);c.get("admin")==="true"&&e(!0),c.get("download")==="ics"&&(s(),window.history.replaceState({},"",window.location.pathname))},[]);const s=()=>{const c=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Hilde Birthday//EN
BEGIN:VEVENT
DTSTART:20260208T150000Z
DTEND:20260208T170000Z
SUMMARY:Hilde's 5th Birthday - Space Mission!
DESCRIPTION:Join us for an out-of-this-world birthday celebration at the Hudson River Museum Planetarium!\\n\\n9:30 AM - Doors open (early arrivals welcome)\\n10:00 AM - Creative activity begins\\n10:30 AM - Private Planetarium show\\n11:00 AM - Refreshments and cake\\n11:45 AM - Party concludes\\n\\nSee you among the stars!
LOCATION:Hudson River Museum, 511 Warburton Ave, Yonkers, NY 10701
END:VEVENT
END:VCALENDAR`,f=new Blob([c],{type:"text/calendar;charset=utf-8"}),d=document.createElement("a");d.href=URL.createObjectURL(f),d.download="hilde-birthday.ics",document.body.appendChild(d),d.click(),document.body.removeChild(d)},i=k.useCallback(c=>{if(c.target.closest("button, a, input, textarea, select, form, .modal, .fab-message"))return;const d={id:Date.now()+Math.random(),x:c.clientX-15,y:c.clientY-25};r(h=>[...h,d])},[]),o=k.useCallback(c=>{r(f=>f.filter(d=>d.id!==c))},[]),l=()=>{e(!0),window.history.pushState({},"","?admin=true")},a=()=>{e(!1),window.history.pushState({},"",window.location.pathname)};return t?u.jsx(XS,{onBack:a}):u.jsx(YS,{children:u.jsxs("div",{className:"app",onClick:i,children:[u.jsx("div",{className:"aurora-bg"}),u.jsx("div",{className:"stars"}),u.jsx("div",{className:"stars2"}),u.jsx("div",{className:"stars3"}),u.jsxs("main",{children:[u.jsx(ny,{}),u.jsx(ry,{}),u.jsx(hy,{}),u.jsx(VS,{}),u.jsx($S,{}),u.jsx(HS,{})]}),u.jsxs("footer",{children:[u.jsx("p",{children:"See you among the stars!"}),u.jsx("button",{className:"admin-link",onClick:l,children:"Mission Control"})]}),n.map(c=>u.jsx(ZS,{x:c.x,y:c.y,onComplete:()=>o(c.id)},c.id)),u.jsxs("button",{className:"fab-rsvp",onClick:()=>{var c;return(c=document.getElementById("rsvp-section"))==null?void 0:c.scrollIntoView({behavior:"smooth"})},"aria-label":"Go to RSVP",children:[u.jsx("svg",{viewBox:"0 0 24 24",className:"fab-icon",children:u.jsx("path",{fill:"currentColor",d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),u.jsx("span",{children:"RSVP"})]})]})})}const Ig=()=>{const t=document.getElementById("loading-screen");t&&setTimeout(()=>{t.classList.add("hidden"),setTimeout(()=>{t.remove()},500)},300)};Ml.createRoot(document.getElementById("root")).render(u.jsx($g.StrictMode,{children:u.jsx(JS,{})}));window.addEventListener("load",Ig);document.readyState==="complete"&&Ig();
