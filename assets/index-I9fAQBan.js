(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function gg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ih={exports:{}},_o={},Th={exports:{}},b={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oi=Symbol.for("react.element"),_g=Symbol.for("react.portal"),vg=Symbol.for("react.fragment"),yg=Symbol.for("react.strict_mode"),wg=Symbol.for("react.profiler"),Cg=Symbol.for("react.provider"),Sg=Symbol.for("react.context"),Eg=Symbol.for("react.forward_ref"),xg=Symbol.for("react.suspense"),Ng=Symbol.for("react.memo"),kg=Symbol.for("react.lazy"),Nc=Symbol.iterator;function Ig(t){return t===null||typeof t!="object"?null:(t=Nc&&t[Nc]||t["@@iterator"],typeof t=="function"?t:null)}var Rh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ph=Object.assign,Ah={};function wr(t,e,n){this.props=t,this.context=e,this.refs=Ah,this.updater=n||Rh}wr.prototype.isReactComponent={};wr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Dh(){}Dh.prototype=wr.prototype;function Ga(t,e,n){this.props=t,this.context=e,this.refs=Ah,this.updater=n||Rh}var Qa=Ga.prototype=new Dh;Qa.constructor=Ga;Ph(Qa,wr.prototype);Qa.isPureReactComponent=!0;var kc=Array.isArray,Mh=Object.prototype.hasOwnProperty,Ya={current:null},Oh={key:!0,ref:!0,__self:!0,__source:!0};function Lh(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Mh.call(e,r)&&!Oh.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Oi,type:t,key:s,ref:o,props:i,_owner:Ya.current}}function Tg(t,e){return{$$typeof:Oi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ka(t){return typeof t=="object"&&t!==null&&t.$$typeof===Oi}function Rg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ic=/\/+/g;function Qo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Rg(""+t.key):e.toString(36)}function gs(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Oi:case _g:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Qo(o,0):r,kc(i)?(n="",t!=null&&(n=t.replace(Ic,"$&/")+"/"),gs(i,e,n,"",function(u){return u})):i!=null&&(Ka(i)&&(i=Tg(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ic,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",kc(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+Qo(s,l);o+=gs(s,e,n,a,i)}else if(a=Ig(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+Qo(s,l++),o+=gs(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ki(t,e,n){if(t==null)return t;var r=[],i=0;return gs(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Pg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ae={current:null},_s={transition:null},Ag={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:_s,ReactCurrentOwner:Ya};function jh(){throw Error("act(...) is not supported in production builds of React.")}b.Children={map:Ki,forEach:function(t,e,n){Ki(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ki(t,function(){e++}),e},toArray:function(t){return Ki(t,function(e){return e})||[]},only:function(t){if(!Ka(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};b.Component=wr;b.Fragment=vg;b.Profiler=wg;b.PureComponent=Ga;b.StrictMode=yg;b.Suspense=xg;b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ag;b.act=jh;b.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ph({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ya.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Mh.call(e,a)&&!Oh.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Oi,type:t.type,key:i,ref:s,props:r,_owner:o}};b.createContext=function(t){return t={$$typeof:Sg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Cg,_context:t},t.Consumer=t};b.createElement=Lh;b.createFactory=function(t){var e=Lh.bind(null,t);return e.type=t,e};b.createRef=function(){return{current:null}};b.forwardRef=function(t){return{$$typeof:Eg,render:t}};b.isValidElement=Ka;b.lazy=function(t){return{$$typeof:kg,_payload:{_status:-1,_result:t},_init:Pg}};b.memo=function(t,e){return{$$typeof:Ng,type:t,compare:e===void 0?null:e}};b.startTransition=function(t){var e=_s.transition;_s.transition={};try{t()}finally{_s.transition=e}};b.unstable_act=jh;b.useCallback=function(t,e){return Ae.current.useCallback(t,e)};b.useContext=function(t){return Ae.current.useContext(t)};b.useDebugValue=function(){};b.useDeferredValue=function(t){return Ae.current.useDeferredValue(t)};b.useEffect=function(t,e){return Ae.current.useEffect(t,e)};b.useId=function(){return Ae.current.useId()};b.useImperativeHandle=function(t,e,n){return Ae.current.useImperativeHandle(t,e,n)};b.useInsertionEffect=function(t,e){return Ae.current.useInsertionEffect(t,e)};b.useLayoutEffect=function(t,e){return Ae.current.useLayoutEffect(t,e)};b.useMemo=function(t,e){return Ae.current.useMemo(t,e)};b.useReducer=function(t,e,n){return Ae.current.useReducer(t,e,n)};b.useRef=function(t){return Ae.current.useRef(t)};b.useState=function(t){return Ae.current.useState(t)};b.useSyncExternalStore=function(t,e,n){return Ae.current.useSyncExternalStore(t,e,n)};b.useTransition=function(){return Ae.current.useTransition()};b.version="18.3.1";Th.exports=b;var M=Th.exports;const Dg=gg(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg=M,Og=Symbol.for("react.element"),Lg=Symbol.for("react.fragment"),jg=Object.prototype.hasOwnProperty,Fg=Mg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bg={key:!0,ref:!0,__self:!0,__source:!0};function Fh(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)jg.call(e,r)&&!bg.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Og,type:t,key:s,ref:o,props:i,_owner:Fg.current}}_o.Fragment=Lg;_o.jsx=Fh;_o.jsxs=Fh;Ih.exports=_o;var c=Ih.exports,Al={},bh={exports:{}},He={},zh={exports:{}},Bh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,N){var A=k.length;k.push(N);e:for(;0<A;){var V=A-1>>>1,oe=k[V];if(0<i(oe,N))k[V]=N,k[A]=oe,A=V;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var N=k[0],A=k.pop();if(A!==N){k[0]=A;e:for(var V=0,oe=k.length,bn=oe>>>1;V<bn;){var vt=2*(V+1)-1,tt=k[vt],fn=vt+1,Yi=k[fn];if(0>i(tt,A))fn<oe&&0>i(Yi,tt)?(k[V]=Yi,k[fn]=A,V=fn):(k[V]=tt,k[vt]=A,V=vt);else if(fn<oe&&0>i(Yi,A))k[V]=Yi,k[fn]=A,V=fn;else break e}}return N}function i(k,N){var A=k.sortIndex-N.sortIndex;return A!==0?A:k.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],f=1,d=null,h=3,g=!1,v=!1,y=!1,P=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(k){for(var N=n(u);N!==null;){if(N.callback===null)r(u);else if(N.startTime<=k)r(u),N.sortIndex=N.expirationTime,e(a,N);else break;N=n(u)}}function w(k){if(y=!1,_(k),!v)if(n(a)!==null)v=!0,_e(x);else{var N=n(u);N!==null&&Me(w,N.startTime-k)}}function x(k,N){v=!1,y&&(y=!1,m(R),R=-1),g=!0;var A=h;try{for(_(N),d=n(a);d!==null&&(!(d.expirationTime>N)||k&&!Z());){var V=d.callback;if(typeof V=="function"){d.callback=null,h=d.priorityLevel;var oe=V(d.expirationTime<=N);N=t.unstable_now(),typeof oe=="function"?d.callback=oe:d===n(a)&&r(a),_(N)}else r(a);d=n(a)}if(d!==null)var bn=!0;else{var vt=n(u);vt!==null&&Me(w,vt.startTime-N),bn=!1}return bn}finally{d=null,h=A,g=!1}}var T=!1,C=null,R=-1,U=5,O=-1;function Z(){return!(t.unstable_now()-O<U)}function K(){if(C!==null){var k=t.unstable_now();O=k;var N=!0;try{N=C(!0,k)}finally{N?et():(T=!1,C=null)}}else T=!1}var et;if(typeof p=="function")et=function(){p(K)};else if(typeof MessageChannel<"u"){var Fn=new MessageChannel,Tr=Fn.port2;Fn.port1.onmessage=K,et=function(){Tr.postMessage(null)}}else et=function(){P(K,0)};function _e(k){C=k,T||(T=!0,et())}function Me(k,N){R=P(function(){k(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,_e(x))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(k){switch(h){case 1:case 2:case 3:var N=3;break;default:N=h}var A=h;h=N;try{return k()}finally{h=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,N){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var A=h;h=k;try{return N()}finally{h=A}},t.unstable_scheduleCallback=function(k,N,A){var V=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?V+A:V):A=V,k){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=A+oe,k={id:f++,callback:N,priorityLevel:k,startTime:A,expirationTime:oe,sortIndex:-1},A>V?(k.sortIndex=A,e(u,k),n(a)===null&&k===n(u)&&(y?(m(R),R=-1):y=!0,Me(w,A-V))):(k.sortIndex=oe,e(a,k),v||g||(v=!0,_e(x))),k},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(k){var N=h;return function(){var A=h;h=N;try{return k.apply(this,arguments)}finally{h=A}}}})(Bh);zh.exports=Bh;var zg=zh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg=M,We=zg;function S(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Uh=new Set,si={};function Mn(t,e){ar(t,e),ar(t+"Capture",e)}function ar(t,e){for(si[t]=e,t=0;t<e.length;t++)Uh.add(e[t])}var Tt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dl=Object.prototype.hasOwnProperty,Ug=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tc={},Rc={};function Vg(t){return Dl.call(Rc,t)?!0:Dl.call(Tc,t)?!1:Ug.test(t)?Rc[t]=!0:(Tc[t]=!0,!1)}function Wg(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Hg(t,e,n,r){if(e===null||typeof e>"u"||Wg(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function De(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ce[t]=new De(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ce[e]=new De(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ce[t]=new De(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ce[t]=new De(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ce[t]=new De(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ce[t]=new De(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ce[t]=new De(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ce[t]=new De(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ce[t]=new De(t,5,!1,t.toLowerCase(),null,!1,!1)});var qa=/[\-:]([a-z])/g;function Xa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qa,Xa);Ce[e]=new De(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qa,Xa);Ce[e]=new De(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qa,Xa);Ce[e]=new De(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ce[t]=new De(t,1,!1,t.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ce[t]=new De(t,1,!1,t.toLowerCase(),null,!0,!0)});function Za(t,e,n,r){var i=Ce.hasOwnProperty(e)?Ce[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Hg(e,n,i,r)&&(n=null),r||i===null?Vg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ot=Bg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qi=Symbol.for("react.element"),Un=Symbol.for("react.portal"),Vn=Symbol.for("react.fragment"),Ja=Symbol.for("react.strict_mode"),Ml=Symbol.for("react.profiler"),Vh=Symbol.for("react.provider"),Wh=Symbol.for("react.context"),eu=Symbol.for("react.forward_ref"),Ol=Symbol.for("react.suspense"),Ll=Symbol.for("react.suspense_list"),tu=Symbol.for("react.memo"),Ft=Symbol.for("react.lazy"),Hh=Symbol.for("react.offscreen"),Pc=Symbol.iterator;function Rr(t){return t===null||typeof t!="object"?null:(t=Pc&&t[Pc]||t["@@iterator"],typeof t=="function"?t:null)}var re=Object.assign,Yo;function Ur(t){if(Yo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yo=e&&e[1]||""}return`
`+Yo+t}var Ko=!1;function qo(t,e){if(!t||Ko)return"";Ko=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Ko=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ur(t):""}function $g(t){switch(t.tag){case 5:return Ur(t.type);case 16:return Ur("Lazy");case 13:return Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 2:case 15:return t=qo(t.type,!1),t;case 11:return t=qo(t.type.render,!1),t;case 1:return t=qo(t.type,!0),t;default:return""}}function jl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vn:return"Fragment";case Un:return"Portal";case Ml:return"Profiler";case Ja:return"StrictMode";case Ol:return"Suspense";case Ll:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Wh:return(t.displayName||"Context")+".Consumer";case Vh:return(t._context.displayName||"Context")+".Provider";case eu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tu:return e=t.displayName||null,e!==null?e:jl(t.type)||"Memo";case Ft:e=t._payload,t=t._init;try{return jl(t(e))}catch{}}return null}function Gg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jl(e);case 8:return e===Ja?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function nn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $h(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Qg(t){var e=$h(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xi(t){t._valueTracker||(t._valueTracker=Qg(t))}function Gh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$h(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fl(t,e){var n=e.checked;return re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ac(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=nn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Qh(t,e){e=e.checked,e!=null&&Za(t,"checked",e,!1)}function bl(t,e){Qh(t,e);var n=nn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zl(t,e.type,n):e.hasOwnProperty("defaultValue")&&zl(t,e.type,nn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Dc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zl(t,e,n){(e!=="number"||Rs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vr=Array.isArray;function er(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+nn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Bl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(S(91));return re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(S(92));if(Vr(n)){if(1<n.length)throw Error(S(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:nn(n)}}function Yh(t,e){var n=nn(e.value),r=nn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Oc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Kh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ul(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Kh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zi,qh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zi=Zi||document.createElement("div"),Zi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function oi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yg=["Webkit","ms","Moz","O"];Object.keys($r).forEach(function(t){Yg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$r[e]=$r[t]})});function Xh(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$r.hasOwnProperty(t)&&$r[t]?(""+e).trim():e+"px"}function Zh(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Xh(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Kg=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vl(t,e){if(e){if(Kg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(S(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(S(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(S(61))}if(e.style!=null&&typeof e.style!="object")throw Error(S(62))}}function Wl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hl=null;function nu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $l=null,tr=null,nr=null;function Lc(t){if(t=Fi(t)){if(typeof $l!="function")throw Error(S(280));var e=t.stateNode;e&&(e=So(e),$l(t.stateNode,t.type,e))}}function Jh(t){tr?nr?nr.push(t):nr=[t]:tr=t}function ef(){if(tr){var t=tr,e=nr;if(nr=tr=null,Lc(t),e)for(t=0;t<e.length;t++)Lc(e[t])}}function tf(t,e){return t(e)}function nf(){}var Xo=!1;function rf(t,e,n){if(Xo)return t(e,n);Xo=!0;try{return tf(t,e,n)}finally{Xo=!1,(tr!==null||nr!==null)&&(nf(),ef())}}function li(t,e){var n=t.stateNode;if(n===null)return null;var r=So(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(S(231,e,typeof n));return n}var Gl=!1;if(Tt)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){Gl=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{Gl=!1}function qg(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Gr=!1,Ps=null,As=!1,Ql=null,Xg={onError:function(t){Gr=!0,Ps=t}};function Zg(t,e,n,r,i,s,o,l,a){Gr=!1,Ps=null,qg.apply(Xg,arguments)}function Jg(t,e,n,r,i,s,o,l,a){if(Zg.apply(this,arguments),Gr){if(Gr){var u=Ps;Gr=!1,Ps=null}else throw Error(S(198));As||(As=!0,Ql=u)}}function On(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jc(t){if(On(t)!==t)throw Error(S(188))}function e_(t){var e=t.alternate;if(!e){if(e=On(t),e===null)throw Error(S(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return jc(i),t;if(s===r)return jc(i),e;s=s.sibling}throw Error(S(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(S(189))}}if(n.alternate!==r)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?t:e}function of(t){return t=e_(t),t!==null?lf(t):null}function lf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lf(t);if(e!==null)return e;t=t.sibling}return null}var af=We.unstable_scheduleCallback,Fc=We.unstable_cancelCallback,t_=We.unstable_shouldYield,n_=We.unstable_requestPaint,le=We.unstable_now,r_=We.unstable_getCurrentPriorityLevel,ru=We.unstable_ImmediatePriority,uf=We.unstable_UserBlockingPriority,Ds=We.unstable_NormalPriority,i_=We.unstable_LowPriority,cf=We.unstable_IdlePriority,vo=null,mt=null;function s_(t){if(mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(vo,t,void 0,(t.current.flags&128)===128)}catch{}}var at=Math.clz32?Math.clz32:a_,o_=Math.log,l_=Math.LN2;function a_(t){return t>>>=0,t===0?32:31-(o_(t)/l_|0)|0}var Ji=64,es=4194304;function Wr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ms(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Wr(l):(s&=o,s!==0&&(r=Wr(s)))}else o=n&~i,o!==0?r=Wr(o):s!==0&&(r=Wr(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-at(e),i=1<<n,r|=t[n],e&=~i;return r}function u_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-at(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=u_(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function Yl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function df(){var t=Ji;return Ji<<=1,!(Ji&4194240)&&(Ji=64),t}function Zo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Li(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-at(e),t[e]=n}function d_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-at(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function iu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-at(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var W=0;function hf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ff,su,pf,mf,gf,Kl=!1,ts=[],Ht=null,$t=null,Gt=null,ai=new Map,ui=new Map,zt=[],h_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bc(t,e){switch(t){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":$t=null;break;case"mouseover":case"mouseout":Gt=null;break;case"pointerover":case"pointerout":ai.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ui.delete(e.pointerId)}}function Ar(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Fi(e),e!==null&&su(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function f_(t,e,n,r,i){switch(e){case"focusin":return Ht=Ar(Ht,t,e,n,r,i),!0;case"dragenter":return $t=Ar($t,t,e,n,r,i),!0;case"mouseover":return Gt=Ar(Gt,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ai.set(s,Ar(ai.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ui.set(s,Ar(ui.get(s)||null,t,e,n,r,i)),!0}return!1}function _f(t){var e=vn(t.target);if(e!==null){var n=On(e);if(n!==null){if(e=n.tag,e===13){if(e=sf(n),e!==null){t.blockedOn=e,gf(t.priority,function(){pf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ql(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hl=r,n.target.dispatchEvent(r),Hl=null}else return e=Fi(n),e!==null&&su(e),t.blockedOn=n,!1;e.shift()}return!0}function zc(t,e,n){vs(t)&&n.delete(e)}function p_(){Kl=!1,Ht!==null&&vs(Ht)&&(Ht=null),$t!==null&&vs($t)&&($t=null),Gt!==null&&vs(Gt)&&(Gt=null),ai.forEach(zc),ui.forEach(zc)}function Dr(t,e){t.blockedOn===e&&(t.blockedOn=null,Kl||(Kl=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,p_)))}function ci(t){function e(i){return Dr(i,t)}if(0<ts.length){Dr(ts[0],t);for(var n=1;n<ts.length;n++){var r=ts[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ht!==null&&Dr(Ht,t),$t!==null&&Dr($t,t),Gt!==null&&Dr(Gt,t),ai.forEach(e),ui.forEach(e),n=0;n<zt.length;n++)r=zt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zt.length&&(n=zt[0],n.blockedOn===null);)_f(n),n.blockedOn===null&&zt.shift()}var rr=Ot.ReactCurrentBatchConfig,Os=!0;function m_(t,e,n,r){var i=W,s=rr.transition;rr.transition=null;try{W=1,ou(t,e,n,r)}finally{W=i,rr.transition=s}}function g_(t,e,n,r){var i=W,s=rr.transition;rr.transition=null;try{W=4,ou(t,e,n,r)}finally{W=i,rr.transition=s}}function ou(t,e,n,r){if(Os){var i=ql(t,e,n,r);if(i===null)al(t,e,r,Ls,n),bc(t,r);else if(f_(i,t,e,n,r))r.stopPropagation();else if(bc(t,r),e&4&&-1<h_.indexOf(t)){for(;i!==null;){var s=Fi(i);if(s!==null&&ff(s),s=ql(t,e,n,r),s===null&&al(t,e,r,Ls,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else al(t,e,r,null,n)}}var Ls=null;function ql(t,e,n,r){if(Ls=null,t=nu(r),t=vn(t),t!==null)if(e=On(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ls=t,null}function vf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(r_()){case ru:return 1;case uf:return 4;case Ds:case i_:return 16;case cf:return 536870912;default:return 16}default:return 16}}var Ut=null,lu=null,ys=null;function yf(){if(ys)return ys;var t,e=lu,n=e.length,r,i="value"in Ut?Ut.value:Ut.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ys=i.slice(t,1<r?1-r:void 0)}function ws(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ns(){return!0}function Bc(){return!1}function $e(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ns:Bc,this.isPropagationStopped=Bc,this}return re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),e}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},au=$e(Cr),ji=re({},Cr,{view:0,detail:0}),__=$e(ji),Jo,el,Mr,yo=re({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mr&&(Mr&&t.type==="mousemove"?(Jo=t.screenX-Mr.screenX,el=t.screenY-Mr.screenY):el=Jo=0,Mr=t),Jo)},movementY:function(t){return"movementY"in t?t.movementY:el}}),Uc=$e(yo),v_=re({},yo,{dataTransfer:0}),y_=$e(v_),w_=re({},ji,{relatedTarget:0}),tl=$e(w_),C_=re({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),S_=$e(C_),E_=re({},Cr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),x_=$e(E_),N_=re({},Cr,{data:0}),Vc=$e(N_),k_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=T_[t])?!!e[t]:!1}function uu(){return R_}var P_=re({},ji,{key:function(t){if(t.key){var e=k_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ws(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?I_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uu,charCode:function(t){return t.type==="keypress"?ws(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ws(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),A_=$e(P_),D_=re({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wc=$e(D_),M_=re({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uu}),O_=$e(M_),L_=re({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),j_=$e(L_),F_=re({},yo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),b_=$e(F_),z_=[9,13,27,32],cu=Tt&&"CompositionEvent"in window,Qr=null;Tt&&"documentMode"in document&&(Qr=document.documentMode);var B_=Tt&&"TextEvent"in window&&!Qr,wf=Tt&&(!cu||Qr&&8<Qr&&11>=Qr),Hc=" ",$c=!1;function Cf(t,e){switch(t){case"keyup":return z_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wn=!1;function U_(t,e){switch(t){case"compositionend":return Sf(e);case"keypress":return e.which!==32?null:($c=!0,Hc);case"textInput":return t=e.data,t===Hc&&$c?null:t;default:return null}}function V_(t,e){if(Wn)return t==="compositionend"||!cu&&Cf(t,e)?(t=yf(),ys=lu=Ut=null,Wn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wf&&e.locale!=="ko"?null:e.data;default:return null}}var W_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!W_[t.type]:e==="textarea"}function Ef(t,e,n,r){Jh(r),e=js(e,"onChange"),0<e.length&&(n=new au("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yr=null,di=null;function H_(t){Of(t,0)}function wo(t){var e=Gn(t);if(Gh(e))return t}function $_(t,e){if(t==="change")return e}var xf=!1;if(Tt){var nl;if(Tt){var rl="oninput"in document;if(!rl){var Qc=document.createElement("div");Qc.setAttribute("oninput","return;"),rl=typeof Qc.oninput=="function"}nl=rl}else nl=!1;xf=nl&&(!document.documentMode||9<document.documentMode)}function Yc(){Yr&&(Yr.detachEvent("onpropertychange",Nf),di=Yr=null)}function Nf(t){if(t.propertyName==="value"&&wo(di)){var e=[];Ef(e,di,t,nu(t)),rf(H_,e)}}function G_(t,e,n){t==="focusin"?(Yc(),Yr=e,di=n,Yr.attachEvent("onpropertychange",Nf)):t==="focusout"&&Yc()}function Q_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wo(di)}function Y_(t,e){if(t==="click")return wo(e)}function K_(t,e){if(t==="input"||t==="change")return wo(e)}function q_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dt=typeof Object.is=="function"?Object.is:q_;function hi(t,e){if(dt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Dl.call(e,i)||!dt(t[i],e[i]))return!1}return!0}function Kc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qc(t,e){var n=Kc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kc(n)}}function kf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function If(){for(var t=window,e=Rs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rs(t.document)}return e}function du(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function X_(t){var e=If(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&kf(n.ownerDocument.documentElement,n)){if(r!==null&&du(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=qc(n,s);var o=qc(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Z_=Tt&&"documentMode"in document&&11>=document.documentMode,Hn=null,Xl=null,Kr=null,Zl=!1;function Xc(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zl||Hn==null||Hn!==Rs(r)||(r=Hn,"selectionStart"in r&&du(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kr&&hi(Kr,r)||(Kr=r,r=js(Xl,"onSelect"),0<r.length&&(e=new au("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Hn)))}function rs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $n={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionend:rs("Transition","TransitionEnd")},il={},Tf={};Tt&&(Tf=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function Co(t){if(il[t])return il[t];if(!$n[t])return t;var e=$n[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Tf)return il[t]=e[n];return t}var Rf=Co("animationend"),Pf=Co("animationiteration"),Af=Co("animationstart"),Df=Co("transitionend"),Mf=new Map,Zc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function un(t,e){Mf.set(t,e),Mn(e,[t])}for(var sl=0;sl<Zc.length;sl++){var ol=Zc[sl],J_=ol.toLowerCase(),ev=ol[0].toUpperCase()+ol.slice(1);un(J_,"on"+ev)}un(Rf,"onAnimationEnd");un(Pf,"onAnimationIteration");un(Af,"onAnimationStart");un("dblclick","onDoubleClick");un("focusin","onFocus");un("focusout","onBlur");un(Df,"onTransitionEnd");ar("onMouseEnter",["mouseout","mouseover"]);ar("onMouseLeave",["mouseout","mouseover"]);ar("onPointerEnter",["pointerout","pointerover"]);ar("onPointerLeave",["pointerout","pointerover"]);Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function Jc(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Jg(r,e,void 0,t),t.currentTarget=null}function Of(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Jc(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Jc(i,l,u),s=a}}}if(As)throw t=Ql,As=!1,Ql=null,t}function q(t,e){var n=e[ra];n===void 0&&(n=e[ra]=new Set);var r=t+"__bubble";n.has(r)||(Lf(e,t,2,!1),n.add(r))}function ll(t,e,n){var r=0;e&&(r|=4),Lf(n,t,r,e)}var is="_reactListening"+Math.random().toString(36).slice(2);function fi(t){if(!t[is]){t[is]=!0,Uh.forEach(function(n){n!=="selectionchange"&&(tv.has(n)||ll(n,!1,t),ll(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[is]||(e[is]=!0,ll("selectionchange",!1,e))}}function Lf(t,e,n,r){switch(vf(e)){case 1:var i=m_;break;case 4:i=g_;break;default:i=ou}n=i.bind(null,e,n,t),i=void 0,!Gl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function al(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=vn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}rf(function(){var u=s,f=nu(n),d=[];e:{var h=Mf.get(t);if(h!==void 0){var g=au,v=t;switch(t){case"keypress":if(ws(n)===0)break e;case"keydown":case"keyup":g=A_;break;case"focusin":v="focus",g=tl;break;case"focusout":v="blur",g=tl;break;case"beforeblur":case"afterblur":g=tl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=y_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=O_;break;case Rf:case Pf:case Af:g=S_;break;case Df:g=j_;break;case"scroll":g=__;break;case"wheel":g=b_;break;case"copy":case"cut":case"paste":g=x_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Wc}var y=(e&4)!==0,P=!y&&t==="scroll",m=y?h!==null?h+"Capture":null:h;y=[];for(var p=u,_;p!==null;){_=p;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,m!==null&&(w=li(p,m),w!=null&&y.push(pi(p,w,_)))),P)break;p=p.return}0<y.length&&(h=new g(h,v,null,n,f),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Hl&&(v=n.relatedTarget||n.fromElement)&&(vn(v)||v[Rt]))break e;if((g||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?vn(v):null,v!==null&&(P=On(v),v!==P||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=Uc,w="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=Wc,w="onPointerLeave",m="onPointerEnter",p="pointer"),P=g==null?h:Gn(g),_=v==null?h:Gn(v),h=new y(w,p+"leave",g,n,f),h.target=P,h.relatedTarget=_,w=null,vn(f)===u&&(y=new y(m,p+"enter",v,n,f),y.target=_,y.relatedTarget=P,w=y),P=w,g&&v)t:{for(y=g,m=v,p=0,_=y;_;_=zn(_))p++;for(_=0,w=m;w;w=zn(w))_++;for(;0<p-_;)y=zn(y),p--;for(;0<_-p;)m=zn(m),_--;for(;p--;){if(y===m||m!==null&&y===m.alternate)break t;y=zn(y),m=zn(m)}y=null}else y=null;g!==null&&ed(d,h,g,y,!1),v!==null&&P!==null&&ed(d,P,v,y,!0)}}e:{if(h=u?Gn(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var x=$_;else if(Gc(h))if(xf)x=K_;else{x=Q_;var T=G_}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=Y_);if(x&&(x=x(t,u))){Ef(d,x,n,f);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&zl(h,"number",h.value)}switch(T=u?Gn(u):window,t){case"focusin":(Gc(T)||T.contentEditable==="true")&&(Hn=T,Xl=u,Kr=null);break;case"focusout":Kr=Xl=Hn=null;break;case"mousedown":Zl=!0;break;case"contextmenu":case"mouseup":case"dragend":Zl=!1,Xc(d,n,f);break;case"selectionchange":if(Z_)break;case"keydown":case"keyup":Xc(d,n,f)}var C;if(cu)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Wn?Cf(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(wf&&n.locale!=="ko"&&(Wn||R!=="onCompositionStart"?R==="onCompositionEnd"&&Wn&&(C=yf()):(Ut=f,lu="value"in Ut?Ut.value:Ut.textContent,Wn=!0)),T=js(u,R),0<T.length&&(R=new Vc(R,t,null,n,f),d.push({event:R,listeners:T}),C?R.data=C:(C=Sf(n),C!==null&&(R.data=C)))),(C=B_?U_(t,n):V_(t,n))&&(u=js(u,"onBeforeInput"),0<u.length&&(f=new Vc("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=C))}Of(d,e)})}function pi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function js(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=li(t,n),s!=null&&r.unshift(pi(t,s,i)),s=li(t,e),s!=null&&r.push(pi(t,s,i))),t=t.return}return r}function zn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ed(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=li(n,s),a!=null&&o.unshift(pi(n,a,l))):i||(a=li(n,s),a!=null&&o.push(pi(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var nv=/\r\n?/g,rv=/\u0000|\uFFFD/g;function td(t){return(typeof t=="string"?t:""+t).replace(nv,`
`).replace(rv,"")}function ss(t,e,n){if(e=td(e),td(t)!==e&&n)throw Error(S(425))}function Fs(){}var Jl=null,ea=null;function ta(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var na=typeof setTimeout=="function"?setTimeout:void 0,iv=typeof clearTimeout=="function"?clearTimeout:void 0,nd=typeof Promise=="function"?Promise:void 0,sv=typeof queueMicrotask=="function"?queueMicrotask:typeof nd<"u"?function(t){return nd.resolve(null).then(t).catch(ov)}:na;function ov(t){setTimeout(function(){throw t})}function ul(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ci(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ci(e)}function Qt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Sr=Math.random().toString(36).slice(2),pt="__reactFiber$"+Sr,mi="__reactProps$"+Sr,Rt="__reactContainer$"+Sr,ra="__reactEvents$"+Sr,lv="__reactListeners$"+Sr,av="__reactHandles$"+Sr;function vn(t){var e=t[pt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rt]||n[pt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=rd(t);t!==null;){if(n=t[pt])return n;t=rd(t)}return e}t=n,n=t.parentNode}return null}function Fi(t){return t=t[pt]||t[Rt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(S(33))}function So(t){return t[mi]||null}var ia=[],Qn=-1;function cn(t){return{current:t}}function X(t){0>Qn||(t.current=ia[Qn],ia[Qn]=null,Qn--)}function Y(t,e){Qn++,ia[Qn]=t.current,t.current=e}var rn={},ke=cn(rn),Fe=cn(!1),Nn=rn;function ur(t,e){var n=t.type.contextTypes;if(!n)return rn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function be(t){return t=t.childContextTypes,t!=null}function bs(){X(Fe),X(ke)}function id(t,e,n){if(ke.current!==rn)throw Error(S(168));Y(ke,e),Y(Fe,n)}function jf(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(S(108,Gg(t)||"Unknown",i));return re({},n,r)}function zs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rn,Nn=ke.current,Y(ke,t),Y(Fe,Fe.current),!0}function sd(t,e,n){var r=t.stateNode;if(!r)throw Error(S(169));n?(t=jf(t,e,Nn),r.__reactInternalMemoizedMergedChildContext=t,X(Fe),X(ke),Y(ke,t)):X(Fe),Y(Fe,n)}var wt=null,Eo=!1,cl=!1;function Ff(t){wt===null?wt=[t]:wt.push(t)}function uv(t){Eo=!0,Ff(t)}function dn(){if(!cl&&wt!==null){cl=!0;var t=0,e=W;try{var n=wt;for(W=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}wt=null,Eo=!1}catch(i){throw wt!==null&&(wt=wt.slice(t+1)),af(ru,dn),i}finally{W=e,cl=!1}}return null}var Yn=[],Kn=0,Bs=null,Us=0,Ge=[],Qe=0,kn=null,Ct=1,St="";function pn(t,e){Yn[Kn++]=Us,Yn[Kn++]=Bs,Bs=t,Us=e}function bf(t,e,n){Ge[Qe++]=Ct,Ge[Qe++]=St,Ge[Qe++]=kn,kn=t;var r=Ct;t=St;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ct=1<<32-at(e)+i|n<<i|r,St=s+t}else Ct=1<<s|n<<i|r,St=t}function hu(t){t.return!==null&&(pn(t,1),bf(t,1,0))}function fu(t){for(;t===Bs;)Bs=Yn[--Kn],Yn[Kn]=null,Us=Yn[--Kn],Yn[Kn]=null;for(;t===kn;)kn=Ge[--Qe],Ge[Qe]=null,St=Ge[--Qe],Ge[Qe]=null,Ct=Ge[--Qe],Ge[Qe]=null}var Ve=null,Ue=null,J=!1,st=null;function zf(t,e){var n=Ye(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function od(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ve=t,Ue=Qt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ve=t,Ue=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=kn!==null?{id:Ct,overflow:St}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ye(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ve=t,Ue=null,!0):!1;default:return!1}}function sa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function oa(t){if(J){var e=Ue;if(e){var n=e;if(!od(t,e)){if(sa(t))throw Error(S(418));e=Qt(n.nextSibling);var r=Ve;e&&od(t,e)?zf(r,n):(t.flags=t.flags&-4097|2,J=!1,Ve=t)}}else{if(sa(t))throw Error(S(418));t.flags=t.flags&-4097|2,J=!1,Ve=t}}}function ld(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ve=t}function os(t){if(t!==Ve)return!1;if(!J)return ld(t),J=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ta(t.type,t.memoizedProps)),e&&(e=Ue)){if(sa(t))throw Bf(),Error(S(418));for(;e;)zf(t,e),e=Qt(e.nextSibling)}if(ld(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(S(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ue=Qt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ue=null}}else Ue=Ve?Qt(t.stateNode.nextSibling):null;return!0}function Bf(){for(var t=Ue;t;)t=Qt(t.nextSibling)}function cr(){Ue=Ve=null,J=!1}function pu(t){st===null?st=[t]:st.push(t)}var cv=Ot.ReactCurrentBatchConfig;function Or(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var r=n.stateNode}if(!r)throw Error(S(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,t))}return t}function ls(t,e){throw t=Object.prototype.toString.call(e),Error(S(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ad(t){var e=t._init;return e(t._payload)}function Uf(t){function e(m,p){if(t){var _=m.deletions;_===null?(m.deletions=[p],m.flags|=16):_.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Xt(m,p),m.index=0,m.sibling=null,m}function s(m,p,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<p?(m.flags|=2,p):_):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,p,_,w){return p===null||p.tag!==6?(p=_l(_,m.mode,w),p.return=m,p):(p=i(p,_),p.return=m,p)}function a(m,p,_,w){var x=_.type;return x===Vn?f(m,p,_.props.children,w,_.key):p!==null&&(p.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ft&&ad(x)===p.type)?(w=i(p,_.props),w.ref=Or(m,p,_),w.return=m,w):(w=Is(_.type,_.key,_.props,null,m.mode,w),w.ref=Or(m,p,_),w.return=m,w)}function u(m,p,_,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==_.containerInfo||p.stateNode.implementation!==_.implementation?(p=vl(_,m.mode,w),p.return=m,p):(p=i(p,_.children||[]),p.return=m,p)}function f(m,p,_,w,x){return p===null||p.tag!==7?(p=En(_,m.mode,w,x),p.return=m,p):(p=i(p,_),p.return=m,p)}function d(m,p,_){if(typeof p=="string"&&p!==""||typeof p=="number")return p=_l(""+p,m.mode,_),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case qi:return _=Is(p.type,p.key,p.props,null,m.mode,_),_.ref=Or(m,null,p),_.return=m,_;case Un:return p=vl(p,m.mode,_),p.return=m,p;case Ft:var w=p._init;return d(m,w(p._payload),_)}if(Vr(p)||Rr(p))return p=En(p,m.mode,_,null),p.return=m,p;ls(m,p)}return null}function h(m,p,_,w){var x=p!==null?p.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return x!==null?null:l(m,p,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case qi:return _.key===x?a(m,p,_,w):null;case Un:return _.key===x?u(m,p,_,w):null;case Ft:return x=_._init,h(m,p,x(_._payload),w)}if(Vr(_)||Rr(_))return x!==null?null:f(m,p,_,w,null);ls(m,_)}return null}function g(m,p,_,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(_)||null,l(p,m,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qi:return m=m.get(w.key===null?_:w.key)||null,a(p,m,w,x);case Un:return m=m.get(w.key===null?_:w.key)||null,u(p,m,w,x);case Ft:var T=w._init;return g(m,p,_,T(w._payload),x)}if(Vr(w)||Rr(w))return m=m.get(_)||null,f(p,m,w,x,null);ls(p,w)}return null}function v(m,p,_,w){for(var x=null,T=null,C=p,R=p=0,U=null;C!==null&&R<_.length;R++){C.index>R?(U=C,C=null):U=C.sibling;var O=h(m,C,_[R],w);if(O===null){C===null&&(C=U);break}t&&C&&O.alternate===null&&e(m,C),p=s(O,p,R),T===null?x=O:T.sibling=O,T=O,C=U}if(R===_.length)return n(m,C),J&&pn(m,R),x;if(C===null){for(;R<_.length;R++)C=d(m,_[R],w),C!==null&&(p=s(C,p,R),T===null?x=C:T.sibling=C,T=C);return J&&pn(m,R),x}for(C=r(m,C);R<_.length;R++)U=g(C,m,R,_[R],w),U!==null&&(t&&U.alternate!==null&&C.delete(U.key===null?R:U.key),p=s(U,p,R),T===null?x=U:T.sibling=U,T=U);return t&&C.forEach(function(Z){return e(m,Z)}),J&&pn(m,R),x}function y(m,p,_,w){var x=Rr(_);if(typeof x!="function")throw Error(S(150));if(_=x.call(_),_==null)throw Error(S(151));for(var T=x=null,C=p,R=p=0,U=null,O=_.next();C!==null&&!O.done;R++,O=_.next()){C.index>R?(U=C,C=null):U=C.sibling;var Z=h(m,C,O.value,w);if(Z===null){C===null&&(C=U);break}t&&C&&Z.alternate===null&&e(m,C),p=s(Z,p,R),T===null?x=Z:T.sibling=Z,T=Z,C=U}if(O.done)return n(m,C),J&&pn(m,R),x;if(C===null){for(;!O.done;R++,O=_.next())O=d(m,O.value,w),O!==null&&(p=s(O,p,R),T===null?x=O:T.sibling=O,T=O);return J&&pn(m,R),x}for(C=r(m,C);!O.done;R++,O=_.next())O=g(C,m,R,O.value,w),O!==null&&(t&&O.alternate!==null&&C.delete(O.key===null?R:O.key),p=s(O,p,R),T===null?x=O:T.sibling=O,T=O);return t&&C.forEach(function(K){return e(m,K)}),J&&pn(m,R),x}function P(m,p,_,w){if(typeof _=="object"&&_!==null&&_.type===Vn&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case qi:e:{for(var x=_.key,T=p;T!==null;){if(T.key===x){if(x=_.type,x===Vn){if(T.tag===7){n(m,T.sibling),p=i(T,_.props.children),p.return=m,m=p;break e}}else if(T.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ft&&ad(x)===T.type){n(m,T.sibling),p=i(T,_.props),p.ref=Or(m,T,_),p.return=m,m=p;break e}n(m,T);break}else e(m,T);T=T.sibling}_.type===Vn?(p=En(_.props.children,m.mode,w,_.key),p.return=m,m=p):(w=Is(_.type,_.key,_.props,null,m.mode,w),w.ref=Or(m,p,_),w.return=m,m=w)}return o(m);case Un:e:{for(T=_.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===_.containerInfo&&p.stateNode.implementation===_.implementation){n(m,p.sibling),p=i(p,_.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=vl(_,m.mode,w),p.return=m,m=p}return o(m);case Ft:return T=_._init,P(m,p,T(_._payload),w)}if(Vr(_))return v(m,p,_,w);if(Rr(_))return y(m,p,_,w);ls(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,_),p.return=m,m=p):(n(m,p),p=_l(_,m.mode,w),p.return=m,m=p),o(m)):n(m,p)}return P}var dr=Uf(!0),Vf=Uf(!1),Vs=cn(null),Ws=null,qn=null,mu=null;function gu(){mu=qn=Ws=null}function _u(t){var e=Vs.current;X(Vs),t._currentValue=e}function la(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ir(t,e){Ws=t,mu=qn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Le=!0),t.firstContext=null)}function Xe(t){var e=t._currentValue;if(mu!==t)if(t={context:t,memoizedValue:e,next:null},qn===null){if(Ws===null)throw Error(S(308));qn=t,Ws.dependencies={lanes:0,firstContext:t}}else qn=qn.next=t;return e}var yn=null;function vu(t){yn===null?yn=[t]:yn.push(t)}function Wf(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,vu(e)):(n.next=i.next,i.next=n),e.interleaved=n,Pt(t,r)}function Pt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bt=!1;function yu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,z&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Pt(t,n)}return i=r.interleaved,i===null?(e.next=e,vu(r)):(e.next=i.next,i.next=e),r.interleaved=e,Pt(t,n)}function Cs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iu(t,n)}}function ud(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hs(t,e,n,r){var i=t.updateQueue;bt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,f=u=a=null,l=s;do{var h=l.lane,g=l.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,y=l;switch(h=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(g,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(g,d,h):v,h==null)break e;d=re({},d,h);break e;case 2:bt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=g,a=d):f=f.next=g,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Tn|=o,t.lanes=o,t.memoizedState=d}}function cd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(S(191,i));i.call(r)}}}var bi={},gt=cn(bi),gi=cn(bi),_i=cn(bi);function wn(t){if(t===bi)throw Error(S(174));return t}function wu(t,e){switch(Y(_i,e),Y(gi,t),Y(gt,bi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ul(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ul(e,t)}X(gt),Y(gt,e)}function hr(){X(gt),X(gi),X(_i)}function $f(t){wn(_i.current);var e=wn(gt.current),n=Ul(e,t.type);e!==n&&(Y(gi,t),Y(gt,n))}function Cu(t){gi.current===t&&(X(gt),X(gi))}var ee=cn(0);function $s(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dl=[];function Su(){for(var t=0;t<dl.length;t++)dl[t]._workInProgressVersionPrimary=null;dl.length=0}var Ss=Ot.ReactCurrentDispatcher,hl=Ot.ReactCurrentBatchConfig,In=0,ne=null,ue=null,pe=null,Gs=!1,qr=!1,vi=0,dv=0;function Ee(){throw Error(S(321))}function Eu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dt(t[n],e[n]))return!1;return!0}function xu(t,e,n,r,i,s){if(In=s,ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ss.current=t===null||t.memoizedState===null?mv:gv,t=n(r,i),qr){s=0;do{if(qr=!1,vi=0,25<=s)throw Error(S(301));s+=1,pe=ue=null,e.updateQueue=null,Ss.current=_v,t=n(r,i)}while(qr)}if(Ss.current=Qs,e=ue!==null&&ue.next!==null,In=0,pe=ue=ne=null,Gs=!1,e)throw Error(S(300));return t}function Nu(){var t=vi!==0;return vi=0,t}function ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?ne.memoizedState=pe=t:pe=pe.next=t,pe}function Ze(){if(ue===null){var t=ne.alternate;t=t!==null?t.memoizedState:null}else t=ue.next;var e=pe===null?ne.memoizedState:pe.next;if(e!==null)pe=e,ue=t;else{if(t===null)throw Error(S(310));ue=t,t={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},pe===null?ne.memoizedState=pe=t:pe=pe.next=t}return pe}function yi(t,e){return typeof e=="function"?e(t):e}function fl(t){var e=Ze(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=ue,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var f=u.lane;if((In&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,ne.lanes|=f,Tn|=f}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,dt(r,e.memoizedState)||(Le=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ne.lanes|=s,Tn|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pl(t){var e=Ze(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);dt(s,e.memoizedState)||(Le=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Gf(){}function Qf(t,e){var n=ne,r=Ze(),i=e(),s=!dt(r.memoizedState,i);if(s&&(r.memoizedState=i,Le=!0),r=r.queue,ku(qf.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||pe!==null&&pe.memoizedState.tag&1){if(n.flags|=2048,wi(9,Kf.bind(null,n,r,i,e),void 0,null),ge===null)throw Error(S(349));In&30||Yf(n,e,i)}return i}function Yf(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Kf(t,e,n,r){e.value=n,e.getSnapshot=r,Xf(e)&&Zf(t)}function qf(t,e,n){return n(function(){Xf(e)&&Zf(t)})}function Xf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dt(t,n)}catch{return!0}}function Zf(t){var e=Pt(t,1);e!==null&&ut(e,t,1,-1)}function dd(t){var e=ft();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:t},e.queue=t,t=t.dispatch=pv.bind(null,ne,t),[e.memoizedState,t]}function wi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Jf(){return Ze().memoizedState}function Es(t,e,n,r){var i=ft();ne.flags|=t,i.memoizedState=wi(1|e,n,void 0,r===void 0?null:r)}function xo(t,e,n,r){var i=Ze();r=r===void 0?null:r;var s=void 0;if(ue!==null){var o=ue.memoizedState;if(s=o.destroy,r!==null&&Eu(r,o.deps)){i.memoizedState=wi(e,n,s,r);return}}ne.flags|=t,i.memoizedState=wi(1|e,n,s,r)}function hd(t,e){return Es(8390656,8,t,e)}function ku(t,e){return xo(2048,8,t,e)}function ep(t,e){return xo(4,2,t,e)}function tp(t,e){return xo(4,4,t,e)}function np(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rp(t,e,n){return n=n!=null?n.concat([t]):null,xo(4,4,np.bind(null,e,t),n)}function Iu(){}function ip(t,e){var n=Ze();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Eu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sp(t,e){var n=Ze();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Eu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function op(t,e,n){return In&21?(dt(n,e)||(n=df(),ne.lanes|=n,Tn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Le=!0),t.memoizedState=n)}function hv(t,e){var n=W;W=n!==0&&4>n?n:4,t(!0);var r=hl.transition;hl.transition={};try{t(!1),e()}finally{W=n,hl.transition=r}}function lp(){return Ze().memoizedState}function fv(t,e,n){var r=qt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ap(t))up(e,n);else if(n=Wf(t,e,n,r),n!==null){var i=Re();ut(n,t,r,i),cp(n,e,r)}}function pv(t,e,n){var r=qt(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ap(t))up(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,dt(l,o)){var a=e.interleaved;a===null?(i.next=i,vu(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=Wf(t,e,i,r),n!==null&&(i=Re(),ut(n,t,r,i),cp(n,e,r))}}function ap(t){var e=t.alternate;return t===ne||e!==null&&e===ne}function up(t,e){qr=Gs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iu(t,n)}}var Qs={readContext:Xe,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},mv={readContext:Xe,useCallback:function(t,e){return ft().memoizedState=[t,e===void 0?null:e],t},useContext:Xe,useEffect:hd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Es(4194308,4,np.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Es(4194308,4,t,e)},useInsertionEffect:function(t,e){return Es(4,2,t,e)},useMemo:function(t,e){var n=ft();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ft();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fv.bind(null,ne,t),[r.memoizedState,t]},useRef:function(t){var e=ft();return t={current:t},e.memoizedState=t},useState:dd,useDebugValue:Iu,useDeferredValue:function(t){return ft().memoizedState=t},useTransition:function(){var t=dd(!1),e=t[0];return t=hv.bind(null,t[1]),ft().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ne,i=ft();if(J){if(n===void 0)throw Error(S(407));n=n()}else{if(n=e(),ge===null)throw Error(S(349));In&30||Yf(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,hd(qf.bind(null,r,s,t),[t]),r.flags|=2048,wi(9,Kf.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ft(),e=ge.identifierPrefix;if(J){var n=St,r=Ct;n=(r&~(1<<32-at(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=vi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=dv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gv={readContext:Xe,useCallback:ip,useContext:Xe,useEffect:ku,useImperativeHandle:rp,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:sp,useReducer:fl,useRef:Jf,useState:function(){return fl(yi)},useDebugValue:Iu,useDeferredValue:function(t){var e=Ze();return op(e,ue.memoizedState,t)},useTransition:function(){var t=fl(yi)[0],e=Ze().memoizedState;return[t,e]},useMutableSource:Gf,useSyncExternalStore:Qf,useId:lp,unstable_isNewReconciler:!1},_v={readContext:Xe,useCallback:ip,useContext:Xe,useEffect:ku,useImperativeHandle:rp,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:sp,useReducer:pl,useRef:Jf,useState:function(){return pl(yi)},useDebugValue:Iu,useDeferredValue:function(t){var e=Ze();return ue===null?e.memoizedState=t:op(e,ue.memoizedState,t)},useTransition:function(){var t=pl(yi)[0],e=Ze().memoizedState;return[t,e]},useMutableSource:Gf,useSyncExternalStore:Qf,useId:lp,unstable_isNewReconciler:!1};function rt(t,e){if(t&&t.defaultProps){e=re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function aa(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var No={isMounted:function(t){return(t=t._reactInternals)?On(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Re(),i=qt(t),s=kt(r,i);s.payload=e,n!=null&&(s.callback=n),e=Yt(t,s,i),e!==null&&(ut(e,t,i,r),Cs(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Re(),i=qt(t),s=kt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Yt(t,s,i),e!==null&&(ut(e,t,i,r),Cs(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Re(),r=qt(t),i=kt(n,r);i.tag=2,e!=null&&(i.callback=e),e=Yt(t,i,r),e!==null&&(ut(e,t,r,n),Cs(e,t,r))}};function fd(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!hi(n,r)||!hi(i,s):!0}function dp(t,e,n){var r=!1,i=rn,s=e.contextType;return typeof s=="object"&&s!==null?s=Xe(s):(i=be(e)?Nn:ke.current,r=e.contextTypes,s=(r=r!=null)?ur(t,i):rn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=No,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function pd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&No.enqueueReplaceState(e,e.state,null)}function ua(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},yu(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Xe(s):(s=be(e)?Nn:ke.current,i.context=ur(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(aa(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&No.enqueueReplaceState(i,i.state,null),Hs(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fr(t,e){try{var n="",r=e;do n+=$g(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ml(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ca(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vv=typeof WeakMap=="function"?WeakMap:Map;function hp(t,e,n){n=kt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ks||(Ks=!0,wa=r),ca(t,e)},n}function fp(t,e,n){n=kt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ca(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ca(t,e),typeof r!="function"&&(Kt===null?Kt=new Set([this]):Kt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function md(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new vv;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Dv.bind(null,t,e,n),e.then(t,t))}function gd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _d(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=kt(-1,1),e.tag=2,Yt(n,e,1))),n.lanes|=1),t)}var yv=Ot.ReactCurrentOwner,Le=!1;function Ie(t,e,n,r){e.child=t===null?Vf(e,null,n,r):dr(e,t.child,n,r)}function vd(t,e,n,r,i){n=n.render;var s=e.ref;return ir(e,i),r=xu(t,e,n,r,s,i),n=Nu(),t!==null&&!Le?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,At(t,e,i)):(J&&n&&hu(e),e.flags|=1,Ie(t,e,r,i),e.child)}function yd(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Lu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,pp(t,e,s,r,i)):(t=Is(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:hi,n(o,r)&&t.ref===e.ref)return At(t,e,i)}return e.flags|=1,t=Xt(s,r),t.ref=e.ref,t.return=e,e.child=t}function pp(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(hi(s,r)&&t.ref===e.ref)if(Le=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Le=!0);else return e.lanes=t.lanes,At(t,e,i)}return da(t,e,n,r,i)}function mp(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(Zn,Be),Be|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Y(Zn,Be),Be|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Y(Zn,Be),Be|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Y(Zn,Be),Be|=r;return Ie(t,e,i,n),e.child}function gp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function da(t,e,n,r,i){var s=be(n)?Nn:ke.current;return s=ur(e,s),ir(e,i),n=xu(t,e,n,r,s,i),r=Nu(),t!==null&&!Le?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,At(t,e,i)):(J&&r&&hu(e),e.flags|=1,Ie(t,e,n,i),e.child)}function wd(t,e,n,r,i){if(be(n)){var s=!0;zs(e)}else s=!1;if(ir(e,i),e.stateNode===null)xs(t,e),dp(e,n,r),ua(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xe(u):(u=be(n)?Nn:ke.current,u=ur(e,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&pd(e,o,r,u),bt=!1;var h=e.memoizedState;o.state=h,Hs(e,r,o,i),a=e.memoizedState,l!==r||h!==a||Fe.current||bt?(typeof f=="function"&&(aa(e,n,f,r),a=e.memoizedState),(l=bt||fd(e,n,l,r,h,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Hf(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:rt(e.type,l),o.props=u,d=e.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Xe(a):(a=be(n)?Nn:ke.current,a=ur(e,a));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==a)&&pd(e,o,r,a),bt=!1,h=e.memoizedState,o.state=h,Hs(e,r,o,i);var v=e.memoizedState;l!==d||h!==v||Fe.current||bt?(typeof g=="function"&&(aa(e,n,g,r),v=e.memoizedState),(u=bt||fd(e,n,u,r,h,v,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return ha(t,e,n,r,s,i)}function ha(t,e,n,r,i,s){gp(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&sd(e,n,!1),At(t,e,s);r=e.stateNode,yv.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=dr(e,t.child,null,s),e.child=dr(e,null,l,s)):Ie(t,e,l,s),e.memoizedState=r.state,i&&sd(e,n,!0),e.child}function _p(t){var e=t.stateNode;e.pendingContext?id(t,e.pendingContext,e.pendingContext!==e.context):e.context&&id(t,e.context,!1),wu(t,e.containerInfo)}function Cd(t,e,n,r,i){return cr(),pu(i),e.flags|=256,Ie(t,e,n,r),e.child}var fa={dehydrated:null,treeContext:null,retryLane:0};function pa(t){return{baseLanes:t,cachePool:null,transitions:null}}function vp(t,e,n){var r=e.pendingProps,i=ee.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Y(ee,i&1),t===null)return oa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=To(o,r,0,null),t=En(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=pa(n),e.memoizedState=fa,t):Tu(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return wv(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Xt(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Xt(l,s):(s=En(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?pa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=fa,r}return s=t.child,t=s.sibling,r=Xt(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Tu(t,e){return e=To({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function as(t,e,n,r){return r!==null&&pu(r),dr(e,t.child,null,n),t=Tu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wv(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ml(Error(S(422))),as(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=To({mode:"visible",children:r.children},i,0,null),s=En(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&dr(e,t.child,null,o),e.child.memoizedState=pa(o),e.memoizedState=fa,s);if(!(e.mode&1))return as(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(S(419)),r=ml(s,r,void 0),as(t,e,o,r)}if(l=(o&t.childLanes)!==0,Le||l){if(r=ge,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Pt(t,i),ut(r,t,i,-1))}return Ou(),r=ml(Error(S(421))),as(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Mv.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ue=Qt(i.nextSibling),Ve=e,J=!0,st=null,t!==null&&(Ge[Qe++]=Ct,Ge[Qe++]=St,Ge[Qe++]=kn,Ct=t.id,St=t.overflow,kn=e),e=Tu(e,r.children),e.flags|=4096,e)}function Sd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),la(t.return,e,n)}function gl(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function yp(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ie(t,e,r.children,n),r=ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sd(t,n,e);else if(t.tag===19)Sd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Y(ee,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&$s(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),gl(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$s(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}gl(e,!0,n,null,s);break;case"together":gl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function At(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Tn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(S(153));if(e.child!==null){for(t=e.child,n=Xt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Cv(t,e,n){switch(e.tag){case 3:_p(e),cr();break;case 5:$f(e);break;case 1:be(e.type)&&zs(e);break;case 4:wu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Y(Vs,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Y(ee,ee.current&1),e.flags|=128,null):n&e.child.childLanes?vp(t,e,n):(Y(ee,ee.current&1),t=At(t,e,n),t!==null?t.sibling:null);Y(ee,ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return yp(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Y(ee,ee.current),r)break;return null;case 22:case 23:return e.lanes=0,mp(t,e,n)}return At(t,e,n)}var wp,ma,Cp,Sp;wp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ma=function(){};Cp=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,wn(gt.current);var s=null;switch(n){case"input":i=Fl(t,i),r=Fl(t,r),s=[];break;case"select":i=re({},i,{value:void 0}),r=re({},r,{value:void 0}),s=[];break;case"textarea":i=Bl(t,i),r=Bl(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fs)}Vl(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(si.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(si.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&q("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Sp=function(t,e,n,r){n!==r&&(e.flags|=4)};function Lr(t,e){if(!J)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Sv(t,e,n){var r=e.pendingProps;switch(fu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(e),null;case 1:return be(e.type)&&bs(),xe(e),null;case 3:return r=e.stateNode,hr(),X(Fe),X(ke),Su(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(os(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,st!==null&&(Ea(st),st=null))),ma(t,e),xe(e),null;case 5:Cu(e);var i=wn(_i.current);if(n=e.type,t!==null&&e.stateNode!=null)Cp(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(S(166));return xe(e),null}if(t=wn(gt.current),os(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[pt]=e,r[mi]=s,t=(e.mode&1)!==0,n){case"dialog":q("cancel",r),q("close",r);break;case"iframe":case"object":case"embed":q("load",r);break;case"video":case"audio":for(i=0;i<Hr.length;i++)q(Hr[i],r);break;case"source":q("error",r);break;case"img":case"image":case"link":q("error",r),q("load",r);break;case"details":q("toggle",r);break;case"input":Ac(r,s),q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},q("invalid",r);break;case"textarea":Mc(r,s),q("invalid",r)}Vl(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&ss(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ss(r.textContent,l,t),i=["children",""+l]):si.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&q("scroll",r)}switch(n){case"input":Xi(r),Dc(r,s,!0);break;case"textarea":Xi(r),Oc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Fs)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Kh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[pt]=e,t[mi]=r,wp(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wl(n,r),n){case"dialog":q("cancel",t),q("close",t),i=r;break;case"iframe":case"object":case"embed":q("load",t),i=r;break;case"video":case"audio":for(i=0;i<Hr.length;i++)q(Hr[i],t);i=r;break;case"source":q("error",t),i=r;break;case"img":case"image":case"link":q("error",t),q("load",t),i=r;break;case"details":q("toggle",t),i=r;break;case"input":Ac(t,r),i=Fl(t,r),q("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=re({},r,{value:void 0}),q("invalid",t);break;case"textarea":Mc(t,r),i=Bl(t,r),q("invalid",t);break;default:i=r}Vl(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Zh(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&qh(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&oi(t,a):typeof a=="number"&&oi(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(si.hasOwnProperty(s)?a!=null&&s==="onScroll"&&q("scroll",t):a!=null&&Za(t,s,a,o))}switch(n){case"input":Xi(t),Dc(t,r,!1);break;case"textarea":Xi(t),Oc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+nn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?er(t,!!r.multiple,s,!1):r.defaultValue!=null&&er(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Fs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xe(e),null;case 6:if(t&&e.stateNode!=null)Sp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(S(166));if(n=wn(_i.current),wn(gt.current),os(e)){if(r=e.stateNode,n=e.memoizedProps,r[pt]=e,(s=r.nodeValue!==n)&&(t=Ve,t!==null))switch(t.tag){case 3:ss(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ss(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pt]=e,e.stateNode=r}return xe(e),null;case 13:if(X(ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(J&&Ue!==null&&e.mode&1&&!(e.flags&128))Bf(),cr(),e.flags|=98560,s=!1;else if(s=os(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(S(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(S(317));s[pt]=e}else cr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xe(e),s=!1}else st!==null&&(Ea(st),st=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ee.current&1?he===0&&(he=3):Ou())),e.updateQueue!==null&&(e.flags|=4),xe(e),null);case 4:return hr(),ma(t,e),t===null&&fi(e.stateNode.containerInfo),xe(e),null;case 10:return _u(e.type._context),xe(e),null;case 17:return be(e.type)&&bs(),xe(e),null;case 19:if(X(ee),s=e.memoizedState,s===null)return xe(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Lr(s,!1);else{if(he!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$s(t),o!==null){for(e.flags|=128,Lr(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Y(ee,ee.current&1|2),e.child}t=t.sibling}s.tail!==null&&le()>pr&&(e.flags|=128,r=!0,Lr(s,!1),e.lanes=4194304)}else{if(!r)if(t=$s(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Lr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!J)return xe(e),null}else 2*le()-s.renderingStartTime>pr&&n!==1073741824&&(e.flags|=128,r=!0,Lr(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=le(),e.sibling=null,n=ee.current,Y(ee,r?n&1|2:n&1),e):(xe(e),null);case 22:case 23:return Mu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Be&1073741824&&(xe(e),e.subtreeFlags&6&&(e.flags|=8192)):xe(e),null;case 24:return null;case 25:return null}throw Error(S(156,e.tag))}function Ev(t,e){switch(fu(e),e.tag){case 1:return be(e.type)&&bs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hr(),X(Fe),X(ke),Su(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cu(e),null;case 13:if(X(ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(S(340));cr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return X(ee),null;case 4:return hr(),null;case 10:return _u(e.type._context),null;case 22:case 23:return Mu(),null;case 24:return null;default:return null}}var us=!1,Ne=!1,xv=typeof WeakSet=="function"?WeakSet:Set,I=null;function Xn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ie(t,e,r)}else n.current=null}function ga(t,e,n){try{n()}catch(r){ie(t,e,r)}}var Ed=!1;function Nv(t,e){if(Jl=Os,t=If(),du(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,f=0,d=t,h=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===t)break t;if(h===n&&++u===i&&(l=o),h===s&&++f===r&&(a=o),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ea={focusedElem:t,selectionRange:n},Os=!1,I=e;I!==null;)if(e=I,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,I=t;else for(;I!==null;){e=I;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,P=v.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:rt(e.type,y),P);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(w){ie(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,I=t;break}I=e.return}return v=Ed,Ed=!1,v}function Xr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ga(e,n,s)}i=i.next}while(i!==r)}}function ko(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _a(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ep(t){var e=t.alternate;e!==null&&(t.alternate=null,Ep(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[pt],delete e[mi],delete e[ra],delete e[lv],delete e[av])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xp(t){return t.tag===5||t.tag===3||t.tag===4}function xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function va(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fs));else if(r!==4&&(t=t.child,t!==null))for(va(t,e,n),t=t.sibling;t!==null;)va(t,e,n),t=t.sibling}function ya(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ya(t,e,n),t=t.sibling;t!==null;)ya(t,e,n),t=t.sibling}var ve=null,it=!1;function jt(t,e,n){for(n=n.child;n!==null;)Np(t,e,n),n=n.sibling}function Np(t,e,n){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(vo,n)}catch{}switch(n.tag){case 5:Ne||Xn(n,e);case 6:var r=ve,i=it;ve=null,jt(t,e,n),ve=r,it=i,ve!==null&&(it?(t=ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(it?(t=ve,n=n.stateNode,t.nodeType===8?ul(t.parentNode,n):t.nodeType===1&&ul(t,n),ci(t)):ul(ve,n.stateNode));break;case 4:r=ve,i=it,ve=n.stateNode.containerInfo,it=!0,jt(t,e,n),ve=r,it=i;break;case 0:case 11:case 14:case 15:if(!Ne&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ga(n,e,o),i=i.next}while(i!==r)}jt(t,e,n);break;case 1:if(!Ne&&(Xn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ie(n,e,l)}jt(t,e,n);break;case 21:jt(t,e,n);break;case 22:n.mode&1?(Ne=(r=Ne)||n.memoizedState!==null,jt(t,e,n),Ne=r):jt(t,e,n);break;default:jt(t,e,n)}}function Nd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new xv),e.forEach(function(r){var i=Ov.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ve=l.stateNode,it=!1;break e;case 3:ve=l.stateNode.containerInfo,it=!0;break e;case 4:ve=l.stateNode.containerInfo,it=!0;break e}l=l.return}if(ve===null)throw Error(S(160));Np(s,o,i),ve=null,it=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){ie(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kp(e,t),e=e.sibling}function kp(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nt(e,t),ht(t),r&4){try{Xr(3,t,t.return),ko(3,t)}catch(y){ie(t,t.return,y)}try{Xr(5,t,t.return)}catch(y){ie(t,t.return,y)}}break;case 1:nt(e,t),ht(t),r&512&&n!==null&&Xn(n,n.return);break;case 5:if(nt(e,t),ht(t),r&512&&n!==null&&Xn(n,n.return),t.flags&32){var i=t.stateNode;try{oi(i,"")}catch(y){ie(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Qh(i,s),Wl(l,o);var u=Wl(l,s);for(o=0;o<a.length;o+=2){var f=a[o],d=a[o+1];f==="style"?Zh(i,d):f==="dangerouslySetInnerHTML"?qh(i,d):f==="children"?oi(i,d):Za(i,f,d,u)}switch(l){case"input":bl(i,s);break;case"textarea":Yh(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?er(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?er(i,!!s.multiple,s.defaultValue,!0):er(i,!!s.multiple,s.multiple?[]:"",!1))}i[mi]=s}catch(y){ie(t,t.return,y)}}break;case 6:if(nt(e,t),ht(t),r&4){if(t.stateNode===null)throw Error(S(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){ie(t,t.return,y)}}break;case 3:if(nt(e,t),ht(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ci(e.containerInfo)}catch(y){ie(t,t.return,y)}break;case 4:nt(e,t),ht(t);break;case 13:nt(e,t),ht(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Au=le())),r&4&&Nd(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ne=(u=Ne)||f,nt(e,t),Ne=u):nt(e,t),ht(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(I=t,f=t.child;f!==null;){for(d=I=f;I!==null;){switch(h=I,g=h.child,h.tag){case 0:case 11:case 14:case 15:Xr(4,h,h.return);break;case 1:Xn(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){ie(r,n,y)}}break;case 5:Xn(h,h.return);break;case 22:if(h.memoizedState!==null){Id(d);continue}}g!==null?(g.return=h,I=g):Id(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Xh("display",o))}catch(y){ie(t,t.return,y)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){ie(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:nt(e,t),ht(t),r&4&&Nd(t);break;case 21:break;default:nt(e,t),ht(t)}}function ht(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xp(n)){var r=n;break e}n=n.return}throw Error(S(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(oi(i,""),r.flags&=-33);var s=xd(t);ya(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=xd(t);va(t,l,o);break;default:throw Error(S(161))}}catch(a){ie(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kv(t,e,n){I=t,Ip(t)}function Ip(t,e,n){for(var r=(t.mode&1)!==0;I!==null;){var i=I,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||us;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Ne;l=us;var u=Ne;if(us=o,(Ne=a)&&!u)for(I=i;I!==null;)o=I,a=o.child,o.tag===22&&o.memoizedState!==null?Td(i):a!==null?(a.return=o,I=a):Td(i);for(;s!==null;)I=s,Ip(s),s=s.sibling;I=i,us=l,Ne=u}kd(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,I=s):kd(t)}}function kd(t){for(;I!==null;){var e=I;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ne||ko(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ne)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:rt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&cd(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}cd(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&ci(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}Ne||e.flags&512&&_a(e)}catch(h){ie(e,e.return,h)}}if(e===t){I=null;break}if(n=e.sibling,n!==null){n.return=e.return,I=n;break}I=e.return}}function Id(t){for(;I!==null;){var e=I;if(e===t){I=null;break}var n=e.sibling;if(n!==null){n.return=e.return,I=n;break}I=e.return}}function Td(t){for(;I!==null;){var e=I;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ko(4,e)}catch(a){ie(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){ie(e,i,a)}}var s=e.return;try{_a(e)}catch(a){ie(e,s,a)}break;case 5:var o=e.return;try{_a(e)}catch(a){ie(e,o,a)}}}catch(a){ie(e,e.return,a)}if(e===t){I=null;break}var l=e.sibling;if(l!==null){l.return=e.return,I=l;break}I=e.return}}var Iv=Math.ceil,Ys=Ot.ReactCurrentDispatcher,Ru=Ot.ReactCurrentOwner,qe=Ot.ReactCurrentBatchConfig,z=0,ge=null,ae=null,we=0,Be=0,Zn=cn(0),he=0,Ci=null,Tn=0,Io=0,Pu=0,Zr=null,Oe=null,Au=0,pr=1/0,yt=null,Ks=!1,wa=null,Kt=null,cs=!1,Vt=null,qs=0,Jr=0,Ca=null,Ns=-1,ks=0;function Re(){return z&6?le():Ns!==-1?Ns:Ns=le()}function qt(t){return t.mode&1?z&2&&we!==0?we&-we:cv.transition!==null?(ks===0&&(ks=df()),ks):(t=W,t!==0||(t=window.event,t=t===void 0?16:vf(t.type)),t):1}function ut(t,e,n,r){if(50<Jr)throw Jr=0,Ca=null,Error(S(185));Li(t,n,r),(!(z&2)||t!==ge)&&(t===ge&&(!(z&2)&&(Io|=n),he===4&&Bt(t,we)),ze(t,r),n===1&&z===0&&!(e.mode&1)&&(pr=le()+500,Eo&&dn()))}function ze(t,e){var n=t.callbackNode;c_(t,e);var r=Ms(t,t===ge?we:0);if(r===0)n!==null&&Fc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Fc(n),e===1)t.tag===0?uv(Rd.bind(null,t)):Ff(Rd.bind(null,t)),sv(function(){!(z&6)&&dn()}),n=null;else{switch(hf(r)){case 1:n=ru;break;case 4:n=uf;break;case 16:n=Ds;break;case 536870912:n=cf;break;default:n=Ds}n=Lp(n,Tp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Tp(t,e){if(Ns=-1,ks=0,z&6)throw Error(S(327));var n=t.callbackNode;if(sr()&&t.callbackNode!==n)return null;var r=Ms(t,t===ge?we:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xs(t,r);else{e=r;var i=z;z|=2;var s=Pp();(ge!==t||we!==e)&&(yt=null,pr=le()+500,Sn(t,e));do try{Pv();break}catch(l){Rp(t,l)}while(!0);gu(),Ys.current=s,z=i,ae!==null?e=0:(ge=null,we=0,e=he)}if(e!==0){if(e===2&&(i=Yl(t),i!==0&&(r=i,e=Sa(t,i))),e===1)throw n=Ci,Sn(t,0),Bt(t,r),ze(t,le()),n;if(e===6)Bt(t,r);else{if(i=t.current.alternate,!(r&30)&&!Tv(i)&&(e=Xs(t,r),e===2&&(s=Yl(t),s!==0&&(r=s,e=Sa(t,s))),e===1))throw n=Ci,Sn(t,0),Bt(t,r),ze(t,le()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(S(345));case 2:mn(t,Oe,yt);break;case 3:if(Bt(t,r),(r&130023424)===r&&(e=Au+500-le(),10<e)){if(Ms(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Re(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=na(mn.bind(null,t,Oe,yt),e);break}mn(t,Oe,yt);break;case 4:if(Bt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-at(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Iv(r/1960))-r,10<r){t.timeoutHandle=na(mn.bind(null,t,Oe,yt),r);break}mn(t,Oe,yt);break;case 5:mn(t,Oe,yt);break;default:throw Error(S(329))}}}return ze(t,le()),t.callbackNode===n?Tp.bind(null,t):null}function Sa(t,e){var n=Zr;return t.current.memoizedState.isDehydrated&&(Sn(t,e).flags|=256),t=Xs(t,e),t!==2&&(e=Oe,Oe=n,e!==null&&Ea(e)),t}function Ea(t){Oe===null?Oe=t:Oe.push.apply(Oe,t)}function Tv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!dt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bt(t,e){for(e&=~Pu,e&=~Io,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-at(e),r=1<<n;t[n]=-1,e&=~r}}function Rd(t){if(z&6)throw Error(S(327));sr();var e=Ms(t,0);if(!(e&1))return ze(t,le()),null;var n=Xs(t,e);if(t.tag!==0&&n===2){var r=Yl(t);r!==0&&(e=r,n=Sa(t,r))}if(n===1)throw n=Ci,Sn(t,0),Bt(t,e),ze(t,le()),n;if(n===6)throw Error(S(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mn(t,Oe,yt),ze(t,le()),null}function Du(t,e){var n=z;z|=1;try{return t(e)}finally{z=n,z===0&&(pr=le()+500,Eo&&dn())}}function Rn(t){Vt!==null&&Vt.tag===0&&!(z&6)&&sr();var e=z;z|=1;var n=qe.transition,r=W;try{if(qe.transition=null,W=1,t)return t()}finally{W=r,qe.transition=n,z=e,!(z&6)&&dn()}}function Mu(){Be=Zn.current,X(Zn)}function Sn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iv(n)),ae!==null)for(n=ae.return;n!==null;){var r=n;switch(fu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bs();break;case 3:hr(),X(Fe),X(ke),Su();break;case 5:Cu(r);break;case 4:hr();break;case 13:X(ee);break;case 19:X(ee);break;case 10:_u(r.type._context);break;case 22:case 23:Mu()}n=n.return}if(ge=t,ae=t=Xt(t.current,null),we=Be=e,he=0,Ci=null,Pu=Io=Tn=0,Oe=Zr=null,yn!==null){for(e=0;e<yn.length;e++)if(n=yn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}yn=null}return t}function Rp(t,e){do{var n=ae;try{if(gu(),Ss.current=Qs,Gs){for(var r=ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Gs=!1}if(In=0,pe=ue=ne=null,qr=!1,vi=0,Ru.current=null,n===null||n.return===null){he=1,Ci=e,ae=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=we,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=gd(o);if(g!==null){g.flags&=-257,_d(g,o,l,s,e),g.mode&1&&md(s,u,e),e=g,a=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(a),e.updateQueue=y}else v.add(a);break e}else{if(!(e&1)){md(s,u,e),Ou();break e}a=Error(S(426))}}else if(J&&l.mode&1){var P=gd(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),_d(P,o,l,s,e),pu(fr(a,l));break e}}s=a=fr(a,l),he!==4&&(he=2),Zr===null?Zr=[s]:Zr.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=hp(s,a,e);ud(s,m);break e;case 1:l=a;var p=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Kt===null||!Kt.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=fp(s,l,e);ud(s,w);break e}}s=s.return}while(s!==null)}Dp(n)}catch(x){e=x,ae===n&&n!==null&&(ae=n=n.return);continue}break}while(!0)}function Pp(){var t=Ys.current;return Ys.current=Qs,t===null?Qs:t}function Ou(){(he===0||he===3||he===2)&&(he=4),ge===null||!(Tn&268435455)&&!(Io&268435455)||Bt(ge,we)}function Xs(t,e){var n=z;z|=2;var r=Pp();(ge!==t||we!==e)&&(yt=null,Sn(t,e));do try{Rv();break}catch(i){Rp(t,i)}while(!0);if(gu(),z=n,Ys.current=r,ae!==null)throw Error(S(261));return ge=null,we=0,he}function Rv(){for(;ae!==null;)Ap(ae)}function Pv(){for(;ae!==null&&!t_();)Ap(ae)}function Ap(t){var e=Op(t.alternate,t,Be);t.memoizedProps=t.pendingProps,e===null?Dp(t):ae=e,Ru.current=null}function Dp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ev(n,e),n!==null){n.flags&=32767,ae=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{he=6,ae=null;return}}else if(n=Sv(n,e,Be),n!==null){ae=n;return}if(e=e.sibling,e!==null){ae=e;return}ae=e=t}while(e!==null);he===0&&(he=5)}function mn(t,e,n){var r=W,i=qe.transition;try{qe.transition=null,W=1,Av(t,e,n,r)}finally{qe.transition=i,W=r}return null}function Av(t,e,n,r){do sr();while(Vt!==null);if(z&6)throw Error(S(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(S(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(d_(t,s),t===ge&&(ae=ge=null,we=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cs||(cs=!0,Lp(Ds,function(){return sr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=qe.transition,qe.transition=null;var o=W;W=1;var l=z;z|=4,Ru.current=null,Nv(t,n),kp(n,t),X_(ea),Os=!!Jl,ea=Jl=null,t.current=n,kv(n),n_(),z=l,W=o,qe.transition=s}else t.current=n;if(cs&&(cs=!1,Vt=t,qs=i),s=t.pendingLanes,s===0&&(Kt=null),s_(n.stateNode),ze(t,le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,t=wa,wa=null,t;return qs&1&&t.tag!==0&&sr(),s=t.pendingLanes,s&1?t===Ca?Jr++:(Jr=0,Ca=t):Jr=0,dn(),null}function sr(){if(Vt!==null){var t=hf(qs),e=qe.transition,n=W;try{if(qe.transition=null,W=16>t?16:t,Vt===null)var r=!1;else{if(t=Vt,Vt=null,qs=0,z&6)throw Error(S(331));var i=z;for(z|=4,I=t.current;I!==null;){var s=I,o=s.child;if(I.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(I=u;I!==null;){var f=I;switch(f.tag){case 0:case 11:case 15:Xr(8,f,s)}var d=f.child;if(d!==null)d.return=f,I=d;else for(;I!==null;){f=I;var h=f.sibling,g=f.return;if(Ep(f),f===u){I=null;break}if(h!==null){h.return=g,I=h;break}I=g}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var P=y.sibling;y.sibling=null,y=P}while(y!==null)}}I=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,I=o;else e:for(;I!==null;){if(s=I,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xr(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,I=m;break e}I=s.return}}var p=t.current;for(I=p;I!==null;){o=I;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,I=_;else e:for(o=p;I!==null;){if(l=I,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ko(9,l)}}catch(x){ie(l,l.return,x)}if(l===o){I=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,I=w;break e}I=l.return}}if(z=i,dn(),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(vo,t)}catch{}r=!0}return r}finally{W=n,qe.transition=e}}return!1}function Pd(t,e,n){e=fr(n,e),e=hp(t,e,1),t=Yt(t,e,1),e=Re(),t!==null&&(Li(t,1,e),ze(t,e))}function ie(t,e,n){if(t.tag===3)Pd(t,t,n);else for(;e!==null;){if(e.tag===3){Pd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kt===null||!Kt.has(r))){t=fr(n,t),t=fp(e,t,1),e=Yt(e,t,1),t=Re(),e!==null&&(Li(e,1,t),ze(e,t));break}}e=e.return}}function Dv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Re(),t.pingedLanes|=t.suspendedLanes&n,ge===t&&(we&n)===n&&(he===4||he===3&&(we&130023424)===we&&500>le()-Au?Sn(t,0):Pu|=n),ze(t,e)}function Mp(t,e){e===0&&(t.mode&1?(e=es,es<<=1,!(es&130023424)&&(es=4194304)):e=1);var n=Re();t=Pt(t,e),t!==null&&(Li(t,e,n),ze(t,n))}function Mv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Mp(t,n)}function Ov(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(S(314))}r!==null&&r.delete(e),Mp(t,n)}var Op;Op=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fe.current)Le=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Le=!1,Cv(t,e,n);Le=!!(t.flags&131072)}else Le=!1,J&&e.flags&1048576&&bf(e,Us,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xs(t,e),t=e.pendingProps;var i=ur(e,ke.current);ir(e,n),i=xu(null,e,r,t,i,n);var s=Nu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,be(r)?(s=!0,zs(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yu(e),i.updater=No,e.stateNode=i,i._reactInternals=e,ua(e,r,t,n),e=ha(null,e,r,!0,s,n)):(e.tag=0,J&&s&&hu(e),Ie(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xs(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=jv(r),t=rt(r,t),i){case 0:e=da(null,e,r,t,n);break e;case 1:e=wd(null,e,r,t,n);break e;case 11:e=vd(null,e,r,t,n);break e;case 14:e=yd(null,e,r,rt(r.type,t),n);break e}throw Error(S(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rt(r,i),da(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rt(r,i),wd(t,e,r,i,n);case 3:e:{if(_p(e),t===null)throw Error(S(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Hf(t,e),Hs(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=fr(Error(S(423)),e),e=Cd(t,e,r,n,i);break e}else if(r!==i){i=fr(Error(S(424)),e),e=Cd(t,e,r,n,i);break e}else for(Ue=Qt(e.stateNode.containerInfo.firstChild),Ve=e,J=!0,st=null,n=Vf(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cr(),r===i){e=At(t,e,n);break e}Ie(t,e,r,n)}e=e.child}return e;case 5:return $f(e),t===null&&oa(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ta(r,i)?o=null:s!==null&&ta(r,s)&&(e.flags|=32),gp(t,e),Ie(t,e,o,n),e.child;case 6:return t===null&&oa(e),null;case 13:return vp(t,e,n);case 4:return wu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=dr(e,null,r,n):Ie(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rt(r,i),vd(t,e,r,i,n);case 7:return Ie(t,e,e.pendingProps,n),e.child;case 8:return Ie(t,e,e.pendingProps.children,n),e.child;case 12:return Ie(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Y(Vs,r._currentValue),r._currentValue=o,s!==null)if(dt(s.value,o)){if(s.children===i.children&&!Fe.current){e=At(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=kt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),la(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(S(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),la(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ie(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ir(e,n),i=Xe(i),r=r(i),e.flags|=1,Ie(t,e,r,n),e.child;case 14:return r=e.type,i=rt(r,e.pendingProps),i=rt(r.type,i),yd(t,e,r,i,n);case 15:return pp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rt(r,i),xs(t,e),e.tag=1,be(r)?(t=!0,zs(e)):t=!1,ir(e,n),dp(e,r,i),ua(e,r,i,n),ha(null,e,r,!0,t,n);case 19:return yp(t,e,n);case 22:return mp(t,e,n)}throw Error(S(156,e.tag))};function Lp(t,e){return af(t,e)}function Lv(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(t,e,n,r){return new Lv(t,e,n,r)}function Lu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jv(t){if(typeof t=="function")return Lu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===eu)return 11;if(t===tu)return 14}return 2}function Xt(t,e){var n=t.alternate;return n===null?(n=Ye(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Is(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Lu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vn:return En(n.children,i,s,e);case Ja:o=8,i|=8;break;case Ml:return t=Ye(12,n,e,i|2),t.elementType=Ml,t.lanes=s,t;case Ol:return t=Ye(13,n,e,i),t.elementType=Ol,t.lanes=s,t;case Ll:return t=Ye(19,n,e,i),t.elementType=Ll,t.lanes=s,t;case Hh:return To(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Vh:o=10;break e;case Wh:o=9;break e;case eu:o=11;break e;case tu:o=14;break e;case Ft:o=16,r=null;break e}throw Error(S(130,t==null?t:typeof t,""))}return e=Ye(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function En(t,e,n,r){return t=Ye(7,t,r,e),t.lanes=n,t}function To(t,e,n,r){return t=Ye(22,t,r,e),t.elementType=Hh,t.lanes=n,t.stateNode={isHidden:!1},t}function _l(t,e,n){return t=Ye(6,t,null,e),t.lanes=n,t}function vl(t,e,n){return e=Ye(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Fv(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zo(0),this.expirationTimes=Zo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zo(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ju(t,e,n,r,i,s,o,l,a){return t=new Fv(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ye(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yu(s),t}function bv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Un,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function jp(t){if(!t)return rn;t=t._reactInternals;e:{if(On(t)!==t||t.tag!==1)throw Error(S(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(be(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(S(171))}if(t.tag===1){var n=t.type;if(be(n))return jf(t,n,e)}return e}function Fp(t,e,n,r,i,s,o,l,a){return t=ju(n,r,!0,t,i,s,o,l,a),t.context=jp(null),n=t.current,r=Re(),i=qt(n),s=kt(r,i),s.callback=e??null,Yt(n,s,i),t.current.lanes=i,Li(t,i,r),ze(t,r),t}function Ro(t,e,n,r){var i=e.current,s=Re(),o=qt(i);return n=jp(n),e.context===null?e.context=n:e.pendingContext=n,e=kt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Yt(i,e,o),t!==null&&(ut(t,i,o,s),Cs(t,i,o)),o}function Zs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ad(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Fu(t,e){Ad(t,e),(t=t.alternate)&&Ad(t,e)}function zv(){return null}var bp=typeof reportError=="function"?reportError:function(t){console.error(t)};function bu(t){this._internalRoot=t}Po.prototype.render=bu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(S(409));Ro(t,e,null,null)};Po.prototype.unmount=bu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Rn(function(){Ro(null,t,null,null)}),e[Rt]=null}};function Po(t){this._internalRoot=t}Po.prototype.unstable_scheduleHydration=function(t){if(t){var e=mf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zt.length&&e!==0&&e<zt[n].priority;n++);zt.splice(n,0,t),n===0&&_f(t)}};function zu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ao(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Dd(){}function Bv(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Zs(o);s.call(u)}}var o=Fp(e,r,t,0,null,!1,!1,"",Dd);return t._reactRootContainer=o,t[Rt]=o.current,fi(t.nodeType===8?t.parentNode:t),Rn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Zs(a);l.call(u)}}var a=ju(t,0,!1,null,null,!1,!1,"",Dd);return t._reactRootContainer=a,t[Rt]=a.current,fi(t.nodeType===8?t.parentNode:t),Rn(function(){Ro(e,a,n,r)}),a}function Do(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Zs(o);l.call(a)}}Ro(e,o,t,i)}else o=Bv(n,e,t,i,r);return Zs(o)}ff=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wr(e.pendingLanes);n!==0&&(iu(e,n|1),ze(e,le()),!(z&6)&&(pr=le()+500,dn()))}break;case 13:Rn(function(){var r=Pt(t,1);if(r!==null){var i=Re();ut(r,t,1,i)}}),Fu(t,1)}};su=function(t){if(t.tag===13){var e=Pt(t,134217728);if(e!==null){var n=Re();ut(e,t,134217728,n)}Fu(t,134217728)}};pf=function(t){if(t.tag===13){var e=qt(t),n=Pt(t,e);if(n!==null){var r=Re();ut(n,t,e,r)}Fu(t,e)}};mf=function(){return W};gf=function(t,e){var n=W;try{return W=t,e()}finally{W=n}};$l=function(t,e,n){switch(e){case"input":if(bl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=So(r);if(!i)throw Error(S(90));Gh(r),bl(r,i)}}}break;case"textarea":Yh(t,n);break;case"select":e=n.value,e!=null&&er(t,!!n.multiple,e,!1)}};tf=Du;nf=Rn;var Uv={usingClientEntryPoint:!1,Events:[Fi,Gn,So,Jh,ef,Du]},jr={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vv={bundleType:jr.bundleType,version:jr.version,rendererPackageName:jr.rendererPackageName,rendererConfig:jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ot.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=of(t),t===null?null:t.stateNode},findFiberByHostInstance:jr.findFiberByHostInstance||zv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ds.isDisabled&&ds.supportsFiber)try{vo=ds.inject(Vv),mt=ds}catch{}}He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uv;He.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zu(e))throw Error(S(200));return bv(t,e,null,n)};He.createRoot=function(t,e){if(!zu(t))throw Error(S(299));var n=!1,r="",i=bp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ju(t,1,!1,null,null,n,!1,r,i),t[Rt]=e.current,fi(t.nodeType===8?t.parentNode:t),new bu(e)};He.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(S(188)):(t=Object.keys(t).join(","),Error(S(268,t)));return t=of(e),t=t===null?null:t.stateNode,t};He.flushSync=function(t){return Rn(t)};He.hydrate=function(t,e,n){if(!Ao(e))throw Error(S(200));return Do(null,t,e,!0,n)};He.hydrateRoot=function(t,e,n){if(!zu(t))throw Error(S(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=bp;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Fp(e,null,t,1,n??null,i,!1,s,o),t[Rt]=e.current,fi(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Po(e)};He.render=function(t,e,n){if(!Ao(e))throw Error(S(200));return Do(null,t,e,!1,n)};He.unmountComponentAtNode=function(t){if(!Ao(t))throw Error(S(40));return t._reactRootContainer?(Rn(function(){Do(null,null,t,!1,function(){t._reactRootContainer=null,t[Rt]=null})}),!0):!1};He.unstable_batchedUpdates=Du;He.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ao(n))throw Error(S(200));if(t==null||t._reactInternals===void 0)throw Error(S(38));return Do(t,e,n,!1,r)};He.version="18.3.1-next-f1338f8080-20240426";function zp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zp)}catch(t){console.error(t)}}zp(),bh.exports=He;var Wv=bh.exports,Md=Wv;Al.createRoot=Md.createRoot,Al.hydrateRoot=Md.hydrateRoot;function Hv(){return c.jsxs("section",{className:"hero",children:[c.jsx("div",{className:"planet planet-1",children:c.jsxs("svg",{viewBox:"0 0 100 100",className:"planet-svg",children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"planet1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#ff6b9d"}),c.jsx("stop",{offset:"100%",stopColor:"#c44569"})]})}),c.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"url(#planet1)"}),c.jsx("ellipse",{cx:"50",cy:"50",rx:"60",ry:"12",fill:"none",stroke:"rgba(255,255,255,0.3)",strokeWidth:"3"})]})}),c.jsx("div",{className:"planet planet-2",children:c.jsxs("svg",{viewBox:"0 0 80 80",className:"planet-svg",children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"planet2",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#ffd700"}),c.jsx("stop",{offset:"100%",stopColor:"#ff8c42"})]})}),c.jsx("circle",{cx:"40",cy:"40",r:"35",fill:"url(#planet2)"})]})}),c.jsx("div",{className:"planet planet-3",children:c.jsxs("svg",{viewBox:"0 0 60 60",className:"planet-svg",children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"planet3",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#74b9ff"}),c.jsx("stop",{offset:"100%",stopColor:"#0984e3"})]})}),c.jsx("circle",{cx:"30",cy:"30",r:"25",fill:"url(#planet3)"})]})}),c.jsx("div",{className:"rocket-container",children:c.jsxs("svg",{viewBox:"0 0 100 200",className:"rocket-svg",children:[c.jsxs("g",{className:"rocket-flame",children:[c.jsx("ellipse",{cx:"50",cy:"180",rx:"12",ry:"25",fill:"#ff6b35",opacity:"0.9"}),c.jsx("ellipse",{cx:"50",cy:"175",rx:"8",ry:"18",fill:"#ffd700"}),c.jsx("ellipse",{cx:"50",cy:"170",rx:"4",ry:"10",fill:"#fff"})]}),c.jsx("path",{d:"M50 10 L70 60 L70 130 L60 140 L40 140 L30 130 L30 60 Z",fill:"url(#rocketBody)"}),c.jsx("defs",{children:c.jsxs("linearGradient",{id:"rocketBody",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[c.jsx("stop",{offset:"0%",stopColor:"#e0e0e0"}),c.jsx("stop",{offset:"50%",stopColor:"#ffffff"}),c.jsx("stop",{offset:"100%",stopColor:"#c0c0c0"})]})}),c.jsx("path",{d:"M50 10 L65 45 L35 45 Z",fill:"#ff6b9d"}),c.jsx("circle",{cx:"50",cy:"70",r:"12",fill:"#74b9ff",stroke:"#2d3436",strokeWidth:"3"}),c.jsx("circle",{cx:"47",cy:"67",r:"4",fill:"rgba(255,255,255,0.6)"}),c.jsx("path",{d:"M30 110 L15 145 L30 135 Z",fill:"#ff8c42"}),c.jsx("path",{d:"M70 110 L85 145 L70 135 Z",fill:"#ff8c42"}),c.jsx("rect",{x:"35",y:"95",width:"30",height:"8",fill:"#ff6b9d"})]})}),c.jsxs("div",{className:"hero-content",children:[c.jsx("p",{className:"hero-invite",children:"You're invited to"}),c.jsx("h1",{children:"Hilde's Space Mission"}),c.jsxs("div",{className:"age-badge",children:[c.jsx("span",{className:"age-number",children:"5"}),c.jsx("span",{className:"age-text",children:"years around the sun!"})]})]}),c.jsx("div",{className:"astronaut-float",children:c.jsxs("svg",{viewBox:"0 0 100 140",className:"astronaut-svg",children:[c.jsx("rect",{x:"30",y:"45",width:"40",height:"50",rx:"5",fill:"#636e72"}),c.jsx("ellipse",{cx:"50",cy:"80",rx:"25",ry:"30",fill:"white"}),c.jsx("circle",{cx:"50",cy:"35",r:"28",fill:"white"}),c.jsx("ellipse",{cx:"50",cy:"38",rx:"20",ry:"18",fill:"#74b9ff",opacity:"0.8"}),c.jsx("ellipse",{cx:"45",cy:"33",rx:"6",ry:"4",fill:"rgba(255,255,255,0.5)"}),c.jsx("ellipse",{cx:"20",cy:"75",rx:"10",ry:"15",fill:"white"}),c.jsx("ellipse",{cx:"80",cy:"75",rx:"10",ry:"15",fill:"white"}),c.jsx("ellipse",{cx:"38",cy:"115",rx:"10",ry:"18",fill:"white"}),c.jsx("ellipse",{cx:"62",cy:"115",rx:"10",ry:"18",fill:"white"}),c.jsx("ellipse",{cx:"50",cy:"55",rx:"25",ry:"5",fill:"#dfe6e9"})]})})]})}const $v=new Date("2026-02-08T10:00:00-05:00"),Gv="Stamford Museum & Nature Center - Planetarium",Od="39 Scofieldtown Rd, Stamford, CT 06903",Qv="https://maps.google.com/?q=Stamford+Museum+Nature+Center+Planetarium+39+Scofieldtown+Rd+Stamford+CT",Yv="https://kotharishalin-max.github.io/Hilde-5th-birthday/",Kv="SPACE2026";function qv(){const[t,e]=M.useState(n());function n(){const i=$v-new Date;return i<=0?{days:0,hours:0,minutes:0,seconds:0,expired:!0}:{days:Math.floor(i/(1e3*60*60*24)),hours:Math.floor(i/(1e3*60*60)%24),minutes:Math.floor(i/(1e3*60)%60),seconds:Math.floor(i/1e3%60),expired:!1}}return M.useEffect(()=>{const r=setInterval(()=>{e(n())},1e3);return()=>clearInterval(r)},[]),t.expired?c.jsx("div",{className:"countdown countdown-expired",children:c.jsx("span",{className:"countdown-title",children:"Liftoff!"})}):c.jsxs("div",{className:"countdown",children:[c.jsx("span",{className:"countdown-title",children:"T-Minus"}),c.jsxs("div",{className:"countdown-units",children:[c.jsxs("div",{className:"countdown-unit",children:[c.jsx("span",{className:"countdown-number",children:t.days}),c.jsx("span",{className:"countdown-label",children:"days"})]}),c.jsxs("div",{className:"countdown-unit",children:[c.jsx("span",{className:"countdown-number",children:t.hours}),c.jsx("span",{className:"countdown-label",children:"hrs"})]}),c.jsxs("div",{className:"countdown-unit",children:[c.jsx("span",{className:"countdown-number",children:t.minutes}),c.jsx("span",{className:"countdown-label",children:"min"})]}),c.jsxs("div",{className:"countdown-unit",children:[c.jsx("span",{className:"countdown-number",children:t.seconds}),c.jsx("span",{className:"countdown-label",children:"sec"})]})]})]})}function Xv(){const t="Hilde's 5th Birthday - Space Mission!",e=`Join us for an out-of-this-world birthday celebration at the Planetarium!

RSVP & Details: ${Yv}
Access Code: ${Kv}

See you among the stars!`,n="20260208T150000Z",r="20260208T180000Z",i=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(t)}&dates=${n}/${r}&details=${encodeURIComponent(e)}&location=${encodeURIComponent(Od)}`,s=e.replace(/\n/g,"\\n"),o=()=>{const l=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Hilde Birthday//EN
BEGIN:VEVENT
DTSTART:${n}
DTEND:${r}
SUMMARY:${t}
DESCRIPTION:${s}
LOCATION:${Od}
END:VEVENT
END:VCALENDAR`,a=new Blob([l],{type:"text/calendar;charset=utf-8"}),u=document.createElement("a");u.href=URL.createObjectURL(a),u.download="hilde-birthday.ics",document.body.appendChild(u),u.click(),document.body.removeChild(u)};return c.jsxs("div",{className:"calendar-buttons",children:[c.jsxs("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"calendar-btn google",children:[c.jsx("svg",{viewBox:"0 0 24 24",className:"calendar-icon",children:c.jsx("path",{fill:"currentColor",d:"M19,4H17V3a1,1,0,0,0-2,0V4H9V3A1,1,0,0,0,7,3V4H5A2,2,0,0,0,3,6V20a2,2,0,0,0,2,2H19a2,2,0,0,0,2-2V6A2,2,0,0,0,19,4Zm0,16H5V10H19ZM9,14H7V12H9Zm4,0H11V12h2Zm4,0H15V12h2Zm-8,4H7V16H9Zm4,0H11V16h2Zm4,0H15V16h2Z"})}),"Google Calendar"]}),c.jsxs("button",{onClick:o,className:"calendar-btn ics",children:[c.jsx("svg",{viewBox:"0 0 24 24",className:"calendar-icon",children:c.jsx("path",{fill:"currentColor",d:"M19,4H17V3a1,1,0,0,0-2,0V4H9V3A1,1,0,0,0,7,3V4H5A2,2,0,0,0,3,6V20a2,2,0,0,0,2,2H19a2,2,0,0,0,2-2V6A2,2,0,0,0,19,4Zm0,16H5V10H19ZM9,14H7V12H9Zm4,0H11V12h2Zm4,0H15V12h2Zm-8,4H7V16H9Zm4,0H11V16h2Zm4,0H15V16h2Z"})}),"Apple / Outlook"]})]})}function Zv(){return c.jsxs("section",{className:"details",children:[c.jsx("h2",{children:"Mission Briefing"}),c.jsx(qv,{}),c.jsxs("div",{className:"detail-cards",children:[c.jsxs("div",{className:"detail-card",children:[c.jsx("span",{className:"icon",role:"img","aria-label":"calendar",children:""}),c.jsx("h3",{children:"Launch Date"}),c.jsx("p",{children:"Saturday, February 8th, 2026"})]}),c.jsxs("div",{className:"detail-card",children:[c.jsx("span",{className:"icon",role:"img","aria-label":"clock",children:""}),c.jsx("h3",{children:"Countdown Begins"}),c.jsx("p",{children:"10:00 AM"})]}),c.jsxs("div",{className:"detail-card location-card",children:[c.jsx("span",{className:"icon",role:"img","aria-label":"location",children:""}),c.jsx("h3",{children:"Mission Control"}),c.jsx("p",{children:Gv.split(" - ")[0]}),c.jsx("p",{className:"address",children:"Planetarium"}),c.jsx("p",{className:"address",children:"39 Scofieldtown Rd, Stamford, CT"}),c.jsxs("a",{href:Qv,target:"_blank",rel:"noopener noreferrer",className:"maps-link",children:[c.jsx("svg",{viewBox:"0 0 24 24",className:"maps-icon",children:c.jsx("path",{fill:"currentColor",d:"M12,2C8.13,2,5,5.13,5,9c0,5.25,7,13,7,13s7-7.75,7-13C19,5.13,15.87,2,12,2zm0,9.5c-1.38,0-2.5-1.12-2.5-2.5s1.12-2.5,2.5-2.5s2.5,1.12,2.5,2.5S13.38,11.5,12,11.5z"})}),"Open in Maps"]})]})]}),c.jsx(Xv,{})]})}var Ld={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E=function(t,e){if(!t)throw Er(e)},Er=function(t){return new Error("Firebase Database ("+Bp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Jv=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Bu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,f=s>>2,d=(s&3)<<4|l>>4;let h=(l&15)<<2|u>>6,g=u&63;a||(g=64,o||(h=64)),r.push(n[f],n[d],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Up(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Jv(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||d==null)throw new ey;const h=s<<2|l>>4;if(r.push(h),u!==64){const g=l<<4&240|u>>2;if(r.push(g),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ey extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vp=function(t){const e=Up(t);return Bu.encodeByteArray(e,!0)},Js=function(t){return Vp(t).replace(/\./g,"")},xa=function(t){try{return Bu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t){return Wp(void 0,t)}function Wp(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!ny(n)||(t[n]=Wp(t[n],e[n]));return t}function ny(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=()=>ry().__FIREBASE_DEFAULTS__,sy=()=>{if(typeof process>"u"||typeof Ld>"u")return;const t=Ld.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oy=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xa(t[1]);return e&&JSON.parse(e)},Hp=()=>{try{return iy()||sy()||oy()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ly=t=>{var e,n;return(n=(e=Hp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ay=t=>{const e=ly(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$p=()=>{var t;return(t=Hp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Js(JSON.stringify(n)),Js(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cy())}function dy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hy(){return Bp.NODE_ADMIN===!0}function fy(){try{return typeof indexedDB=="object"}catch{return!1}}function py(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="FirebaseError";class Bi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=my,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qp.prototype.create)}}class Qp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?gy(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Bi(i,l,r)}}function gy(t,e){return t.replace(_y,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _y=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t){return JSON.parse(t)}function de(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Si(xa(s[0])||""),n=Si(xa(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},vy=function(t){const e=Yp(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},yy=function(t){const e=Yp(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function mr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function jd(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function eo(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Na(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Fd(s)&&Fd(o)){if(!Na(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Fd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,f;for(let d=0;d<80;d++){d<40?d<20?(u=l^s&(o^l),f=1518500249):(u=s^o^l,f=1859775393):d<60?(u=s&o|l&(s|o),f=2400959708):(u=s^o^l,f=3395469782);const h=(i<<5|i>>>27)+u+a+f+r[d]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Mo(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,E(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Oo=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t){return t&&t._delegate?t._delegate:t}class Ei{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zi;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ny(e))try{this.getOrInitializeService({instanceIdentifier:gn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=gn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gn){return this.instances.has(e)}getOptions(e=gn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xy(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gn){return this.component?this.component.multipleInstances?e:gn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xy(t){return t===gn?void 0:t}function Ny(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ey(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(G||(G={}));const Iy={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},Ty=G.INFO,Ry={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},Py=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Ry[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kp{constructor(e){this.name=e,this._logLevel=Ty,this._logHandler=Py,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in G))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Iy[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...e),this._logHandler(this,G.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...e),this._logHandler(this,G.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,G.INFO,...e),this._logHandler(this,G.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,G.WARN,...e),this._logHandler(this,G.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...e),this._logHandler(this,G.ERROR,...e)}}const Ay=(t,e)=>e.some(n=>t instanceof n);let bd,zd;function Dy(){return bd||(bd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function My(){return zd||(zd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qp=new WeakMap,ka=new WeakMap,Xp=new WeakMap,yl=new WeakMap,Uu=new WeakMap;function Oy(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Zt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qp.set(n,t)}).catch(()=>{}),Uu.set(e,t),e}function Ly(t){if(ka.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ka.set(t,e)}let Ia={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ka.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xp.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jy(t){Ia=t(Ia)}function Fy(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wl(this),e,...n);return Xp.set(r,e.sort?e.sort():[e]),Zt(r)}:My().includes(t)?function(...e){return t.apply(wl(this),e),Zt(qp.get(this))}:function(...e){return Zt(t.apply(wl(this),e))}}function by(t){return typeof t=="function"?Fy(t):(t instanceof IDBTransaction&&Ly(t),Ay(t,Dy())?new Proxy(t,Ia):t)}function Zt(t){if(t instanceof IDBRequest)return Oy(t);if(yl.has(t))return yl.get(t);const e=by(t);return e!==t&&(yl.set(t,e),Uu.set(e,t)),e}const wl=t=>Uu.get(t);function zy(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Zt(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Zt(o.result),a.oldVersion,a.newVersion,Zt(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const By=["get","getKey","getAll","getAllKeys","count"],Uy=["put","add","delete","clear"],Cl=new Map;function Bd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cl.get(e))return Cl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Uy.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||By.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return Cl.set(e,s),s}jy(t=>({...t,get:(e,n,r)=>Bd(e,n)||t.get(e,n,r),has:(e,n)=>!!Bd(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Wy(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Wy(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ta="@firebase/app",Ud="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt=new Kp("@firebase/app"),Hy="@firebase/app-compat",$y="@firebase/analytics-compat",Gy="@firebase/analytics",Qy="@firebase/app-check-compat",Yy="@firebase/app-check",Ky="@firebase/auth",qy="@firebase/auth-compat",Xy="@firebase/database",Zy="@firebase/data-connect",Jy="@firebase/database-compat",e0="@firebase/functions",t0="@firebase/functions-compat",n0="@firebase/installations",r0="@firebase/installations-compat",i0="@firebase/messaging",s0="@firebase/messaging-compat",o0="@firebase/performance",l0="@firebase/performance-compat",a0="@firebase/remote-config",u0="@firebase/remote-config-compat",c0="@firebase/storage",d0="@firebase/storage-compat",h0="@firebase/firestore",f0="@firebase/vertexai-preview",p0="@firebase/firestore-compat",m0="firebase",g0="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="[DEFAULT]",_0={[Ta]:"fire-core",[Hy]:"fire-core-compat",[Gy]:"fire-analytics",[$y]:"fire-analytics-compat",[Yy]:"fire-app-check",[Qy]:"fire-app-check-compat",[Ky]:"fire-auth",[qy]:"fire-auth-compat",[Xy]:"fire-rtdb",[Zy]:"fire-data-connect",[Jy]:"fire-rtdb-compat",[e0]:"fire-fn",[t0]:"fire-fn-compat",[n0]:"fire-iid",[r0]:"fire-iid-compat",[i0]:"fire-fcm",[s0]:"fire-fcm-compat",[o0]:"fire-perf",[l0]:"fire-perf-compat",[a0]:"fire-rc",[u0]:"fire-rc-compat",[c0]:"fire-gcs",[d0]:"fire-gcs-compat",[h0]:"fire-fst",[p0]:"fire-fst-compat",[f0]:"fire-vertex","fire-js":"fire-js",[m0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new Map,v0=new Map,Pa=new Map;function Vd(t,e){try{t.container.addComponent(e)}catch(n){Dt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function no(t){const e=t.name;if(Pa.has(e))return Dt.debug(`There were multiple attempts to register component ${e}.`),!1;Pa.set(e,t);for(const n of to.values())Vd(n,t);for(const n of v0.values())Vd(n,t);return!0}function y0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jt=new Qp("app","Firebase",w0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jt.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=g0;function Zp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ra,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Jt.create("bad-app-name",{appName:String(i)});if(n||(n=$p()),!n)throw Jt.create("no-options");const s=to.get(i);if(s){if(Na(n,s.options)&&Na(r,s.config))return s;throw Jt.create("duplicate-app",{appName:i})}const o=new ky(i);for(const a of Pa.values())o.addComponent(a);const l=new C0(n,r,o);return to.set(i,l),l}function E0(t=Ra){const e=to.get(t);if(!e&&t===Ra&&$p())return Zp();if(!e)throw Jt.create("no-app",{appName:t});return e}function or(t,e,n){var r;let i=(r=_0[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dt.warn(l.join(" "));return}no(new Ei(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="firebase-heartbeat-database",N0=1,xi="firebase-heartbeat-store";let Sl=null;function Jp(){return Sl||(Sl=zy(x0,N0,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xi)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jt.create("idb-open",{originalErrorMessage:t.message})})),Sl}async function k0(t){try{const n=(await Jp()).transaction(xi),r=await n.objectStore(xi).get(em(t));return await n.done,r}catch(e){if(e instanceof Bi)Dt.warn(e.message);else{const n=Jt.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dt.warn(n.message)}}}async function Wd(t,e){try{const r=(await Jp()).transaction(xi,"readwrite");await r.objectStore(xi).put(e,em(t)),await r.done}catch(n){if(n instanceof Bi)Dt.warn(n.message);else{const r=Jt.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dt.warn(r.message)}}}function em(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=1024,T0=30*24*60*60*1e3;class R0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new A0(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Hd();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=T0}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Dt.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hd(),{heartbeatsToSend:r,unsentEntries:i}=P0(this._heartbeatsCache.heartbeats),s=Js(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Dt.warn(n),""}}}function Hd(){return new Date().toISOString().substring(0,10)}function P0(t,e=I0){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),$d(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$d(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class A0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fy()?py().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await k0(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Wd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Wd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $d(t){return Js(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t){no(new Ei("platform-logger",e=>new Vy(e),"PRIVATE")),no(new Ei("heartbeat",e=>new R0(e),"PRIVATE")),or(Ta,Ud,t),or(Ta,Ud,"esm2017"),or("fire-js","")}D0("");var Gd={};const Qd="@firebase/database",Yd="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tm="";function M0(t){tm=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),de(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Si(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return _t(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new O0(e)}}catch{}return new L0},Cn=nm("localStorage"),j0=nm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new Kp("@firebase/database"),F0=function(){let t=1;return function(){return t++}}(),rm=function(t){const e=Sy(t),n=new Cy;n.update(e);const r=n.digest();return Bu.encodeByteArray(r)},Ui=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ui.apply(null,r):typeof r=="object"?e+=de(r):e+=r,e+=" "}return e};let ei=null,Kd=!0;const b0=function(t,e){E(!0,"Can't turn on custom loggers persistently."),lr.logLevel=G.VERBOSE,ei=lr.log.bind(lr)},ye=function(...t){if(Kd===!0&&(Kd=!1,ei===null&&j0.get("logging_enabled")===!0&&b0()),ei){const e=Ui.apply(null,t);ei(e)}},Vi=function(t){return function(...e){ye(t,...e)}},Aa=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ui(...t);lr.error(e)},Mt=function(...t){const e=`FIREBASE FATAL ERROR: ${Ui(...t)}`;throw lr.error(e),new Error(e)},Pe=function(...t){const e="FIREBASE WARNING: "+Ui(...t);lr.warn(e)},z0=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Pe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Vu=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},B0=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Pn="[MIN_NAME]",sn="[MAX_NAME]",Ln=function(t,e){if(t===e)return 0;if(t===Pn||e===sn)return-1;if(e===Pn||t===sn)return 1;{const n=qd(t),r=qd(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},U0=function(t,e){return t===e?0:t<e?-1:1},Fr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+de(e))},Wu=function(t){if(typeof t!="object"||t===null)return de(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=de(e[r]),n+=":",n+=Wu(t[e[r]]);return n+="}",n},im=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Se(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const sm=function(t){E(!Vu(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,a;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const f=u.join("");let d="";for(a=0;a<64;a+=8){let h=parseInt(f.substr(a,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},V0=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},W0=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function H0(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const $0=new RegExp("^-?(0*)\\d{1,10}$"),G0=-2147483648,Q0=2147483647,qd=function(t){if($0.test(t)){const e=Number(t);if(e>=G0&&e<=Q0)return e}return null},xr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Pe("Exception was thrown by user callback.",n),e},Math.floor(0))}},Y0=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ti=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Pe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ye("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pe(e)}}class Ts{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ts.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu="5",om="v",lm="s",am="r",um="f",cm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,dm="ls",hm="p",Da="ac",fm="websocket",pm="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Cn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Cn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function X0(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function gm(t,e,n){E(typeof e=="string","typeof type must == string"),E(typeof n=="object","typeof params must == object");let r;if(e===fm)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===pm)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);X0(t)&&(n.ns=t.namespace);const i=[];return Se(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(){this.counters_={}}incrementCounter(e,n=1){_t(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return ty(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El={},xl={};function $u(t){const e=t.toString();return El[e]||(El[e]=new Z0),El[e]}function J0(t,e){const n=t.toString();return xl[n]||(xl[n]=e()),xl[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&xr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="start",tw="close",nw="pLPCommand",rw="pRTLPCB",_m="id",vm="pw",ym="ser",iw="cb",sw="seg",ow="ts",lw="d",aw="dframe",wm=1870,Cm=30,uw=wm-Cm,cw=25e3,dw=3e4;class Jn{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vi(e),this.stats_=$u(n),this.urlFn=a=>(this.appCheckToken&&(a[Da]=this.appCheckToken),gm(n,pm,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new ew(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(dw)),B0(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Gu((...s)=>{const[o,l,a,u,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Xd)this.id=l,this.password=a;else if(o===tw)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Xd]="t",r[ym]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[iw]=this.scriptTagHolder.uniqueCallbackIdentifier),r[om]=Hu,this.transportSessionId&&(r[lm]=this.transportSessionId),this.lastSessionId&&(r[dm]=this.lastSessionId),this.applicationId&&(r[hm]=this.applicationId),this.appCheckToken&&(r[Da]=this.appCheckToken),typeof location<"u"&&location.hostname&&cm.test(location.hostname)&&(r[am]=um);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Jn.forceAllow_=!0}static forceDisallow(){Jn.forceDisallow_=!0}static isAvailable(){return Jn.forceAllow_?!0:!Jn.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!V0()&&!W0()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=de(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Vp(n),i=im(r,uw);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[aw]="t",r[_m]=e,r[vm]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=de(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Gu{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=F0(),window[nw+this.uniqueCallbackIdentifier]=e,window[rw+this.uniqueCallbackIdentifier]=n,this.myIFrame=Gu.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){ye("frame writing exception"),l.stack&&ye(l.stack),ye(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ye("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[_m]=this.myID,e[vm]=this.myPW,e[ym]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Cm+r.length<=wm;){const o=this.pendingSegs.shift();r=r+"&"+sw+i+"="+o.seg+"&"+ow+i+"="+o.ts+"&"+lw+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(cw)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ye("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=16384,fw=45e3;let ro=null;typeof MozWebSocket<"u"?ro=MozWebSocket:typeof WebSocket<"u"&&(ro=WebSocket);class ot{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vi(this.connId),this.stats_=$u(n),this.connURL=ot.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[om]=Hu,typeof location<"u"&&location.hostname&&cm.test(location.hostname)&&(o[am]=um),n&&(o[lm]=n),r&&(o[dm]=r),i&&(o[Da]=i),s&&(o[hm]=s),gm(e,fm,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Cn.set("previous_websocket_failure",!0);try{let r;hy(),this.mySock=new ro(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ot.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&ro!==null&&!ot.forceDisallow_}static previouslyFailed(){return Cn.isInMemoryStorage||Cn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Cn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Si(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(E(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=de(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=im(n,hw);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(fw))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ot.responsesRequiredToBeHealthy=2;ot.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Jn,ot]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ot&&ot.isAvailable();let r=n&&!ot.previouslyFailed();if(e.webSocketOnly&&(n||Pe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ot];else{const i=this.transports_=[];for(const s of Ni.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Ni.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ni.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=6e4,mw=5e3,gw=10*1024,_w=100*1024,Nl="t",Zd="d",vw="s",Jd="r",yw="e",eh="o",th="a",nh="n",rh="p",ww="h";class Cw{constructor(e,n,r,i,s,o,l,a,u,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vi("c:"+this.id+":"),this.transportManager_=new Ni(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ti(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>_w?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>gw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Nl in e){const n=e[Nl];n===th?this.upgradeIfSecondaryHealthy_():n===Jd?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===eh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Fr("t",e),r=Fr("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:rh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:th,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:nh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Fr("t",e),r=Fr("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Fr(Nl,e);if(Zd in e){const r=e[Zd];if(n===ww){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===nh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===vw?this.onConnectionShutdown_(r):n===Jd?this.onReset_(r):n===yw?Aa("Server Error: "+r):n===eh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Aa("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Hu!==r&&Pe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ti(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(pw))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ti(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(mw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:rh,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Cn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e){this.allowedEvents_=e,this.listeners_={},E(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){E(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends Em{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Gp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new io}getInitialEvent(e){return E(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=32,sh=768;class H{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function B(){return new H("")}function L(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function on(t){return t.pieces_.length-t.pieceNum_}function Q(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new H(t.pieces_,e)}function Qu(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Sw(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ki(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function xm(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new H(e,0)}function se(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof H)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new H(n,0)}function j(t){return t.pieceNum_>=t.pieces_.length}function Te(t,e){const n=L(t),r=L(e);if(n===null)return e;if(n===r)return Te(Q(t),Q(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ew(t,e){const n=ki(t,0),r=ki(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Ln(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Yu(t,e){if(on(t)!==on(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ke(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(on(t)>on(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class xw{constructor(e,n){this.errorPrefix_=n,this.parts_=ki(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Oo(this.parts_[r]);Nm(this)}}function Nw(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Oo(e),Nm(t)}function kw(t){const e=t.parts_.pop();t.byteLength_-=Oo(e),t.parts_.length>0&&(t.byteLength_-=1)}function Nm(t){if(t.byteLength_>sh)throw new Error(t.errorPrefix_+"has a key path longer than "+sh+" bytes ("+t.byteLength_+").");if(t.parts_.length>ih)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ih+") or object contains a cycle "+_n(t))}function _n(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends Em{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Ku}getInitialEvent(e){return E(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=1e3,Iw=60*5*1e3,oh=30*1e3,Tw=1.3,Rw=3e4,Pw="server_kill",lh=3;class It extends Sm{constructor(e,n,r,i,s,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=It.nextPersistentConnectionId_++,this.log_=Vi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=br,this.maxReconnectDelay_=Iw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ku.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&io.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(de(s)),E(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new zi,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),E(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),E(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;It.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&_t(e,"w")){const r=mr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Pe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||yy(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=oh)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=vy(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),E(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+de(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Aa("Unrecognized action received from server: "+de(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){E(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=br,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=br,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Rw&&(this.reconnectDelay_=br),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Tw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+It.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(d){E(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:u};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?ye("getToken() completed but was canceled"):(ye("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,l=new Cw(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{Pe(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(Pw)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Pe(d),a())}}}interrupt(e){ye("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ye("Resuming connection for reason: "+e),delete this.interruptReasons_[e],jd(this.interruptReasons_)&&(this.reconnectDelay_=br,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Wu(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new H(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){ye("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lh&&(this.reconnectDelay_=oh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ye("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+tm.replace(/\./g,"-")]=1,Gp()?e["framework.cordova"]=1:dy()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=io.getInstance().currentlyOnline();return jd(this.interruptReasons_)&&e}}It.nextPersistentConnectionId_=0;It.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new F(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new F(Pn,e),i=new F(Pn,n);return this.compare(r,i)!==0}minPost(){return F.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hs;class km extends Lo{static get __EMPTY_NODE(){return hs}static set __EMPTY_NODE(e){hs=e}compare(e,n){return Ln(e.name,n.name)}isDefinedOn(e){throw Er("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return F.MIN}maxPost(){return new F(sn,hs)}makePost(e,n){return E(typeof e=="string","KeyIndex indexValue must always be a string."),new F(e,hs)}toString(){return".key"}}const xn=new km;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class me{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??me.RED,this.left=i??je.EMPTY_NODE,this.right=s??je.EMPTY_NODE}copy(e,n,r,i,s){return new me(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return je.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return je.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,me.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,me.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}me.RED=!0;me.BLACK=!1;class Aw{copy(e,n,r,i,s){return this}insert(e,n,r){return new me(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class je{constructor(e,n=je.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new je(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,me.BLACK,null,null))}remove(e){return new je(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,me.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new fs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new fs(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new fs(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new fs(this.root_,null,this.comparator_,!0,e)}}je.EMPTY_NODE=new Aw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(t,e){return Ln(t.name,e.name)}function qu(t,e){return Ln(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma;function Mw(t){Ma=t}const Im=function(t){return typeof t=="number"?"number:"+sm(t):"string:"+t},Tm=function(t){if(t.isLeafNode()){const e=t.val();E(typeof e=="string"||typeof e=="number"||typeof e=="object"&&_t(e,".sv"),"Priority must be a string or number.")}else E(t===Ma||t.isEmpty(),"priority of unexpected type.");E(t===Ma||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah;class fe{constructor(e,n=fe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,E(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Tm(this.priorityNode_)}static set __childrenNodeConstructor(e){ah=e}static get __childrenNodeConstructor(){return ah}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new fe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:fe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return j(e)?this:L(e)===".priority"?this.priorityNode_:fe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:fe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=L(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(E(r!==".priority"||on(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,fe.__childrenNodeConstructor.EMPTY_NODE.updateChild(Q(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Im(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=sm(this.value_):e+=this.value_,this.lazyHash_=rm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===fe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof fe.__childrenNodeConstructor?-1:(E(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=fe.VALUE_TYPE_ORDER.indexOf(n),s=fe.VALUE_TYPE_ORDER.indexOf(r);return E(i>=0,"Unknown leaf type: "+n),E(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}fe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rm,Pm;function Ow(t){Rm=t}function Lw(t){Pm=t}class jw extends Lo{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ln(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return F.MIN}maxPost(){return new F(sn,new fe("[PRIORITY-POST]",Pm))}makePost(e,n){const r=Rm(e);return new F(n,new fe("[PRIORITY-POST]",r))}toString(){return".priority"}}const te=new jw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=Math.log(2);class bw{constructor(e){const n=s=>parseInt(Math.log(s)/Fw,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const so=function(t,e,n,r){t.sort(e);const i=function(a,u){const f=u-a;let d,h;if(f===0)return null;if(f===1)return d=t[a],h=n?n(d):d,new me(h,d.node,me.BLACK,null,null);{const g=parseInt(f/2,10)+a,v=i(a,g),y=i(g+1,u);return d=t[g],h=n?n(d):d,new me(h,d.node,me.BLACK,v,y)}},s=function(a){let u=null,f=null,d=t.length;const h=function(v,y){const P=d-v,m=d;d-=v;const p=i(P+1,m),_=t[P],w=n?n(_):_;g(new me(w,_.node,y,null,p))},g=function(v){u?(u.left=v,u=v):(f=v,u=v)};for(let v=0;v<a.count;++v){const y=a.nextBitIsOne(),P=Math.pow(2,a.count-(v+1));y?h(P,me.BLACK):(h(P,me.BLACK),h(P,me.RED))}return f},o=new bw(t.length),l=s(o);return new je(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kl;const Bn={};class Et{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return E(Bn&&te,"ChildrenNode.ts has not been loaded"),kl=kl||new Et({".priority":Bn},{".priority":te}),kl}get(e){const n=mr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof je?n:null}hasIndex(e){return _t(this.indexSet_,e.toString())}addIndex(e,n){E(e!==xn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(F.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=so(r,e.getCompare()):l=Bn;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const f=Object.assign({},this.indexes_);return f[a]=l,new Et(f,u)}addToIndexes(e,n){const r=eo(this.indexes_,(i,s)=>{const o=mr(this.indexSet_,s);if(E(o,"Missing index implementation for "+s),i===Bn)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(F.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&l.push(u),u=a.getNext();return l.push(e),so(l,o.getCompare())}else return Bn;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new F(e.name,l))),a.insert(e,e.node)}});return new Et(r,this.indexSet_)}removeFromIndexes(e,n){const r=eo(this.indexes_,i=>{if(i===Bn)return i;{const s=n.get(e.name);return s?i.remove(new F(e.name,s)):i}});return new Et(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zr;class D{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Tm(this.priorityNode_),this.children_.isEmpty()&&E(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return zr||(zr=new D(new je(qu),null,Et.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zr}updatePriority(e){return this.children_.isEmpty()?this:new D(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?zr:n}}getChild(e){const n=L(e);return n===null?this:this.getImmediateChild(n).getChild(Q(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(E(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new F(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?zr:this.priorityNode_;return new D(i,o,s)}}updateChild(e,n){const r=L(e);if(r===null)return n;{E(L(e)!==".priority"||on(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Q(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(te,(o,l)=>{n[o]=l.val(e),r++,s&&D.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Im(this.getPriority().val())+":"),this.forEachChild(te,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":rm(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new F(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new F(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new F(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,F.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,F.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Wi?-1:0}withIndex(e){if(e===xn||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new D(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===xn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(te),i=n.getIterator(te);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===xn?null:this.indexMap_.get(e.toString())}}D.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class zw extends D{constructor(){super(new je(qu),D.EMPTY_NODE,Et.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return D.EMPTY_NODE}isEmpty(){return!1}}const Wi=new zw;Object.defineProperties(F,{MIN:{value:new F(Pn,D.EMPTY_NODE)},MAX:{value:new F(sn,Wi)}});km.__EMPTY_NODE=D.EMPTY_NODE;fe.__childrenNodeConstructor=D;Mw(Wi);Lw(Wi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=!0;function ce(t,e=null){if(t===null)return D.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),E(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new fe(n,ce(e))}if(!(t instanceof Array)&&Bw){const n=[];let r=!1;if(Se(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=ce(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new F(o,a)))}}),n.length===0)return D.EMPTY_NODE;const s=so(n,Dw,o=>o.name,qu);if(r){const o=so(n,te.getCompare());return new D(s,ce(e),new Et({".priority":o},{".priority":te}))}else return new D(s,ce(e),Et.Default)}else{let n=D.EMPTY_NODE;return Se(t,(r,i)=>{if(_t(t,r)&&r.substring(0,1)!=="."){const s=ce(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(ce(e))}}Ow(ce);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends Lo{constructor(e){super(),this.indexPath_=e,E(!j(e)&&L(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ln(e.name,n.name):s}makePost(e,n){const r=ce(e),i=D.EMPTY_NODE.updateChild(this.indexPath_,r);return new F(n,i)}maxPost(){const e=D.EMPTY_NODE.updateChild(this.indexPath_,Wi);return new F(sn,e)}toString(){return ki(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw extends Lo{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ln(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return F.MIN}maxPost(){return F.MAX}makePost(e,n){const r=ce(e);return new F(n,r)}toString(){return".value"}}const Am=new Uw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t){return{type:"value",snapshotNode:t}}function gr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ii(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ti(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Vw(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){E(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Ii(n,l)):E(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(gr(n,r)):o.trackChildChange(Ti(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(te,(i,s)=>{n.hasChild(i)||r.trackChildChange(Ii(i,s))}),n.isLeafNode()||n.forEachChild(te,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Ti(i,s,o))}else r.trackChildChange(gr(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?D.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.indexedFilter_=new Zu(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ri.getStartPost_(e),this.endPost_=Ri.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new F(n,r))||(r=D.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=D.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(D.EMPTY_NODE);const s=this;return n.forEachChild(te,(o,l)=>{s.matches(new F(o,l))||(i=i.updateImmediateChild(o,D.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ri(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new F(n,r))||(r=D.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=D.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=D.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(D.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,D.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,g)=>d(g,h)}else o=this.index_.getCompare();const l=e;E(l.numChildren()===this.limit_,"");const a=new F(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),f=this.rangedFilter_.matches(a);if(l.hasChild(n)){const d=l.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||l.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const g=h==null?1:o(h,a);if(f&&!r.isEmpty()&&g>=0)return s!=null&&s.trackChildChange(Ti(n,r,d)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Ii(n,d));const y=l.updateImmediateChild(n,D.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(gr(h.name,h.node)),y.updateImmediateChild(h.name,h.node)):y}}else return r.isEmpty()?e:f&&o(u,a)>=0?(s!=null&&(s.trackChildChange(Ii(u.name,u.node)),s.trackChildChange(gr(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,D.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=te}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return E(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return E(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Pn}hasEnd(){return this.endSet_}getIndexEndValue(){return E(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return E(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:sn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return E(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===te}copy(){const e=new Ju;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Hw(t){return t.loadsAllData()?new Zu(t.getIndex()):t.hasLimit()?new Ww(t):new Ri(t)}function $w(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Gw(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Qw(t,e){const n=t.copy();return n.index_=e,n}function uh(t){const e={};if(t.isDefault())return e;let n;if(t.index_===te?n="$priority":t.index_===Am?n="$value":t.index_===xn?n="$key":(E(t.index_ instanceof Xu,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=de(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=de(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+de(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=de(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+de(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function ch(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==te&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Sm{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Vi("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(E(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=oo.getListenId_(e,r),l={};this.listens_[o]=l;const a=uh(e._queryParams);this.restRequest_(s+".json",a,(u,f)=>{let d=f;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),mr(this.listens_,o)===l){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=oo.getListenId_(e,n);delete this.listens_[r]}get(e){const n=uh(e._queryParams),r=e._path.toString(),i=new zi;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+wy(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Si(l.responseText)}catch{Pe("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&Pe("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.rootNode_=D.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(){return{value:null,children:new Map}}function Mm(t,e,n){if(j(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=L(e);t.children.has(r)||t.children.set(r,lo());const i=t.children.get(r);e=Q(e),Mm(i,e,n)}}function Oa(t,e,n){t.value!==null?n(e,t.value):Kw(t,(r,i)=>{const s=new H(e.toString()+"/"+r);Oa(i,s,n)})}function Kw(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Se(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=10*1e3,Xw=30*1e3,Zw=5*60*1e3;class Jw{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new qw(e);const r=dh+(Xw-dh)*Math.random();ti(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Se(e,(i,s)=>{s>0&&_t(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),ti(this.reportStats_.bind(this),Math.floor(Math.random()*2*Zw))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(lt||(lt={}));function ec(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function tc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function nc(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=lt.ACK_USER_WRITE,this.source=ec()}operationForChild(e){if(j(this.path)){if(this.affectedTree.value!=null)return E(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new H(e));return new ao(B(),n,this.revert)}}else return E(L(this.path)===e,"operationForChild called for unrelated child."),new ao(Q(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n){this.source=e,this.path=n,this.type=lt.LISTEN_COMPLETE}operationForChild(e){return j(this.path)?new Pi(this.source,B()):new Pi(this.source,Q(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=lt.OVERWRITE}operationForChild(e){return j(this.path)?new An(this.source,B(),this.snap.getImmediateChild(e)):new An(this.source,Q(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=lt.MERGE}operationForChild(e){if(j(this.path)){const n=this.children.subtree(new H(e));return n.isEmpty()?null:n.value?new An(this.source,B(),n.value):new _r(this.source,B(),n)}else return E(L(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new _r(this.source,Q(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(j(e))return this.isFullyInitialized()&&!this.filtered_;const n=L(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function tC(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Vw(o.childName,o.snapshotNode))}),Br(t,i,"child_removed",e,r,n),Br(t,i,"child_added",e,r,n),Br(t,i,"child_moved",s,r,n),Br(t,i,"child_changed",e,r,n),Br(t,i,"value",e,r,n),i}function Br(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>rC(t,l,a)),o.forEach(l=>{const a=nC(t,l,s);i.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(a,t.query_))})})}function nC(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function rC(t,e,n){if(e.childName==null||n.childName==null)throw Er("Should only compare child_ events.");const r=new F(e.childName,e.snapshotNode),i=new F(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(t,e){return{eventCache:t,serverCache:e}}function ni(t,e,n,r){return jo(new ln(e,n,r),t.serverCache)}function Om(t,e,n,r){return jo(t.eventCache,new ln(e,n,r))}function uo(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Dn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il;const iC=()=>(Il||(Il=new je(U0)),Il);class ${constructor(e,n=iC()){this.value=e,this.children=n}static fromObject(e){let n=new $(null);return Se(e,(r,i)=>{n=n.set(new H(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:B(),value:this.value};if(j(e))return null;{const r=L(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Q(e),n);return s!=null?{path:se(new H(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(j(e))return this;{const n=L(e),r=this.children.get(n);return r!==null?r.subtree(Q(e)):new $(null)}}set(e,n){if(j(e))return new $(n,this.children);{const r=L(e),s=(this.children.get(r)||new $(null)).set(Q(e),n),o=this.children.insert(r,s);return new $(this.value,o)}}remove(e){if(j(e))return this.children.isEmpty()?new $(null):new $(null,this.children);{const n=L(e),r=this.children.get(n);if(r){const i=r.remove(Q(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new $(null):new $(this.value,s)}else return this}}get(e){if(j(e))return this.value;{const n=L(e),r=this.children.get(n);return r?r.get(Q(e)):null}}setTree(e,n){if(j(e))return n;{const r=L(e),s=(this.children.get(r)||new $(null)).setTree(Q(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new $(this.value,o)}}fold(e){return this.fold_(B(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(se(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,B(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(j(e))return null;{const s=L(e),o=this.children.get(s);return o?o.findOnPath_(Q(e),se(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,B(),n)}foreachOnPath_(e,n,r){if(j(e))return this;{this.value&&r(n,this.value);const i=L(e),s=this.children.get(i);return s?s.foreachOnPath_(Q(e),se(n,i),r):new $(null)}}foreach(e){this.foreach_(B(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(se(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.writeTree_=e}static empty(){return new ct(new $(null))}}function ri(t,e,n){if(j(e))return new ct(new $(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Te(i,e);return s=s.updateChild(o,n),new ct(t.writeTree_.set(i,s))}else{const i=new $(n),s=t.writeTree_.setTree(e,i);return new ct(s)}}}function La(t,e,n){let r=t;return Se(n,(i,s)=>{r=ri(r,se(e,i),s)}),r}function hh(t,e){if(j(e))return ct.empty();{const n=t.writeTree_.setTree(e,new $(null));return new ct(n)}}function ja(t,e){return jn(t,e)!=null}function jn(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Te(n.path,e)):null}function fh(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(te,(r,i)=>{e.push(new F(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new F(r,i.value))}),e}function en(t,e){if(j(e))return t;{const n=jn(t,e);return n!=null?new ct(new $(n)):new ct(t.writeTree_.subtree(e))}}function Fa(t){return t.writeTree_.isEmpty()}function vr(t,e){return Lm(B(),t.writeTree_,e)}function Lm(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(E(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Lm(se(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(se(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(t,e){return zm(e,t)}function sC(t,e,n,r,i){E(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ri(t.visibleWrites,e,n)),t.lastWriteId=r}function oC(t,e,n,r){E(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=La(t.visibleWrites,e,n),t.lastWriteId=r}function lC(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function aC(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);E(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&uC(l,r.path)?i=!1:Ke(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return cC(t),!0;if(r.snap)t.visibleWrites=hh(t.visibleWrites,r.path);else{const l=r.children;Se(l,a=>{t.visibleWrites=hh(t.visibleWrites,se(r.path,a))})}return!0}else return!1}function uC(t,e){if(t.snap)return Ke(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ke(se(t.path,n),e))return!0;return!1}function cC(t){t.visibleWrites=jm(t.allWrites,dC,B()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function dC(t){return t.visible}function jm(t,e,n){let r=ct.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)Ke(n,o)?(l=Te(n,o),r=ri(r,l,s.snap)):Ke(o,n)&&(l=Te(o,n),r=ri(r,B(),s.snap.getChild(l)));else if(s.children){if(Ke(n,o))l=Te(n,o),r=La(r,l,s.children);else if(Ke(o,n))if(l=Te(o,n),j(l))r=La(r,B(),s.children);else{const a=mr(s.children,L(l));if(a){const u=a.getChild(Q(l));r=ri(r,B(),u)}}}else throw Er("WriteRecord should have .snap or .children")}}return r}function Fm(t,e,n,r,i){if(!r&&!i){const s=jn(t.visibleWrites,e);if(s!=null)return s;{const o=en(t.visibleWrites,e);if(Fa(o))return n;if(n==null&&!ja(o,B()))return null;{const l=n||D.EMPTY_NODE;return vr(o,l)}}}else{const s=en(t.visibleWrites,e);if(!i&&Fa(s))return n;if(!i&&n==null&&!ja(s,B()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ke(u.path,e)||Ke(e,u.path))},l=jm(t.allWrites,o,e),a=n||D.EMPTY_NODE;return vr(l,a)}}}function hC(t,e,n){let r=D.EMPTY_NODE;const i=jn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(te,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=en(t.visibleWrites,e);return n.forEachChild(te,(o,l)=>{const a=vr(en(s,new H(o)),l);r=r.updateImmediateChild(o,a)}),fh(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=en(t.visibleWrites,e);return fh(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function fC(t,e,n,r,i){E(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=se(e,n);if(ja(t.visibleWrites,s))return null;{const o=en(t.visibleWrites,s);return Fa(o)?i.getChild(n):vr(o,i.getChild(n))}}function pC(t,e,n,r){const i=se(e,n),s=jn(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=en(t.visibleWrites,i);return vr(o,r.getNode().getImmediateChild(n))}else return null}function mC(t,e){return jn(t.visibleWrites,e)}function gC(t,e,n,r,i,s,o){let l;const a=en(t.visibleWrites,e),u=jn(a,B());if(u!=null)l=u;else if(n!=null)l=vr(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const f=[],d=o.getCompare(),h=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let g=h.getNext();for(;g&&f.length<i;)d(g,r)!==0&&f.push(g),g=h.getNext();return f}else return[]}function _C(){return{visibleWrites:ct.empty(),allWrites:[],lastWriteId:-1}}function co(t,e,n,r){return Fm(t.writeTree,t.treePath,e,n,r)}function rc(t,e){return hC(t.writeTree,t.treePath,e)}function ph(t,e,n,r){return fC(t.writeTree,t.treePath,e,n,r)}function ho(t,e){return mC(t.writeTree,se(t.treePath,e))}function vC(t,e,n,r,i,s){return gC(t.writeTree,t.treePath,e,n,r,i,s)}function ic(t,e,n){return pC(t.writeTree,t.treePath,e,n)}function bm(t,e){return zm(se(t.treePath,e),t.writeTree)}function zm(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;E(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),E(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Ti(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Ii(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,gr(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Ti(r,e.snapshotNode,i.oldSnap));else throw Er("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Bm=new wC;class sc{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ln(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ic(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Dn(this.viewCache_),s=vC(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(t){return{filter:t}}function SC(t,e){E(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),E(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function EC(t,e,n,r,i){const s=new yC;let o,l;if(n.type===lt.OVERWRITE){const u=n;u.source.fromUser?o=ba(t,e,u.path,u.snap,r,i,s):(E(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!j(u.path),o=fo(t,e,u.path,u.snap,r,i,l,s))}else if(n.type===lt.MERGE){const u=n;u.source.fromUser?o=NC(t,e,u.path,u.children,r,i,s):(E(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=za(t,e,u.path,u.children,r,i,l,s))}else if(n.type===lt.ACK_USER_WRITE){const u=n;u.revert?o=TC(t,e,u.path,r,i,s):o=kC(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===lt.LISTEN_COMPLETE)o=IC(t,e,n.path,r,s);else throw Er("Unknown operation type: "+n.type);const a=s.getChanges();return xC(e,o,a),{viewCache:o,changes:a}}function xC(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=uo(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Dm(uo(e)))}}function Um(t,e,n,r,i,s){const o=e.eventCache;if(ho(r,n)!=null)return e;{let l,a;if(j(n))if(E(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Dn(e),f=u instanceof D?u:D.EMPTY_NODE,d=rc(r,f);l=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=co(r,Dn(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=L(n);if(u===".priority"){E(on(n)===1,"Can't have a priority with additional path components");const f=o.getNode();a=e.serverCache.getNode();const d=ph(r,n,f,a);d!=null?l=t.filter.updatePriority(f,d):l=o.getNode()}else{const f=Q(n);let d;if(o.isCompleteForChild(u)){a=e.serverCache.getNode();const h=ph(r,n,o.getNode(),a);h!=null?d=o.getNode().getImmediateChild(u).updateChild(f,h):d=o.getNode().getImmediateChild(u)}else d=ic(r,u,e.serverCache);d!=null?l=t.filter.updateChild(o.getNode(),u,d,f,i,s):l=o.getNode()}}return ni(e,l,o.isFullyInitialized()||j(n),t.filter.filtersNodes())}}function fo(t,e,n,r,i,s,o,l){const a=e.serverCache;let u;const f=o?t.filter:t.filter.getIndexedFilter();if(j(n))u=f.updateFullNode(a.getNode(),r,null);else if(f.filtersNodes()&&!a.isFiltered()){const g=a.getNode().updateChild(n,r);u=f.updateFullNode(a.getNode(),g,null)}else{const g=L(n);if(!a.isCompleteForPath(n)&&on(n)>1)return e;const v=Q(n),P=a.getNode().getImmediateChild(g).updateChild(v,r);g===".priority"?u=f.updatePriority(a.getNode(),P):u=f.updateChild(a.getNode(),g,P,v,Bm,null)}const d=Om(e,u,a.isFullyInitialized()||j(n),f.filtersNodes()),h=new sc(i,d,s);return Um(t,d,n,i,h,l)}function ba(t,e,n,r,i,s,o){const l=e.eventCache;let a,u;const f=new sc(i,e,s);if(j(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=ni(e,u,!0,t.filter.filtersNodes());else{const d=L(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),a=ni(e,u,l.isFullyInitialized(),l.isFiltered());else{const h=Q(n),g=l.getNode().getImmediateChild(d);let v;if(j(h))v=r;else{const y=f.getCompleteChild(d);y!=null?Qu(h)===".priority"&&y.getChild(xm(h)).isEmpty()?v=y:v=y.updateChild(h,r):v=D.EMPTY_NODE}if(g.equals(v))a=e;else{const y=t.filter.updateChild(l.getNode(),d,v,h,f,o);a=ni(e,y,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function mh(t,e){return t.eventCache.isCompleteForChild(e)}function NC(t,e,n,r,i,s,o){let l=e;return r.foreach((a,u)=>{const f=se(n,a);mh(e,L(f))&&(l=ba(t,l,f,u,i,s,o))}),r.foreach((a,u)=>{const f=se(n,a);mh(e,L(f))||(l=ba(t,l,f,u,i,s,o))}),l}function gh(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function za(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;j(n)?u=r:u=new $(null).setTree(n,r);const f=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(f.hasChild(d)){const g=e.serverCache.getNode().getImmediateChild(d),v=gh(t,g,h);a=fo(t,a,new H(d),v,i,s,o,l)}}),u.children.inorderTraversal((d,h)=>{const g=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!f.hasChild(d)&&!g){const v=e.serverCache.getNode().getImmediateChild(d),y=gh(t,v,h);a=fo(t,a,new H(d),y,i,s,o,l)}}),a}function kC(t,e,n,r,i,s,o){if(ho(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(j(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return fo(t,e,n,a.getNode().getChild(n),i,s,l,o);if(j(n)){let u=new $(null);return a.getNode().forEachChild(xn,(f,d)=>{u=u.set(new H(f),d)}),za(t,e,n,u,i,s,l,o)}else return e}else{let u=new $(null);return r.foreach((f,d)=>{const h=se(n,f);a.isCompleteForPath(h)&&(u=u.set(f,a.getNode().getChild(h)))}),za(t,e,n,u,i,s,l,o)}}function IC(t,e,n,r,i){const s=e.serverCache,o=Om(e,s.getNode(),s.isFullyInitialized()||j(n),s.isFiltered());return Um(t,o,n,r,Bm,i)}function TC(t,e,n,r,i,s){let o;if(ho(r,n)!=null)return e;{const l=new sc(r,e,i),a=e.eventCache.getNode();let u;if(j(n)||L(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=co(r,Dn(e));else{const d=e.serverCache.getNode();E(d instanceof D,"serverChildren would be complete if leaf node"),f=rc(r,d)}f=f,u=t.filter.updateFullNode(a,f,s)}else{const f=L(n);let d=ic(r,f,e.serverCache);d==null&&e.serverCache.isCompleteForChild(f)&&(d=a.getImmediateChild(f)),d!=null?u=t.filter.updateChild(a,f,d,Q(n),l,s):e.eventCache.getNode().hasChild(f)?u=t.filter.updateChild(a,f,D.EMPTY_NODE,Q(n),l,s):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=co(r,Dn(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||ho(r,B())!=null,ni(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Zu(r.getIndex()),s=Hw(r);this.processor_=CC(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(D.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(D.EMPTY_NODE,l.getNode(),null),f=new ln(a,o.isFullyInitialized(),i.filtersNodes()),d=new ln(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=jo(d,f),this.eventGenerator_=new eC(this.query_)}get query(){return this.query_}}function PC(t){return t.viewCache_.serverCache.getNode()}function AC(t){return uo(t.viewCache_)}function DC(t,e){const n=Dn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!j(e)&&!n.getImmediateChild(L(e)).isEmpty())?n.getChild(e):null}function _h(t){return t.eventRegistrations_.length===0}function MC(t,e){t.eventRegistrations_.push(e)}function vh(t,e,n){const r=[];if(n){E(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function yh(t,e,n,r){e.type===lt.MERGE&&e.source.queryId!==null&&(E(Dn(t.viewCache_),"We should always have a full cache before handling merges"),E(uo(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=EC(t.processor_,i,e,n,r);return SC(t.processor_,s.viewCache),E(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Vm(t,s.changes,s.viewCache.eventCache.getNode(),null)}function OC(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(te,(s,o)=>{r.push(gr(s,o))}),n.isFullyInitialized()&&r.push(Dm(n.getNode())),Vm(t,r,n.getNode(),e)}function Vm(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return tC(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po;class Wm{constructor(){this.views=new Map}}function LC(t){E(!po,"__referenceConstructor has already been defined"),po=t}function jC(){return E(po,"Reference.ts has not been loaded"),po}function FC(t){return t.views.size===0}function oc(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return E(s!=null,"SyncTree gave us an op for an invalid query."),yh(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(yh(o,e,n,r));return s}}function Hm(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=co(n,i?r:null),a=!1;l?a=!0:r instanceof D?(l=rc(n,r),a=!1):(l=D.EMPTY_NODE,a=!1);const u=jo(new ln(l,a,!1),new ln(r,i,!1));return new RC(e,u)}return o}function bC(t,e,n,r,i,s){const o=Hm(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),MC(o,n),OC(o,n)}function zC(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=an(t);if(i==="default")for(const[a,u]of t.views.entries())o=o.concat(vh(u,n,r)),_h(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=t.views.get(i);a&&(o=o.concat(vh(a,n,r)),_h(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!an(t)&&s.push(new(jC())(e._repo,e._path)),{removed:s,events:o}}function $m(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function tn(t,e){let n=null;for(const r of t.views.values())n=n||DC(r,e);return n}function Gm(t,e){if(e._queryParams.loadsAllData())return bo(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Qm(t,e){return Gm(t,e)!=null}function an(t){return bo(t)!=null}function bo(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo;function BC(t){E(!mo,"__referenceConstructor has already been defined"),mo=t}function UC(){return E(mo,"Reference.ts has not been loaded"),mo}let VC=1;class wh{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $(null),this.pendingWriteTree_=_C(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ym(t,e,n,r,i){return sC(t.pendingWriteTree_,e,n,r,i),i?Nr(t,new An(ec(),e,n)):[]}function WC(t,e,n,r){oC(t.pendingWriteTree_,e,n,r);const i=$.fromObject(n);return Nr(t,new _r(ec(),e,i))}function Wt(t,e,n=!1){const r=lC(t.pendingWriteTree_,e);if(aC(t.pendingWriteTree_,e)){let s=new $(null);return r.snap!=null?s=s.set(B(),!0):Se(r.children,o=>{s=s.set(new H(o),!0)}),Nr(t,new ao(r.path,s,n))}else return[]}function Hi(t,e,n){return Nr(t,new An(tc(),e,n))}function HC(t,e,n){const r=$.fromObject(n);return Nr(t,new _r(tc(),e,r))}function $C(t,e){return Nr(t,new Pi(tc(),e))}function GC(t,e,n){const r=ac(t,n);if(r){const i=uc(r),s=i.path,o=i.queryId,l=Te(s,e),a=new Pi(nc(o),l);return cc(t,s,a)}else return[]}function go(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||Qm(o,e))){const a=zC(o,e,n,r);FC(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const f=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,g)=>an(g));if(f&&!d){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const g=KC(h);for(let v=0;v<g.length;++v){const y=g[v],P=y.query,m=Zm(t,y);t.listenProvider_.startListening(ii(P),Ai(t,P),m.hashFn,m.onComplete)}}}!d&&u.length>0&&!r&&(f?t.listenProvider_.stopListening(ii(e),null):u.forEach(h=>{const g=t.queryToTagMap.get(zo(h));t.listenProvider_.stopListening(ii(h),g)}))}qC(t,u)}return l}function Km(t,e,n,r){const i=ac(t,r);if(i!=null){const s=uc(i),o=s.path,l=s.queryId,a=Te(o,e),u=new An(nc(l),a,n);return cc(t,o,u)}else return[]}function QC(t,e,n,r){const i=ac(t,r);if(i){const s=uc(i),o=s.path,l=s.queryId,a=Te(o,e),u=$.fromObject(n),f=new _r(nc(l),a,u);return cc(t,o,f)}else return[]}function Ba(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,g)=>{const v=Te(h,i);s=s||tn(g,v),o=o||an(g)});let l=t.syncPointTree_.get(i);l?(o=o||an(l),s=s||tn(l,B())):(l=new Wm,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=D.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((g,v)=>{const y=tn(v,B());y&&(s=s.updateImmediateChild(g,y))}));const u=Qm(l,e);if(!u&&!e._queryParams.loadsAllData()){const h=zo(e);E(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const g=XC();t.queryToTagMap.set(h,g),t.tagToQueryMap.set(g,h)}const f=Fo(t.pendingWriteTree_,i);let d=bC(l,e,n,f,s,a);if(!u&&!o&&!r){const h=Gm(l,e);d=d.concat(ZC(t,e,h))}return d}function lc(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=Te(o,e),u=tn(l,a);if(u)return u});return Fm(i,e,s,n,!0)}function YC(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,f)=>{const d=Te(u,n);r=r||tn(f,d)});let i=t.syncPointTree_.get(n);i?r=r||tn(i,B()):(i=new Wm,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new ln(r,!0,!1):null,l=Fo(t.pendingWriteTree_,e._path),a=Hm(i,e,l,s?o.getNode():D.EMPTY_NODE,s);return AC(a)}function Nr(t,e){return qm(e,t.syncPointTree_,null,Fo(t.pendingWriteTree_,B()))}function qm(t,e,n,r){if(j(t.path))return Xm(t,e,n,r);{const i=e.get(B());n==null&&i!=null&&(n=tn(i,B()));let s=[];const o=L(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,f=bm(r,o);s=s.concat(qm(l,a,u,f))}return i&&(s=s.concat(oc(i,t,r,n))),s}}function Xm(t,e,n,r){const i=e.get(B());n==null&&i!=null&&(n=tn(i,B()));let s=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=bm(r,o),f=t.operationForChild(o);f&&(s=s.concat(Xm(f,l,a,u)))}),i&&(s=s.concat(oc(i,t,r,n))),s}function Zm(t,e){const n=e.query,r=Ai(t,n);return{hashFn:()=>(PC(e)||D.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?GC(t,n._path,r):$C(t,n._path);{const s=H0(i,n);return go(t,n,null,s)}}}}function Ai(t,e){const n=zo(e);return t.queryToTagMap.get(n)}function zo(t){return t._path.toString()+"$"+t._queryIdentifier}function ac(t,e){return t.tagToQueryMap.get(e)}function uc(t){const e=t.indexOf("$");return E(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new H(t.substr(0,e))}}function cc(t,e,n){const r=t.syncPointTree_.get(e);E(r,"Missing sync point for query tag that we're tracking");const i=Fo(t.pendingWriteTree_,e);return oc(r,n,i,null)}function KC(t){return t.fold((e,n,r)=>{if(n&&an(n))return[bo(n)];{let i=[];return n&&(i=$m(n)),Se(r,(s,o)=>{i=i.concat(o)}),i}})}function ii(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(UC())(t._repo,t._path):t}function qC(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=zo(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function XC(){return VC++}function ZC(t,e,n){const r=e._path,i=Ai(t,e),s=Zm(t,n),o=t.listenProvider_.startListening(ii(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)E(!an(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,f,d)=>{if(!j(u)&&f&&an(f))return[bo(f).query];{let h=[];return f&&(h=h.concat($m(f).map(g=>g.query))),Se(d,(g,v)=>{h=h.concat(v)}),h}});for(let u=0;u<a.length;++u){const f=a[u];t.listenProvider_.stopListening(ii(f),Ai(t,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new dc(n)}node(){return this.node_}}class hc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=se(this.path_,e);return new hc(this.syncTree_,n)}node(){return lc(this.syncTree_,this.path_)}}const JC=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Ch=function(t,e,n){if(!t||typeof t!="object")return t;if(E(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return eS(t[".sv"],e,n);if(typeof t[".sv"]=="object")return tS(t[".sv"],e);E(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},eS=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:E(!1,"Unexpected server value: "+t)}},tS=function(t,e,n){t.hasOwnProperty("increment")||E(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&E(!1,"Unexpected increment value: "+r);const i=e.node();if(E(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Jm=function(t,e,n,r){return fc(e,new hc(n,t),r)},eg=function(t,e,n){return fc(t,new dc(e),n)};function fc(t,e,n){const r=t.getPriority().val(),i=Ch(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=Ch(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new fe(l,ce(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new fe(i))),o.forEachChild(te,(l,a)=>{const u=fc(a,e.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function mc(t,e){let n=e instanceof H?e:new H(e),r=t,i=L(n);for(;i!==null;){const s=mr(r.node.children,i)||{children:{},childCount:0};r=new pc(i,r,s),n=Q(n),i=L(n)}return r}function kr(t){return t.node.value}function tg(t,e){t.node.value=e,Ua(t)}function ng(t){return t.node.childCount>0}function nS(t){return kr(t)===void 0&&!ng(t)}function Bo(t,e){Se(t.node.children,(n,r)=>{e(new pc(n,t,r))})}function rg(t,e,n,r){n&&e(t),Bo(t,i=>{rg(i,e,!0)})}function rS(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function $i(t){return new H(t.parent===null?t.name:$i(t.parent)+"/"+t.name)}function Ua(t){t.parent!==null&&iS(t.parent,t.name,t)}function iS(t,e,n){const r=nS(n),i=_t(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Ua(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Ua(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=/[\[\].#$\/\u0000-\u001F\u007F]/,oS=/[\[\].#$\u0000-\u001F\u007F]/,Tl=10*1024*1024,gc=function(t){return typeof t=="string"&&t.length!==0&&!sS.test(t)},ig=function(t){return typeof t=="string"&&t.length!==0&&!oS.test(t)},lS=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ig(t)},Va=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Vu(t)||t&&typeof t=="object"&&_t(t,".sv")},Gi=function(t,e,n,r){r&&e===void 0||Uo(Mo(t,"value"),e,n)},Uo=function(t,e,n){const r=n instanceof H?new xw(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+_n(r));if(typeof e=="function")throw new Error(t+"contains a function "+_n(r)+" with contents = "+e.toString());if(Vu(e))throw new Error(t+"contains "+e.toString()+" "+_n(r));if(typeof e=="string"&&e.length>Tl/3&&Oo(e)>Tl)throw new Error(t+"contains a string greater than "+Tl+" utf8 bytes "+_n(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Se(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!gc(o)))throw new Error(t+" contains an invalid key ("+o+") "+_n(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Nw(r,o),Uo(t,l,r),kw(r)}),i&&s)throw new Error(t+' contains ".value" child '+_n(r)+" in addition to actual children.")}},aS=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=ki(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!gc(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Ew);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Ke(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},uS=function(t,e,n,r){const i=Mo(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Se(e,(o,l)=>{const a=new H(o);if(Uo(i,l,se(n,a)),Qu(a)===".priority"&&!Va(l))throw new Error(i+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(a)}),aS(i,s)},_c=function(t,e,n,r){if(!ig(n))throw new Error(Mo(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},cS=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),_c(t,e,n)},vc=function(t,e){if(L(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},dS=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!gc(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!lS(n))throw new Error(Mo(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Vo(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Yu(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function sg(t,e,n){Vo(t,n),og(t,r=>Yu(r,e))}function Je(t,e,n){Vo(t,n),og(t,r=>Ke(r,e)||Ke(e,r))}function og(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(fS(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function fS(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ei&&ye("event: "+n.toString()),xr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="repo_interrupt",mS=25;class gS{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new hS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lo(),this.transactionQueueTree_=new pc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function _S(t,e,n){if(t.stats_=$u(t.repoInfo_),t.forceRestClient_||Y0())t.server_=new oo(t.repoInfo_,(r,i,s,o)=>{Sh(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Eh(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{de(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new It(t.repoInfo_,e,(r,i,s,o)=>{Sh(t,r,i,s,o)},r=>{Eh(t,r)},r=>{vS(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=J0(t.repoInfo_,()=>new Jw(t.stats_,t.server_)),t.infoData_=new Yw,t.infoSyncTree_=new wh({startListening:(r,i,s,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=Hi(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),yc(t,"connected",!1),t.serverSyncTree_=new wh({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);Je(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function lg(t){const n=t.infoData_.getNode(new H(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Wo(t){return JC({timestamp:lg(t)})}function Sh(t,e,n,r,i){t.dataUpdateCount++;const s=new H(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const a=eo(n,u=>ce(u));o=QC(t.serverSyncTree_,s,a,i)}else{const a=ce(n);o=Km(t.serverSyncTree_,s,a,i)}else if(r){const a=eo(n,u=>ce(u));o=HC(t.serverSyncTree_,s,a)}else{const a=ce(n);o=Hi(t.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=yr(t,s)),Je(t.eventQueue_,l,o)}function Eh(t,e){yc(t,"connected",e),e===!1&&SS(t)}function vS(t,e){Se(e,(n,r)=>{yc(t,n,r)})}function yc(t,e,n){const r=new H("/.info/"+e),i=ce(n);t.infoData_.updateSnapshot(r,i);const s=Hi(t.infoSyncTree_,r,i);Je(t.eventQueue_,r,s)}function wc(t){return t.nextWriteId_++}function yS(t,e,n){const r=YC(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=ce(i).withIndex(e._queryParams.getIndex());Ba(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Hi(t.serverSyncTree_,e._path,s);else{const l=Ai(t.serverSyncTree_,e);o=Km(t.serverSyncTree_,e._path,s,l)}return Je(t.eventQueue_,e._path,o),go(t.serverSyncTree_,e,n,null,!0),s},i=>(Qi(t,"get for query "+de(e)+" failed: "+i),Promise.reject(new Error(i))))}function wS(t,e,n,r,i){Qi(t,"set",{path:e.toString(),value:n,priority:r});const s=Wo(t),o=ce(n,r),l=lc(t.serverSyncTree_,e),a=eg(o,l,s),u=wc(t),f=Ym(t.serverSyncTree_,e,a,u,!0);Vo(t.eventQueue_,f),t.server_.put(e.toString(),o.val(!0),(h,g)=>{const v=h==="ok";v||Pe("set at "+e+" failed: "+h);const y=Wt(t.serverSyncTree_,u,!v);Je(t.eventQueue_,e,y),Wa(t,i,h,g)});const d=Sc(t,e);yr(t,d),Je(t.eventQueue_,d,[])}function CS(t,e,n,r){Qi(t,"update",{path:e.toString(),value:n});let i=!0;const s=Wo(t),o={};if(Se(n,(l,a)=>{i=!1,o[l]=Jm(se(e,l),ce(a),t.serverSyncTree_,s)}),i)ye("update() called with empty data.  Don't do anything."),Wa(t,r,"ok",void 0);else{const l=wc(t),a=WC(t.serverSyncTree_,e,o,l);Vo(t.eventQueue_,a),t.server_.merge(e.toString(),n,(u,f)=>{const d=u==="ok";d||Pe("update at "+e+" failed: "+u);const h=Wt(t.serverSyncTree_,l,!d),g=h.length>0?yr(t,e):e;Je(t.eventQueue_,g,h),Wa(t,r,u,f)}),Se(n,u=>{const f=Sc(t,se(e,u));yr(t,f)}),Je(t.eventQueue_,e,[])}}function SS(t){Qi(t,"onDisconnectEvents");const e=Wo(t),n=lo();Oa(t.onDisconnect_,B(),(i,s)=>{const o=Jm(i,s,t.serverSyncTree_,e);Mm(n,i,o)});let r=[];Oa(n,B(),(i,s)=>{r=r.concat(Hi(t.serverSyncTree_,i,s));const o=Sc(t,i);yr(t,o)}),t.onDisconnect_=lo(),Je(t.eventQueue_,B(),r)}function ES(t,e,n){let r;L(e._path)===".info"?r=Ba(t.infoSyncTree_,e,n):r=Ba(t.serverSyncTree_,e,n),sg(t.eventQueue_,e._path,r)}function xS(t,e,n){let r;L(e._path)===".info"?r=go(t.infoSyncTree_,e,n):r=go(t.serverSyncTree_,e,n),sg(t.eventQueue_,e._path,r)}function NS(t){t.persistentConnection_&&t.persistentConnection_.interrupt(pS)}function Qi(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ye(n,...e)}function Wa(t,e,n,r){e&&xr(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function ag(t,e,n){return lc(t.serverSyncTree_,e,n)||D.EMPTY_NODE}function Cc(t,e=t.transactionQueueTree_){if(e||Ho(t,e),kr(e)){const n=cg(t,e);E(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&kS(t,$i(e),n)}else ng(e)&&Bo(e,n=>{Cc(t,n)})}function kS(t,e,n){const r=n.map(u=>u.currentWriteId),i=ag(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const f=n[u];E(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const d=Te(e,f.path);s=s.updateChild(d,f.currentOutputSnapshotRaw)}const l=s.val(!0),a=e;t.server_.put(a.toString(),l,u=>{Qi(t,"transaction put response",{path:a.toString(),status:u});let f=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,f=f.concat(Wt(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Ho(t,mc(t.transactionQueueTree_,e)),Cc(t,t.transactionQueueTree_),Je(t.eventQueue_,e,f);for(let h=0;h<d.length;h++)xr(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Pe("transaction at "+a.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}yr(t,e)}},o)}function yr(t,e){const n=ug(t,e),r=$i(n),i=cg(t,n);return IS(t,i,r),r}function IS(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],u=Te(n,a.path);let f=!1,d;if(E(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)f=!0,d=a.abortReason,i=i.concat(Wt(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=mS)f=!0,d="maxretry",i=i.concat(Wt(t.serverSyncTree_,a.currentWriteId,!0));else{const h=ag(t,a.path,o);a.currentInputSnapshot=h;const g=e[l].update(h.val());if(g!==void 0){Uo("transaction failed: Data returned ",g,a.path);let v=ce(g);typeof g=="object"&&g!=null&&_t(g,".priority")||(v=v.updatePriority(h.getPriority()));const P=a.currentWriteId,m=Wo(t),p=eg(v,h,m);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=p,a.currentWriteId=wc(t),o.splice(o.indexOf(P),1),i=i.concat(Ym(t.serverSyncTree_,a.path,p,a.currentWriteId,a.applyLocally)),i=i.concat(Wt(t.serverSyncTree_,P,!0))}else f=!0,d="nodata",i=i.concat(Wt(t.serverSyncTree_,a.currentWriteId,!0))}Je(t.eventQueue_,n,i),i=[],f&&(e[l].status=2,function(h){setTimeout(h,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(d==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(d),!1,null))))}Ho(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)xr(r[l]);Cc(t,t.transactionQueueTree_)}function ug(t,e){let n,r=t.transactionQueueTree_;for(n=L(e);n!==null&&kr(r)===void 0;)r=mc(r,n),e=Q(e),n=L(e);return r}function cg(t,e){const n=[];return dg(t,e,n),n.sort((r,i)=>r.order-i.order),n}function dg(t,e,n){const r=kr(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Bo(e,i=>{dg(t,i,n)})}function Ho(t,e){const n=kr(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,tg(e,n.length>0?n:void 0)}Bo(e,r=>{Ho(t,r)})}function Sc(t,e){const n=$i(ug(t,e)),r=mc(t.transactionQueueTree_,e);return rS(r,i=>{Rl(t,i)}),Rl(t,r),rg(r,i=>{Rl(t,i)}),n}function Rl(t,e){const n=kr(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(E(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(E(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Wt(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?tg(e,void 0):n.length=s+1,Je(t.eventQueue_,$i(e),i);for(let o=0;o<r.length;o++)xr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function RS(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Pe(`Invalid query segment '${n}' in query '${t}'`)}return e}const xh=function(t,e){const n=PS(t),r=n.namespace;n.domain==="firebase.com"&&Mt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Mt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||z0();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new mm(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new H(n.pathString)}},PS=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let f=t.indexOf("/");f===-1&&(f=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(f,d)),f<d&&(i=TS(t.substring(f,d)));const h=RS(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const g=e.slice(0,u);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",AS=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Nh.charAt(n%64),n=Math.floor(n/64);E(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Nh.charAt(e[i]);return E(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+de(this.snapshot.exportVal())}}class MS{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return E(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return j(this._path)?null:Qu(this._path)}get ref(){return new Lt(this._repo,this._path)}get _queryIdentifier(){const e=ch(this._queryParams),n=Wu(e);return n==="{}"?"default":n}get _queryObject(){return ch(this._queryParams)}isEqual(e){if(e=hn(e),!(e instanceof Ir))return!1;const n=this._repo===e._repo,r=Yu(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Sw(this._path)}}function OS(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Ec(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===xn){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Pn)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==sn)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===te){if(e!=null&&!Va(e)||n!=null&&!Va(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(E(t.getIndex()instanceof Xu||t.getIndex()===Am,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function fg(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Lt extends Ir{constructor(e,n){super(e,n,new Ju,!1)}get parent(){const e=xm(this._path);return e===null?null:new Lt(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Di{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new H(e),r=Mi(this.ref,e);return new Di(this._node.getChild(n),r,te)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Di(i,Mi(this.ref,r),te)))}hasChild(e){const n=new H(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function xt(t,e){return t=hn(t),t._checkNotDeleted("ref"),e!==void 0?Mi(t._root,e):t._root}function Mi(t,e){return t=hn(t),L(t._path)===null?cS("child","path",e):_c("child","path",e),new Lt(t._repo,se(t._path,e))}function Ha(t,e){t=hn(t),vc("push",t._path),Gi("push",e,t._path,!0);const n=lg(t._repo),r=AS(n),i=Mi(t,r),s=Mi(t,r);let o;return e!=null?o=pg(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function LS(t){return vc("remove",t._path),pg(t,null)}function pg(t,e){t=hn(t),vc("set",t._path),Gi("set",e,t._path,!1);const n=new zi;return wS(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function jS(t,e){uS("update",e,t._path);const n=new zi;return CS(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function FS(t){t=hn(t);const e=new hg(()=>{}),n=new $o(e);return yS(t._repo,t,n).then(r=>new Di(r,new Lt(t._repo,t._path),t._queryParams.getIndex()))}class $o{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new DS("value",this,new Di(e.snapshotNode,new Lt(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new MS(this,e,n):null}matches(e){return e instanceof $o?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function bS(t,e,n,r,i){const s=new hg(n,void 0),o=new $o(s);return ES(t._repo,t,o),()=>xS(t._repo,t,o)}function xc(t,e,n,r){return bS(t,"value",e)}class Go{}class zS extends Go{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Gi("endAt",this._value,e._path,!0);const n=Gw(e._queryParams,this._value,this._key);if(fg(n),Ec(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ir(e._repo,e._path,n,e._orderByCalled)}}class BS extends Go{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Gi("startAt",this._value,e._path,!0);const n=$w(e._queryParams,this._value,this._key);if(fg(n),Ec(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ir(e._repo,e._path,n,e._orderByCalled)}}class US extends Go{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){OS(e,"orderByChild");const n=new H(this._path);if(j(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Xu(n),i=Qw(e._queryParams,r);return Ec(i),new Ir(e._repo,e._path,i,!0)}}function VS(t){return _c("orderByChild","path",t),new US(t)}class WS extends Go{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Gi("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new zS(this._value,this._key)._apply(new BS(this._value,this._key)._apply(e))}}function HS(t,e){return new WS(t,e)}function $S(t,...e){let n=hn(t);for(const r of e)n=r._apply(n);return n}LC(Lt);BC(Lt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="FIREBASE_DATABASE_EMULATOR_HOST",$a={};let QS=!1;function YS(t,e,n,r){t.repoInfo_=new mm(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function KS(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Mt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ye("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=xh(s,i),l=o.repoInfo,a;typeof process<"u"&&Gd&&(a=Gd[GS]),a?(s=`http://${a}?ns=${l.namespace}`,o=xh(s,i),l=o.repoInfo):o.repoInfo.secure;const u=new q0(t.name,t.options,e);dS("Invalid Firebase Database URL",o),j(o.path)||Mt("Database URL must point to the root of a Firebase Database (not including a child path).");const f=XS(l,t,u,new K0(t.name,n));return new ZS(f,t)}function qS(t,e){const n=$a[e];(!n||n[t.key]!==t)&&Mt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),NS(t),delete n[t.key]}function XS(t,e,n,r){let i=$a[e.name];i||(i={},$a[e.name]=i);let s=i[t.toURLString()];return s&&Mt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new gS(t,QS,n,r),i[t.toURLString()]=s,s}class ZS{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(_S(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Lt(this._repo,B())),this._rootInternal}_delete(){return this._rootInternal!==null&&(qS(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Mt("Cannot call "+e+" on a deleted database.")}}function JS(t=E0(),e){const n=y0(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=ay("database");r&&eE(n,...r)}return n}function eE(t,e,n,r={}){t=hn(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Mt("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Mt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ts(Ts.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:uy(r.mockUserToken,t.app.options.projectId);s=new Ts(o)}YS(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t){M0(S0),no(new Ei("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return KS(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),or(Qd,Yd,t),or(Qd,Yd,"esm2017")}It.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};It.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};tE();var nE="firebase",rE="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or(nE,rE,"app");const iE={apiKey:"AIzaSyA7bCJ740dlOwfB7jzZ9RPZ49JO8-XzMcc",authDomain:"hilde-5th-birthday.firebaseapp.com",databaseURL:"https://hilde-5th-birthday-default-rtdb.firebaseio.com",projectId:"hilde-5th-birthday",storageBucket:"hilde-5th-birthday.firebasestorage.app",messagingSenderId:"37156501458",appId:"1:37156501458:web:bbbf39de05a681fbec3a0b"},sE=Zp(iE),Nt=JS(sE),ps="hilde-bday-rsvp-email",oE="hilde-bday-rsvp-id";function lE({active:t}){const e=M.useRef(null);return M.useEffect(()=>{if(!t)return;const n=e.current,r=n.getContext("2d");n.width=window.innerWidth,n.height=window.innerHeight;const i=[],s=["#ff6b9d","#ffd700","#74b9ff","#ff8c42","#a29bfe","#00cec9"];for(let a=0;a<150;a++)i.push({x:Math.random()*n.width,y:-10-Math.random()*100,size:Math.random()*8+4,color:s[Math.floor(Math.random()*s.length)],speedY:Math.random()*3+2,speedX:Math.random()*4-2,rotation:Math.random()*360,rotationSpeed:Math.random()*10-5});let o;const l=()=>{r.clearRect(0,0,n.width,n.height);let a=0;i.forEach(u=>{u.y<n.height+50&&(a++,u.y+=u.speedY,u.x+=u.speedX,u.rotation+=u.rotationSpeed,u.speedY+=.1,r.save(),r.translate(u.x,u.y),r.rotate(u.rotation*Math.PI/180),r.fillStyle=u.color,r.fillRect(-u.size/2,-u.size/2,u.size,u.size*.6),r.restore())}),a>0&&(o=requestAnimationFrame(l))};return l(),()=>{o&&cancelAnimationFrame(o)}},[t]),t?c.jsx("canvas",{ref:e,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:1e3}}):null}function aE(){const[t,e]=M.useState("lookup"),[n,r]=M.useState(""),[i,s]=M.useState(""),[o,l]=M.useState(null),[a,u]=M.useState(1),[f,d]=M.useState(1),[h,g]=M.useState(null),[v,y]=M.useState(""),[P,m]=M.useState(!0),[p,_]=M.useState(!1),[w,x]=M.useState(!1),[T,C]=M.useState(""),[R,U]=M.useState(!1),[O,Z]=M.useState(!1);M.useEffect(()=>{(async()=>{localStorage.removeItem(oE);const A=localStorage.getItem(ps);if(A){r(A);const V=await K(A);e(V?"submitted":"lookup")}m(!1)})()},[]);const K=async N=>{if(!N.trim())return null;try{const A=xt(Nt,"rsvps"),V=$S(A,VS("email"),HS(N.toLowerCase().trim())),oe=await FS(V);if(oe.exists()){const bn=oe.val(),[vt,tt]=Object.entries(bn)[0];return s(tt.childName||tt.name||""),l(tt.attending),u(tt.adultCount||tt.guestCount||1),d(tt.kidCount||1),g(vt),tt}}catch(A){console.log("Email lookup error:",A.message)}return null},et=async N=>{if(N.preventDefault(),y(""),!n.trim()){y("Please enter your email");return}_(!0);const A=await K(n);_(!1),A?(localStorage.setItem(ps,n.toLowerCase().trim()),e("submitted")):e("form")},Fn=()=>{e("form")},Tr=async N=>{if(N.preventDefault(),y(""),!n.trim()){y("Please enter your email");return}if(!i.trim()){y("Please enter your child's name");return}if(o===null){y("Please let us know if you can make it");return}const A={email:n.toLowerCase().trim(),childName:i.trim(),name:i.trim(),attending:o,adultCount:o?a:0,kidCount:o?f:0,timestamp:Date.now()};try{if(h)await jS(xt(Nt,`rsvps/${h}`),A);else{const V=await Ha(xt(Nt,"rsvps"),A);g(V.key)}localStorage.setItem(ps,n.toLowerCase().trim()),x(!0),setTimeout(()=>x(!1),4e3),e("submitted")}catch(V){y("Oops! Something went wrong. Please try again."),console.error(V)}},_e=async()=>{if(T.trim()){Z(!0);try{await Ha(xt(Nt,"messages"),{name:i.trim()+"'s family",message:T.trim(),timestamp:Date.now()}),U(!0),C("")}catch(N){console.error(N)}Z(!1)}},Me=()=>{e("form")},k=()=>{localStorage.removeItem(ps),r(""),s(""),l(null),u(1),d(1),g(null),U(!1),C(""),e("lookup")};return P?c.jsxs("section",{className:"rsvp",children:[c.jsx("h2",{children:"Mission Log"}),c.jsx("p",{className:"rsvp-subtitle",children:"Loading..."})]}):t==="lookup"?c.jsxs("section",{className:"rsvp",children:[c.jsx("h2",{children:"Mission Log"}),c.jsx("p",{className:"rsvp-subtitle",children:"Already RSVP'd? Find your response to update it."}),c.jsxs("form",{onSubmit:et,className:"lookup-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"lookup-email",children:"Your Email"}),c.jsx("input",{type:"email",id:"lookup-email",value:n,onChange:N=>r(N.target.value),placeholder:"astronaut@email.com"})]}),v&&c.jsx("p",{className:"error",children:v}),c.jsx("button",{type:"submit",className:"submit-btn",disabled:p,children:p?"Searching...":"Find My RSVP"})]}),c.jsx("div",{className:"divider",children:c.jsx("span",{children:"or"})}),c.jsx("button",{onClick:Fn,className:"secondary-btn",children:"New here? Submit your RSVP"})]}):t==="submitted"?c.jsxs("section",{className:"rsvp",children:[c.jsx(lE,{active:w}),c.jsx("h2",{children:"Mission Log"}),c.jsxs("div",{className:"success-message",children:[c.jsx("span",{className:"success-icon",children:""}),c.jsxs("p",{className:"success-name",children:["Thanks, ",i,"'s family!"]}),c.jsx("p",{className:"success-status",children:o?"We're excited to see you at the launch!":"We'll miss you! Thanks for letting us know."}),o&&c.jsxs("p",{className:"guest-summary",children:[a," ",a===1?"adult":"adults",f>0&&`, ${f} ${f===1?"kid":"kids"}`]}),R?c.jsx("p",{className:"message-sent-confirmation",children:"Message sent! Thank you!"}):c.jsxs("div",{className:"optional-message",children:[c.jsx("p",{className:"optional-message-prompt",children:"Want to send a message to Hilde?"}),c.jsx("textarea",{value:T,onChange:N=>C(N.target.value),placeholder:"Write a birthday wish or note...",rows:3,className:"optional-message-input"}),T.trim()&&c.jsx("button",{onClick:_e,className:"send-message-btn",disabled:O,children:O?"Sending...":"Send Message"})]}),c.jsxs("div",{className:"rsvp-actions",children:[c.jsx("button",{onClick:Me,className:"edit-btn",children:"Edit RSVP"}),c.jsx("button",{onClick:k,className:"reset-link",children:"Not you? Start fresh"})]})]})]}):c.jsxs("section",{className:"rsvp",children:[c.jsx("h2",{children:"Mission Log"}),c.jsx("p",{className:"rsvp-subtitle",children:h?"Update your RSVP":"Will you be joining our space adventure?"}),c.jsxs("form",{onSubmit:Tr,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:"Your Email"}),c.jsx("input",{type:"email",id:"email",value:n,onChange:N=>r(N.target.value),placeholder:"astronaut@email.com"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"childName",children:"Child's Name"}),c.jsx("input",{type:"text",id:"childName",value:i,onChange:N=>s(N.target.value),placeholder:"Little astronaut's name..."})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Can you make it?"}),c.jsxs("div",{className:"toggle-buttons",children:[c.jsx("button",{type:"button",className:`toggle-btn ${o===!0?"active yes":""}`,onClick:()=>l(!0),children:"Yes, count us in!"}),c.jsx("button",{type:"button",className:`toggle-btn ${o===!1?"active no":""}`,onClick:()=>l(!1),children:"Can't make it"})]})]}),o&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Adults"}),c.jsx("div",{className:"count-selector",children:[1,2,3,4,5,6].map(N=>c.jsx("button",{type:"button",className:`count-btn ${a===N?"active":""}`,onClick:()=>u(N),children:N},N))})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Kids"}),c.jsx("div",{className:"count-selector",children:[1,2,3,4,5,6].map(N=>c.jsx("button",{type:"button",className:`count-btn ${f===N?"active":""}`,onClick:()=>d(N),children:N},N))})]})]}),v&&c.jsx("p",{className:"error",children:v}),c.jsx("button",{type:"submit",className:"submit-btn",children:h?"Update RSVP":"Submit RSVP"}),!h&&c.jsx("button",{type:"button",onClick:k,className:"reset-link",children:" Back to lookup"})]})]})}function uE(){const[t,e]=M.useState([]),[n,r]=M.useState(""),[i,s]=M.useState(""),[o,l]=M.useState(!1);M.useEffect(()=>{const f=xt(Nt,"messages"),d=xc(f,h=>{const g=h.val();if(g){const v=Object.entries(g).map(([y,P])=>({id:y,...P})).sort((y,P)=>P.timestamp-y.timestamp);e(v)}});return()=>d()},[]);const a=async f=>{if(f.preventDefault(),!(!n.trim()||!i.trim())){l(!0);try{await Ha(xt(Nt,"messages"),{name:n.trim(),message:i.trim(),timestamp:Date.now()}),r(""),s("")}catch(d){console.error(d)}l(!1)}},u=f=>new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric"});return c.jsxs("section",{className:"guestbook",children:[c.jsx("h2",{children:"Transmissions from Space"}),c.jsx("p",{className:"guestbook-subtitle",children:"Send a message to Hilde!"}),c.jsxs("form",{onSubmit:a,className:"message-form",children:[c.jsx("input",{type:"text",value:n,onChange:f=>r(f.target.value),placeholder:"Your name",required:!0}),c.jsx("textarea",{value:i,onChange:f=>s(f.target.value),placeholder:"Your message for Hilde...",rows:3,required:!0}),c.jsx("button",{type:"submit",disabled:o,children:o?"Sending...":"Send Message "})]}),c.jsx("div",{className:"messages-list",children:t.length===0?c.jsx("p",{className:"no-messages",children:"No transmissions yet. Be the first!"}):t.map(f=>c.jsxs("div",{className:"message-card",children:[c.jsxs("div",{className:"message-header",children:[c.jsx("span",{className:"message-author",children:f.name}),c.jsx("span",{className:"message-date",children:u(f.timestamp)})]}),c.jsx("p",{className:"message-text",children:f.message})]},f.id))})]})}function cE({name:t,index:e}){const n=[{suit:"#ff6b9d",visor:"#74b9ff"},{suit:"#ffd700",visor:"#a29bfe"},{suit:"#74b9ff",visor:"#ff8c42"},{suit:"#00cec9",visor:"#ff6b9d"},{suit:"#a29bfe",visor:"#ffd700"},{suit:"#ff8c42",visor:"#00cec9"}],r=n[e%n.length];return c.jsxs("svg",{viewBox:"0 0 60 80",className:"astronaut-avatar",children:[c.jsx("circle",{cx:"30",cy:"25",r:"20",fill:"white"}),c.jsx("ellipse",{cx:"30",cy:"27",rx:"14",ry:"12",fill:r.visor,opacity:"0.8"}),c.jsx("ellipse",{cx:"26",cy:"24",rx:"4",ry:"3",fill:"rgba(255,255,255,0.4)"}),c.jsx("ellipse",{cx:"30",cy:"55",rx:"18",ry:"22",fill:r.suit}),c.jsx("ellipse",{cx:"30",cy:"40",rx:"18",ry:"4",fill:"#dfe6e9"}),c.jsx("ellipse",{cx:"10",cy:"52",rx:"7",ry:"10",fill:r.suit}),c.jsx("ellipse",{cx:"50",cy:"52",rx:"7",ry:"10",fill:r.suit})]})}function ms({delay:t=0}){return c.jsxs("svg",{viewBox:"0 0 30 40",className:"mini-astronaut",style:{animationDelay:`${t}ms`},children:[c.jsx("circle",{cx:"15",cy:"12",r:"10",fill:"white"}),c.jsx("ellipse",{cx:"15",cy:"14",rx:"7",ry:"6",fill:"#74b9ff",opacity:"0.8"}),c.jsx("ellipse",{cx:"30",cy:"27",rx:"9",ry:"11",fill:"white"})]})}function dE(){const[t,e]=M.useState([]),[n,r]=M.useState({adults:0,kids:0});M.useEffect(()=>{const s=xt(Nt,"rsvps"),o=xc(s,l=>{const a=l.val();if(a){const u=Object.entries(a).map(([h,g])=>({id:h,...g})).filter(h=>h.attending).sort((h,g)=>(h.childName||h.name||"").localeCompare(g.childName||g.name||""));e(u);const f=u.reduce((h,g)=>h+(g.adultCount||g.guestCount||1),0),d=u.reduce((h,g)=>h+(g.kidCount||0),0);r({adults:f,kids:d})}});return()=>o()},[]);const i=n.adults+n.kids;return t.length===0?c.jsxs("section",{className:"guest-list",children:[c.jsx("h2",{children:"Mission Crew"}),c.jsxs("div",{className:"crew-status empty",children:[c.jsxs("div",{className:"astronaut-row",children:[c.jsx(ms,{delay:0}),c.jsx(ms,{delay:100}),c.jsx(ms,{delay:200})]}),c.jsx("p",{className:"crew-message",children:"Awaiting crew members..."}),c.jsx("p",{className:"crew-cta",children:"Be the first to join the mission!"})]})]}):c.jsxs("section",{className:"guest-list",children:[c.jsx("h2",{children:"Mission Crew"}),c.jsxs("div",{className:"crew-status",children:[c.jsxs("div",{className:"astronaut-row",children:[[...Array(Math.min(i,12))].map((s,o)=>c.jsx(ms,{delay:o*50},o)),i>12&&c.jsxs("span",{className:"more-astronauts",children:["+",i-12]})]}),c.jsxs("p",{className:"crew-count",children:[c.jsx("span",{className:"crew-number",children:i}),c.jsxs("span",{className:"crew-text",children:[i===1?"astronaut":"astronauts"," ready for launch!"]})]}),c.jsxs("p",{className:"crew-breakdown",children:[n.adults," ",n.adults===1?"adult":"adults","  ",n.kids," ",n.kids===1?"kid":"kids"]})]}),c.jsx("div",{className:"guest-cards",children:t.map((s,o)=>c.jsxs("div",{className:"guest-card",style:{animationDelay:`${o*100}ms`},children:[c.jsx(cE,{name:s.childName||s.name,index:o}),c.jsxs("div",{className:"guest-info",children:[c.jsx("span",{className:"guest-name",children:s.childName||s.name}),c.jsxs("span",{className:"guest-count",children:[s.adultCount||s.guestCount||1," adult",(s.adultCount||1)!==1?"s":"",(s.kidCount||0)>0&&`, ${s.kidCount} kid${s.kidCount!==1?"s":""}`]})]})]},s.id))})]})}const hE="SPACE2026",kh="hilde-bday-access";function fE({children:t}){const[e,n]=M.useState(!1),[r,i]=M.useState(""),[s,o]=M.useState(""),[l,a]=M.useState(!0);M.useEffect(()=>{localStorage.getItem(kh)==="granted"&&n(!0),a(!1)},[]);const u=d=>{d.preventDefault(),o(""),r.toUpperCase()===hE?(localStorage.setItem(kh,"granted"),n(!0)):o("Invalid code. Please check your invitation.")};if(l)return c.jsxs("div",{className:"access-gate",children:[c.jsx("div",{className:"stars"}),c.jsx("div",{className:"stars2"}),c.jsx("div",{className:"access-box",children:c.jsx("p",{children:"Loading..."})})]});if(e)return t;const f=()=>{window.location.href="?admin=true"};return c.jsxs("div",{className:"access-gate",children:[c.jsx("div",{className:"stars"}),c.jsx("div",{className:"stars2"}),c.jsx("div",{className:"stars3"}),c.jsxs("div",{className:"access-box",children:[c.jsx("div",{className:"lock-icon",children:""}),c.jsx("h1",{children:"Mission Access Required"}),c.jsx("p",{children:"Enter the code from your invitation to continue"}),c.jsxs("form",{onSubmit:u,children:[c.jsx("input",{type:"text",value:r,onChange:d=>i(d.target.value),placeholder:"Enter access code...",autoFocus:!0}),s&&c.jsx("p",{className:"error",children:s}),c.jsx("button",{type:"submit",children:"Launch "})]}),c.jsx("button",{className:"gate-admin-link",onClick:f,children:"Mission Control"})]})]})}const pE="HILDE-ADMIN-2026",Pl="hilde-bday-admin";function mE({attending:t,notAttending:e}){const n=t+e;if(n===0)return null;const r=t/n*100,i=t/n*360,s=40,o=50,l=50,a=(f,d,h)=>{const g=u(o,l,h,d),v=u(o,l,h,f),y=d-f<=180?"0":"1";return`M ${o} ${l} L ${g.x} ${g.y} A ${h} ${h} 0 ${y} 0 ${v.x} ${v.y} Z`},u=(f,d,h,g)=>{const v=(g-90)*Math.PI/180;return{x:f+h*Math.cos(v),y:d+h*Math.sin(v)}};return c.jsxs("div",{className:"chart-container pie-chart-container",children:[c.jsx("h3",{children:"Response Breakdown"}),c.jsxs("svg",{viewBox:"0 0 100 100",className:"pie-chart",children:[t>0&&c.jsx("path",{d:i>=360?`M ${o} ${l-s} A ${s} ${s} 0 1 1 ${o-.01} ${l-s} Z`:a(0,i,s),fill:"#4caf50"}),e>0&&c.jsx("path",{d:i<=0?`M ${o} ${l-s} A ${s} ${s} 0 1 1 ${o-.01} ${l-s} Z`:a(i,360,s),fill:"#f44336"})]}),c.jsxs("div",{className:"chart-legend",children:[c.jsxs("div",{className:"legend-item",children:[c.jsx("span",{className:"legend-color",style:{background:"#4caf50"}}),c.jsxs("span",{children:["Attending (",t,") - ",r.toFixed(0),"%"]})]}),c.jsxs("div",{className:"legend-item",children:[c.jsx("span",{className:"legend-color",style:{background:"#f44336"}}),c.jsxs("span",{children:["Can't Make It (",e,") - ",(100-r).toFixed(0),"%"]})]})]})]})}function gE({adults:t,kids:e}){const n=Math.max(t,e,1),r=t/n*100,i=e/n*100;return c.jsxs("div",{className:"chart-container bar-chart-container",children:[c.jsx("h3",{children:"Guest Breakdown"}),c.jsxs("div",{className:"bar-chart",children:[c.jsxs("div",{className:"bar-row",children:[c.jsx("span",{className:"bar-label",children:"Adults"}),c.jsx("div",{className:"bar-track",children:c.jsx("div",{className:"bar-fill adults",style:{width:`${r}%`},children:c.jsx("span",{className:"bar-value",children:t})})})]}),c.jsxs("div",{className:"bar-row",children:[c.jsx("span",{className:"bar-label",children:"Kids"}),c.jsx("div",{className:"bar-track",children:c.jsx("div",{className:"bar-fill kids",style:{width:`${i}%`},children:c.jsx("span",{className:"bar-value",children:e})})})]})]})]})}function _E({onBack:t}){const[e,n]=M.useState(!1),[r,i]=M.useState(""),[s,o]=M.useState(""),[l,a]=M.useState([]),[u,f]=M.useState({attending:0,notAttending:0,adults:0,kids:0}),[d,h]=M.useState(""),[g,v]=M.useState("all"),[y,P]=M.useState(null);M.useEffect(()=>{localStorage.getItem(Pl)==="granted"&&n(!0)},[]),M.useEffect(()=>{if(!e)return;const C=xt(Nt,"rsvps"),R=xc(C,U=>{const O=U.val();if(O){const Z=Object.entries(O).map(([_e,Me])=>({id:_e,...Me})).sort((_e,Me)=>Me.timestamp-_e.timestamp);a(Z);const K=Z.filter(_e=>_e.attending),et=Z.filter(_e=>!_e.attending),Fn=K.reduce((_e,Me)=>_e+(Me.adultCount||Me.guestCount||1),0),Tr=K.reduce((_e,Me)=>_e+(Me.kidCount||0),0);f({attending:K.length,notAttending:et.length,adults:Fn,kids:Tr})}else a([]),f({attending:0,notAttending:0,adults:0,kids:0})});return()=>R()},[e]);const m=C=>{C.preventDefault(),r.toUpperCase()===pE?(localStorage.setItem(Pl,"granted"),n(!0)):o("Invalid admin code")},p=()=>{localStorage.removeItem(Pl),n(!1)},_=C=>new Date(C).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}),w=l.filter(C=>{const R=d===""||(C.childName||C.name||"").toLowerCase().includes(d.toLowerCase())||(C.email||"").toLowerCase().includes(d.toLowerCase()),U=g==="all"||g==="attending"&&C.attending||g==="not-attending"&&!C.attending;return R&&U}),x=()=>{const C=["Name","Email","Attending","Adults","Kids","Date"],R=l.map(K=>[K.childName||K.name||"",K.email||"",K.attending?"Yes":"No",K.attending?K.adultCount||K.guestCount||1:0,K.attending&&K.kidCount||0,new Date(K.timestamp).toLocaleDateString()]),U=[C.join(","),...R.map(K=>K.map(et=>`"${et}"`).join(","))].join(`
`),O=new Blob([U],{type:"text/csv;charset=utf-8;"}),Z=document.createElement("a");Z.href=URL.createObjectURL(O),Z.download=`hilde-birthday-rsvps-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z)},T=async C=>{try{await LS(xt(Nt,`rsvps/${C}`)),P(null)}catch(R){console.error("Delete error:",R)}};return e?c.jsxs("div",{className:"admin-page",children:[c.jsxs("div",{className:"admin-header",children:[c.jsx("h1",{children:"Mission Control"}),c.jsxs("div",{className:"admin-header-actions",children:[c.jsx("button",{className:"back-link",onClick:t,children:" Back to site"}),c.jsx("button",{className:"logout-btn",onClick:p,children:"Logout"})]})]}),c.jsxs("div",{className:"admin-stats",children:[c.jsxs("div",{className:"stat-card",children:[c.jsx("span",{className:"stat-number",children:u.attending}),c.jsx("span",{className:"stat-label",children:"Attending"})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("span",{className:"stat-number",children:u.notAttending}),c.jsx("span",{className:"stat-label",children:"Can't Make It"})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("span",{className:"stat-number",children:u.adults}),c.jsx("span",{className:"stat-label",children:"Adults"})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("span",{className:"stat-number",children:u.kids}),c.jsx("span",{className:"stat-label",children:"Kids"})]}),c.jsxs("div",{className:"stat-card highlight",children:[c.jsx("span",{className:"stat-number",children:u.adults+u.kids}),c.jsx("span",{className:"stat-label",children:"Total Guests"})]})]}),c.jsxs("div",{className:"admin-charts",children:[c.jsx(mE,{attending:u.attending,notAttending:u.notAttending}),c.jsx(gE,{adults:u.adults,kids:u.kids})]}),c.jsxs("div",{className:"admin-controls",children:[c.jsxs("div",{className:"search-box",children:[c.jsx("input",{type:"text",value:d,onChange:C=>h(C.target.value),placeholder:"Search by name or email...",className:"search-input"}),d&&c.jsx("button",{className:"clear-search",onClick:()=>h(""),children:""})]}),c.jsxs("div",{className:"filter-buttons",children:[c.jsxs("button",{className:`filter-btn ${g==="all"?"active":""}`,onClick:()=>v("all"),children:["All (",l.length,")"]}),c.jsxs("button",{className:`filter-btn ${g==="attending"?"active":""}`,onClick:()=>v("attending"),children:["Attending (",u.attending,")"]}),c.jsxs("button",{className:`filter-btn ${g==="not-attending"?"active":""}`,onClick:()=>v("not-attending"),children:["Can't Make It (",u.notAttending,")"]})]}),c.jsxs("button",{className:"export-btn",onClick:x,children:[c.jsx("svg",{viewBox:"0 0 24 24",className:"export-icon",children:c.jsx("path",{fill:"currentColor",d:"M14,2H6A2,2,0,0,0,4,4V20a2,2,0,0,0,2,2H18a2,2,0,0,0,2-2V8ZM12,18l-4-4h2.5V11h3v3H16Zm1-9V3.5L18.5,9Z"})}),"Export CSV"]})]}),c.jsxs("div",{className:"admin-table-container",children:[c.jsxs("h2",{children:["All RSVPs ",w.length!==l.length&&`(${w.length} of ${l.length})`]}),w.length===0?c.jsx("p",{className:"no-results",children:"No RSVPs match your search/filter."}):c.jsxs("table",{className:"admin-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Email"}),c.jsx("th",{children:"Response"}),c.jsx("th",{children:"Adults"}),c.jsx("th",{children:"Kids"}),c.jsx("th",{children:"Date"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:w.map(C=>c.jsxs("tr",{className:C.attending?"attending":"not-attending",children:[c.jsx("td",{children:C.childName||C.name}),c.jsx("td",{children:C.email||"-"}),c.jsx("td",{children:C.attending?" Yes":" No"}),c.jsx("td",{children:C.attending?C.adultCount||C.guestCount||1:"-"}),c.jsx("td",{children:C.attending?C.kidCount||0:"-"}),c.jsx("td",{children:_(C.timestamp)}),c.jsx("td",{children:y===C.id?c.jsxs("div",{className:"delete-confirm",children:[c.jsx("span",{children:"Delete?"}),c.jsx("button",{className:"confirm-yes",onClick:()=>T(C.id),children:"Yes"}),c.jsx("button",{className:"confirm-no",onClick:()=>P(null),children:"No"})]}):c.jsx("button",{className:"delete-btn",onClick:()=>P(C.id),title:"Delete RSVP",children:""})})]},C.id))})]})]})]}):c.jsx("div",{className:"admin-page",children:c.jsxs("div",{className:"admin-login",children:[c.jsx("h1",{children:"Mission Control"}),c.jsx("p",{children:"Enter admin code to access"}),c.jsxs("form",{onSubmit:m,children:[c.jsx("input",{type:"password",value:r,onChange:C=>i(C.target.value),placeholder:"Admin code...",autoFocus:!0}),s&&c.jsx("p",{className:"error",children:s}),c.jsx("button",{type:"submit",children:"Access"})]}),c.jsx("button",{className:"back-link",onClick:t,children:" Back to site"})]})})}function vE(){const[t,e]=M.useState(!1);M.useEffect(()=>{new URLSearchParams(window.location.search).get("admin")==="true"&&e(!0)},[]);const n=()=>{e(!0),window.history.pushState({},"","?admin=true")},r=()=>{e(!1),window.history.pushState({},"",window.location.pathname)};return t?c.jsx(_E,{onBack:r}):c.jsx(fE,{children:c.jsxs("div",{className:"app",children:[c.jsx("div",{className:"stars"}),c.jsx("div",{className:"stars2"}),c.jsx("div",{className:"stars3"}),c.jsxs("main",{children:[c.jsx(Hv,{}),c.jsx(Zv,{}),c.jsx(aE,{}),c.jsx(dE,{}),c.jsx(uE,{})]}),c.jsxs("footer",{children:[c.jsx("p",{children:"See you among the stars!"}),c.jsx("button",{className:"admin-link",onClick:n,children:"Mission Control"})]})]})})}const mg=()=>{const t=document.getElementById("loading-screen");t&&setTimeout(()=>{t.classList.add("hidden"),setTimeout(()=>{t.remove()},500)},300)};Al.createRoot(document.getElementById("root")).render(c.jsx(Dg.StrictMode,{children:c.jsx(vE,{})}));window.addEventListener("load",mg);document.readyState==="complete"&&mg();
