(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function vg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ih={exports:{}},_o={},Rh={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ds=Symbol.for("react.element"),yg=Symbol.for("react.portal"),wg=Symbol.for("react.fragment"),Cg=Symbol.for("react.strict_mode"),Eg=Symbol.for("react.profiler"),Sg=Symbol.for("react.provider"),xg=Symbol.for("react.context"),Ng=Symbol.for("react.forward_ref"),kg=Symbol.for("react.suspense"),Tg=Symbol.for("react.memo"),Ig=Symbol.for("react.lazy"),kc=Symbol.iterator;function Rg(t){return t===null||typeof t!="object"?null:(t=kc&&t[kc]||t["@@iterator"],typeof t=="function"?t:null)}var Ph={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ah=Object.assign,jh={};function wr(t,e,n){this.props=t,this.context=e,this.refs=jh,this.updater=n||Ph}wr.prototype.isReactComponent={};wr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Dh(){}Dh.prototype=wr.prototype;function Ya(t,e,n){this.props=t,this.context=e,this.refs=jh,this.updater=n||Ph}var Ka=Ya.prototype=new Dh;Ka.constructor=Ya;Ah(Ka,wr.prototype);Ka.isPureReactComponent=!0;var Tc=Array.isArray,Mh=Object.prototype.hasOwnProperty,qa={current:null},Lh={key:!0,ref:!0,__self:!0,__source:!0};function Oh(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Mh.call(e,r)&&!Lh.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ds,type:t,key:i,ref:o,props:s,_owner:qa.current}}function Pg(t,e){return{$$typeof:Ds,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xa(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ds}function Ag(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ic=/\/+/g;function Yo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ag(""+t.key):e.toString(36)}function mi(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ds:case yg:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Yo(o,0):r,Tc(s)?(n="",t!=null&&(n=t.replace(Ic,"$&/")+"/"),mi(s,e,n,"",function(c){return c})):s!=null&&(Xa(s)&&(s=Pg(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ic,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Tc(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+Yo(i,l);o+=mi(i,e,n,a,s)}else if(a=Rg(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+Yo(i,l++),o+=mi(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ys(t,e,n){if(t==null)return t;var r=[],s=0;return mi(t,r,"","",function(i){return e.call(n,i,s++)}),r}function jg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var De={current:null},gi={transition:null},Dg={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:gi,ReactCurrentOwner:qa};function bh(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:Ys,forEach:function(t,e,n){Ys(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ys(t,function(){e++}),e},toArray:function(t){return Ys(t,function(e){return e})||[]},only:function(t){if(!Xa(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};z.Component=wr;z.Fragment=wg;z.Profiler=Eg;z.PureComponent=Ya;z.StrictMode=Cg;z.Suspense=kg;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dg;z.act=bh;z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ah({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=qa.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Mh.call(e,a)&&!Lh.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Ds,type:t.type,key:s,ref:i,props:r,_owner:o}};z.createContext=function(t){return t={$$typeof:xg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Sg,_context:t},t.Consumer=t};z.createElement=Oh;z.createFactory=function(t){var e=Oh.bind(null,t);return e.type=t,e};z.createRef=function(){return{current:null}};z.forwardRef=function(t){return{$$typeof:Ng,render:t}};z.isValidElement=Xa;z.lazy=function(t){return{$$typeof:Ig,_payload:{_status:-1,_result:t},_init:jg}};z.memo=function(t,e){return{$$typeof:Tg,type:t,compare:e===void 0?null:e}};z.startTransition=function(t){var e=gi.transition;gi.transition={};try{t()}finally{gi.transition=e}};z.unstable_act=bh;z.useCallback=function(t,e){return De.current.useCallback(t,e)};z.useContext=function(t){return De.current.useContext(t)};z.useDebugValue=function(){};z.useDeferredValue=function(t){return De.current.useDeferredValue(t)};z.useEffect=function(t,e){return De.current.useEffect(t,e)};z.useId=function(){return De.current.useId()};z.useImperativeHandle=function(t,e,n){return De.current.useImperativeHandle(t,e,n)};z.useInsertionEffect=function(t,e){return De.current.useInsertionEffect(t,e)};z.useLayoutEffect=function(t,e){return De.current.useLayoutEffect(t,e)};z.useMemo=function(t,e){return De.current.useMemo(t,e)};z.useReducer=function(t,e,n){return De.current.useReducer(t,e,n)};z.useRef=function(t){return De.current.useRef(t)};z.useState=function(t){return De.current.useState(t)};z.useSyncExternalStore=function(t,e,n){return De.current.useSyncExternalStore(t,e,n)};z.useTransition=function(){return De.current.useTransition()};z.version="18.3.1";Rh.exports=z;var k=Rh.exports;const Mg=vg(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg=k,Og=Symbol.for("react.element"),bg=Symbol.for("react.fragment"),Fg=Object.prototype.hasOwnProperty,zg=Lg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bg={key:!0,ref:!0,__self:!0,__source:!0};function Fh(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Fg.call(e,r)&&!Bg.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Og,type:t,key:i,ref:o,props:s,_owner:zg.current}}_o.Fragment=bg;_o.jsx=Fh;_o.jsxs=Fh;Ih.exports=_o;var u=Ih.exports,jl={},zh={exports:{}},Qe={},Bh={exports:{}},Uh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,N){var j=C.length;C.push(N);e:for(;0<j;){var $=j-1>>>1,se=C[$];if(0<s(se,N))C[$]=N,C[j]=se,j=$;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var N=C[0],j=C.pop();if(j!==N){C[0]=j;e:for(var $=0,se=C.length,fe=se>>>1;$<fe;){var Z=2*($+1)-1,Qo=C[Z],mn=Z+1,Qs=C[mn];if(0>s(Qo,j))mn<se&&0>s(Qs,Qo)?(C[$]=Qs,C[mn]=j,$=mn):(C[$]=Qo,C[Z]=j,$=Z);else if(mn<se&&0>s(Qs,j))C[$]=Qs,C[mn]=j,$=mn;else break e}}return N}function s(C,N){var j=C.sortIndex-N.sortIndex;return j!==0?j:C.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],f=1,d=null,h=3,_=!1,v=!1,y=!1,D=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(C){for(var N=n(c);N!==null;){if(N.callback===null)r(c);else if(N.startTime<=C)r(c),N.sortIndex=N.expirationTime,e(a,N);else break;N=n(c)}}function w(C){if(y=!1,g(C),!v)if(n(a)!==null)v=!0,Ve(x);else{var N=n(c);N!==null&&Le(w,N.startTime-C)}}function x(C,N){v=!1,y&&(y=!1,m(P),P=-1),_=!0;var j=h;try{for(g(N),d=n(a);d!==null&&(!(d.expirationTime>N)||C&&!Se());){var $=d.callback;if(typeof $=="function"){d.callback=null,h=d.priorityLevel;var se=$(d.expirationTime<=N);N=t.unstable_now(),typeof se=="function"?d.callback=se:d===n(a)&&r(a),g(N)}else r(a);d=n(a)}if(d!==null)var fe=!0;else{var Z=n(c);Z!==null&&Le(w,Z.startTime-N),fe=!1}return fe}finally{d=null,h=j,_=!1}}var T=!1,I=null,P=-1,V=5,L=-1;function Se(){return!(t.unstable_now()-L<V)}function mt(){if(I!==null){var C=t.unstable_now();L=C;var N=!0;try{N=I(!0,C)}finally{N?Et():(T=!1,I=null)}}else T=!1}var Et;if(typeof p=="function")Et=function(){p(mt)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,Ie=A.port2;A.port1.onmessage=mt,Et=function(){Ie.postMessage(null)}}else Et=function(){D(mt,0)};function Ve(C){I=C,T||(T=!0,Et())}function Le(C,N){P=D(function(){C(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){v||_||(v=!0,Ve(x))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(C){switch(h){case 1:case 2:case 3:var N=3;break;default:N=h}var j=h;h=N;try{return C()}finally{h=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,N){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var j=h;h=C;try{return N()}finally{h=j}},t.unstable_scheduleCallback=function(C,N,j){var $=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?$+j:$):j=$,C){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=j+se,C={id:f++,callback:N,priorityLevel:C,startTime:j,expirationTime:se,sortIndex:-1},j>$?(C.sortIndex=j,e(c,C),n(a)===null&&C===n(c)&&(y?(m(P),P=-1):y=!0,Le(w,j-$))):(C.sortIndex=se,e(a,C),v||_||(v=!0,Ve(x))),C},t.unstable_shouldYield=Se,t.unstable_wrapCallback=function(C){var N=h;return function(){var j=h;h=N;try{return C.apply(this,arguments)}finally{h=j}}}})(Uh);Bh.exports=Uh;var Ug=Bh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg=k,Ge=Ug;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vh=new Set,ss={};function Ln(t,e){ar(t,e),ar(t+"Capture",e)}function ar(t,e){for(ss[t]=e,t=0;t<e.length;t++)Vh.add(e[t])}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dl=Object.prototype.hasOwnProperty,Hg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rc={},Pc={};function Wg(t){return Dl.call(Pc,t)?!0:Dl.call(Rc,t)?!1:Hg.test(t)?Pc[t]=!0:(Rc[t]=!0,!1)}function $g(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Gg(t,e,n,r){if(e===null||typeof e>"u"||$g(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Me(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ce[t]=new Me(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ce[e]=new Me(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ce[t]=new Me(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ce[t]=new Me(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ce[t]=new Me(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ce[t]=new Me(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ce[t]=new Me(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ce[t]=new Me(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ce[t]=new Me(t,5,!1,t.toLowerCase(),null,!1,!1)});var Za=/[\-:]([a-z])/g;function Ja(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Za,Ja);Ce[e]=new Me(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Za,Ja);Ce[e]=new Me(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Za,Ja);Ce[e]=new Me(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ce[t]=new Me(t,1,!1,t.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ce[t]=new Me(t,1,!1,t.toLowerCase(),null,!0,!0)});function eu(t,e,n,r){var s=Ce.hasOwnProperty(e)?Ce[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Gg(e,n,s,r)&&(n=null),r||s===null?Wg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ot=Vg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ks=Symbol.for("react.element"),Un=Symbol.for("react.portal"),Vn=Symbol.for("react.fragment"),tu=Symbol.for("react.strict_mode"),Ml=Symbol.for("react.profiler"),Hh=Symbol.for("react.provider"),Wh=Symbol.for("react.context"),nu=Symbol.for("react.forward_ref"),Ll=Symbol.for("react.suspense"),Ol=Symbol.for("react.suspense_list"),ru=Symbol.for("react.memo"),zt=Symbol.for("react.lazy"),$h=Symbol.for("react.offscreen"),Ac=Symbol.iterator;function Ir(t){return t===null||typeof t!="object"?null:(t=Ac&&t[Ac]||t["@@iterator"],typeof t=="function"?t:null)}var re=Object.assign,Ko;function Br(t){if(Ko===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ko=e&&e[1]||""}return`
`+Ko+t}var qo=!1;function Xo(t,e){if(!t||qo)return"";qo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{qo=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Br(t):""}function Qg(t){switch(t.tag){case 5:return Br(t.type);case 16:return Br("Lazy");case 13:return Br("Suspense");case 19:return Br("SuspenseList");case 0:case 2:case 15:return t=Xo(t.type,!1),t;case 11:return t=Xo(t.type.render,!1),t;case 1:return t=Xo(t.type,!0),t;default:return""}}function bl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vn:return"Fragment";case Un:return"Portal";case Ml:return"Profiler";case tu:return"StrictMode";case Ll:return"Suspense";case Ol:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Wh:return(t.displayName||"Context")+".Consumer";case Hh:return(t._context.displayName||"Context")+".Provider";case nu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ru:return e=t.displayName||null,e!==null?e:bl(t.type)||"Memo";case zt:e=t._payload,t=t._init;try{return bl(t(e))}catch{}}return null}function Yg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bl(e);case 8:return e===tu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Kg(t){var e=Gh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qs(t){t._valueTracker||(t._valueTracker=Kg(t))}function Qh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Gh(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ii(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fl(t,e){var n=e.checked;return re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=sn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Yh(t,e){e=e.checked,e!=null&&eu(t,"checked",e,!1)}function zl(t,e){Yh(t,e);var n=sn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bl(t,e.type,sn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Dc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bl(t,e,n){(e!=="number"||Ii(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ur=Array.isArray;function er(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+sn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ul(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(Ur(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:sn(n)}}function Kh(t,e){var n=sn(e.value),r=sn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Lc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xs,Xh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xs=Xs||document.createElement("div"),Xs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function is(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qg=["Webkit","ms","Moz","O"];Object.keys(Wr).forEach(function(t){qg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wr[e]=Wr[t]})});function Zh(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wr.hasOwnProperty(t)&&Wr[t]?(""+e).trim():e+"px"}function Jh(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Zh(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Xg=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hl(t,e){if(e){if(Xg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function Wl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $l=null;function su(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gl=null,tr=null,nr=null;function Oc(t){if(t=Os(t)){if(typeof Gl!="function")throw Error(E(280));var e=t.stateNode;e&&(e=Eo(e),Gl(t.stateNode,t.type,e))}}function ef(t){tr?nr?nr.push(t):nr=[t]:tr=t}function tf(){if(tr){var t=tr,e=nr;if(nr=tr=null,Oc(t),e)for(t=0;t<e.length;t++)Oc(e[t])}}function nf(t,e){return t(e)}function rf(){}var Zo=!1;function sf(t,e,n){if(Zo)return t(e,n);Zo=!0;try{return nf(t,e,n)}finally{Zo=!1,(tr!==null||nr!==null)&&(rf(),tf())}}function os(t,e){var n=t.stateNode;if(n===null)return null;var r=Eo(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var Ql=!1;if(Pt)try{var Rr={};Object.defineProperty(Rr,"passive",{get:function(){Ql=!0}}),window.addEventListener("test",Rr,Rr),window.removeEventListener("test",Rr,Rr)}catch{Ql=!1}function Zg(t,e,n,r,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var $r=!1,Ri=null,Pi=!1,Yl=null,Jg={onError:function(t){$r=!0,Ri=t}};function e_(t,e,n,r,s,i,o,l,a){$r=!1,Ri=null,Zg.apply(Jg,arguments)}function t_(t,e,n,r,s,i,o,l,a){if(e_.apply(this,arguments),$r){if($r){var c=Ri;$r=!1,Ri=null}else throw Error(E(198));Pi||(Pi=!0,Yl=c)}}function On(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function of(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bc(t){if(On(t)!==t)throw Error(E(188))}function n_(t){var e=t.alternate;if(!e){if(e=On(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return bc(s),t;if(i===r)return bc(s),e;i=i.sibling}throw Error(E(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function lf(t){return t=n_(t),t!==null?af(t):null}function af(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=af(t);if(e!==null)return e;t=t.sibling}return null}var uf=Ge.unstable_scheduleCallback,Fc=Ge.unstable_cancelCallback,r_=Ge.unstable_shouldYield,s_=Ge.unstable_requestPaint,le=Ge.unstable_now,i_=Ge.unstable_getCurrentPriorityLevel,iu=Ge.unstable_ImmediatePriority,cf=Ge.unstable_UserBlockingPriority,Ai=Ge.unstable_NormalPriority,o_=Ge.unstable_LowPriority,df=Ge.unstable_IdlePriority,vo=null,yt=null;function l_(t){if(yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(vo,t,void 0,(t.current.flags&128)===128)}catch{}}var dt=Math.clz32?Math.clz32:c_,a_=Math.log,u_=Math.LN2;function c_(t){return t>>>=0,t===0?32:31-(a_(t)/u_|0)|0}var Zs=64,Js=4194304;function Vr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ji(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Vr(l):(i&=o,i!==0&&(r=Vr(i)))}else o=n&~s,o!==0?r=Vr(o):i!==0&&(r=Vr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dt(e),s=1<<n,r|=t[n],e&=~s;return r}function d_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-dt(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=d_(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function Kl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hf(){var t=Zs;return Zs<<=1,!(Zs&4194240)&&(Zs=64),t}function Jo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ms(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dt(e),t[e]=n}function f_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-dt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ou(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var H=0;function ff(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pf,lu,mf,gf,_f,ql=!1,ei=[],Gt=null,Qt=null,Yt=null,ls=new Map,as=new Map,Ut=[],p_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zc(t,e){switch(t){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":Qt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":ls.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":as.delete(e.pointerId)}}function Pr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Os(e),e!==null&&lu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function m_(t,e,n,r,s){switch(e){case"focusin":return Gt=Pr(Gt,t,e,n,r,s),!0;case"dragenter":return Qt=Pr(Qt,t,e,n,r,s),!0;case"mouseover":return Yt=Pr(Yt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ls.set(i,Pr(ls.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,as.set(i,Pr(as.get(i)||null,t,e,n,r,s)),!0}return!1}function vf(t){var e=wn(t.target);if(e!==null){var n=On(e);if(n!==null){if(e=n.tag,e===13){if(e=of(n),e!==null){t.blockedOn=e,_f(t.priority,function(){mf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _i(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$l=r,n.target.dispatchEvent(r),$l=null}else return e=Os(n),e!==null&&lu(e),t.blockedOn=n,!1;e.shift()}return!0}function Bc(t,e,n){_i(t)&&n.delete(e)}function g_(){ql=!1,Gt!==null&&_i(Gt)&&(Gt=null),Qt!==null&&_i(Qt)&&(Qt=null),Yt!==null&&_i(Yt)&&(Yt=null),ls.forEach(Bc),as.forEach(Bc)}function Ar(t,e){t.blockedOn===e&&(t.blockedOn=null,ql||(ql=!0,Ge.unstable_scheduleCallback(Ge.unstable_NormalPriority,g_)))}function us(t){function e(s){return Ar(s,t)}if(0<ei.length){Ar(ei[0],t);for(var n=1;n<ei.length;n++){var r=ei[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gt!==null&&Ar(Gt,t),Qt!==null&&Ar(Qt,t),Yt!==null&&Ar(Yt,t),ls.forEach(e),as.forEach(e),n=0;n<Ut.length;n++)r=Ut[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ut.length&&(n=Ut[0],n.blockedOn===null);)vf(n),n.blockedOn===null&&Ut.shift()}var rr=Ot.ReactCurrentBatchConfig,Di=!0;function __(t,e,n,r){var s=H,i=rr.transition;rr.transition=null;try{H=1,au(t,e,n,r)}finally{H=s,rr.transition=i}}function v_(t,e,n,r){var s=H,i=rr.transition;rr.transition=null;try{H=4,au(t,e,n,r)}finally{H=s,rr.transition=i}}function au(t,e,n,r){if(Di){var s=Xl(t,e,n,r);if(s===null)ul(t,e,r,Mi,n),zc(t,r);else if(m_(s,t,e,n,r))r.stopPropagation();else if(zc(t,r),e&4&&-1<p_.indexOf(t)){for(;s!==null;){var i=Os(s);if(i!==null&&pf(i),i=Xl(t,e,n,r),i===null&&ul(t,e,r,Mi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ul(t,e,r,null,n)}}var Mi=null;function Xl(t,e,n,r){if(Mi=null,t=su(r),t=wn(t),t!==null)if(e=On(t),e===null)t=null;else if(n=e.tag,n===13){if(t=of(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Mi=t,null}function yf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(i_()){case iu:return 1;case cf:return 4;case Ai:case o_:return 16;case df:return 536870912;default:return 16}default:return 16}}var Ht=null,uu=null,vi=null;function wf(){if(vi)return vi;var t,e=uu,n=e.length,r,s="value"in Ht?Ht.value:Ht.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return vi=s.slice(t,1<r?1-r:void 0)}function yi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ti(){return!0}function Uc(){return!1}function Ye(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ti:Uc,this.isPropagationStopped=Uc,this}return re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),e}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cu=Ye(Cr),Ls=re({},Cr,{view:0,detail:0}),y_=Ye(Ls),el,tl,jr,yo=re({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jr&&(jr&&t.type==="mousemove"?(el=t.screenX-jr.screenX,tl=t.screenY-jr.screenY):tl=el=0,jr=t),el)},movementY:function(t){return"movementY"in t?t.movementY:tl}}),Vc=Ye(yo),w_=re({},yo,{dataTransfer:0}),C_=Ye(w_),E_=re({},Ls,{relatedTarget:0}),nl=Ye(E_),S_=re({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),x_=Ye(S_),N_=re({},Cr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),k_=Ye(N_),T_=re({},Cr,{data:0}),Hc=Ye(T_),I_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},P_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=P_[t])?!!e[t]:!1}function du(){return A_}var j_=re({},Ls,{key:function(t){if(t.key){var e=I_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?R_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(t){return t.type==="keypress"?yi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),D_=Ye(j_),M_=re({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wc=Ye(M_),L_=re({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),O_=Ye(L_),b_=re({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),F_=Ye(b_),z_=re({},yo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B_=Ye(z_),U_=[9,13,27,32],hu=Pt&&"CompositionEvent"in window,Gr=null;Pt&&"documentMode"in document&&(Gr=document.documentMode);var V_=Pt&&"TextEvent"in window&&!Gr,Cf=Pt&&(!hu||Gr&&8<Gr&&11>=Gr),$c=" ",Gc=!1;function Ef(t,e){switch(t){case"keyup":return U_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hn=!1;function H_(t,e){switch(t){case"compositionend":return Sf(e);case"keypress":return e.which!==32?null:(Gc=!0,$c);case"textInput":return t=e.data,t===$c&&Gc?null:t;default:return null}}function W_(t,e){if(Hn)return t==="compositionend"||!hu&&Ef(t,e)?(t=wf(),vi=uu=Ht=null,Hn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cf&&e.locale!=="ko"?null:e.data;default:return null}}var $_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$_[t.type]:e==="textarea"}function xf(t,e,n,r){ef(r),e=Li(e,"onChange"),0<e.length&&(n=new cu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qr=null,cs=null;function G_(t){Lf(t,0)}function wo(t){var e=Gn(t);if(Qh(e))return t}function Q_(t,e){if(t==="change")return e}var Nf=!1;if(Pt){var rl;if(Pt){var sl="oninput"in document;if(!sl){var Yc=document.createElement("div");Yc.setAttribute("oninput","return;"),sl=typeof Yc.oninput=="function"}rl=sl}else rl=!1;Nf=rl&&(!document.documentMode||9<document.documentMode)}function Kc(){Qr&&(Qr.detachEvent("onpropertychange",kf),cs=Qr=null)}function kf(t){if(t.propertyName==="value"&&wo(cs)){var e=[];xf(e,cs,t,su(t)),sf(G_,e)}}function Y_(t,e,n){t==="focusin"?(Kc(),Qr=e,cs=n,Qr.attachEvent("onpropertychange",kf)):t==="focusout"&&Kc()}function K_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wo(cs)}function q_(t,e){if(t==="click")return wo(e)}function X_(t,e){if(t==="input"||t==="change")return wo(e)}function Z_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pt=typeof Object.is=="function"?Object.is:Z_;function ds(t,e){if(pt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Dl.call(e,s)||!pt(t[s],e[s]))return!1}return!0}function qc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xc(t,e){var n=qc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qc(n)}}function Tf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Tf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function If(){for(var t=window,e=Ii();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ii(t.document)}return e}function fu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function J_(t){var e=If(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Tf(n.ownerDocument.documentElement,n)){if(r!==null&&fu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Xc(n,i);var o=Xc(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ev=Pt&&"documentMode"in document&&11>=document.documentMode,Wn=null,Zl=null,Yr=null,Jl=!1;function Zc(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jl||Wn==null||Wn!==Ii(r)||(r=Wn,"selectionStart"in r&&fu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yr&&ds(Yr,r)||(Yr=r,r=Li(Zl,"onSelect"),0<r.length&&(e=new cu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wn)))}function ni(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $n={animationend:ni("Animation","AnimationEnd"),animationiteration:ni("Animation","AnimationIteration"),animationstart:ni("Animation","AnimationStart"),transitionend:ni("Transition","TransitionEnd")},il={},Rf={};Pt&&(Rf=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function Co(t){if(il[t])return il[t];if(!$n[t])return t;var e=$n[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Rf)return il[t]=e[n];return t}var Pf=Co("animationend"),Af=Co("animationiteration"),jf=Co("animationstart"),Df=Co("transitionend"),Mf=new Map,Jc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(t,e){Mf.set(t,e),Ln(e,[t])}for(var ol=0;ol<Jc.length;ol++){var ll=Jc[ol],tv=ll.toLowerCase(),nv=ll[0].toUpperCase()+ll.slice(1);dn(tv,"on"+nv)}dn(Pf,"onAnimationEnd");dn(Af,"onAnimationIteration");dn(jf,"onAnimationStart");dn("dblclick","onDoubleClick");dn("focusin","onFocus");dn("focusout","onBlur");dn(Df,"onTransitionEnd");ar("onMouseEnter",["mouseout","mouseover"]);ar("onMouseLeave",["mouseout","mouseover"]);ar("onPointerEnter",["pointerout","pointerover"]);ar("onPointerLeave",["pointerout","pointerover"]);Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function ed(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,t_(r,e,void 0,t),t.currentTarget=null}function Lf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;ed(s,l,c),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;ed(s,l,c),i=a}}}if(Pi)throw t=Yl,Pi=!1,Yl=null,t}function q(t,e){var n=e[sa];n===void 0&&(n=e[sa]=new Set);var r=t+"__bubble";n.has(r)||(Of(e,t,2,!1),n.add(r))}function al(t,e,n){var r=0;e&&(r|=4),Of(n,t,r,e)}var ri="_reactListening"+Math.random().toString(36).slice(2);function hs(t){if(!t[ri]){t[ri]=!0,Vh.forEach(function(n){n!=="selectionchange"&&(rv.has(n)||al(n,!1,t),al(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ri]||(e[ri]=!0,al("selectionchange",!1,e))}}function Of(t,e,n,r){switch(yf(e)){case 1:var s=__;break;case 4:s=v_;break;default:s=au}n=s.bind(null,e,n,t),s=void 0,!Ql||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ul(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=wn(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}sf(function(){var c=i,f=su(n),d=[];e:{var h=Mf.get(t);if(h!==void 0){var _=cu,v=t;switch(t){case"keypress":if(yi(n)===0)break e;case"keydown":case"keyup":_=D_;break;case"focusin":v="focus",_=nl;break;case"focusout":v="blur",_=nl;break;case"beforeblur":case"afterblur":_=nl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=C_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=O_;break;case Pf:case Af:case jf:_=x_;break;case Df:_=F_;break;case"scroll":_=y_;break;case"wheel":_=B_;break;case"copy":case"cut":case"paste":_=k_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Wc}var y=(e&4)!==0,D=!y&&t==="scroll",m=y?h!==null?h+"Capture":null:h;y=[];for(var p=c,g;p!==null;){g=p;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,m!==null&&(w=os(p,m),w!=null&&y.push(fs(p,w,g)))),D)break;p=p.return}0<y.length&&(h=new _(h,v,null,n,f),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",h&&n!==$l&&(v=n.relatedTarget||n.fromElement)&&(wn(v)||v[At]))break e;if((_||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,_?(v=n.relatedTarget||n.toElement,_=c,v=v?wn(v):null,v!==null&&(D=On(v),v!==D||v.tag!==5&&v.tag!==6)&&(v=null)):(_=null,v=c),_!==v)){if(y=Vc,w="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=Wc,w="onPointerLeave",m="onPointerEnter",p="pointer"),D=_==null?h:Gn(_),g=v==null?h:Gn(v),h=new y(w,p+"leave",_,n,f),h.target=D,h.relatedTarget=g,w=null,wn(f)===c&&(y=new y(m,p+"enter",v,n,f),y.target=g,y.relatedTarget=D,w=y),D=w,_&&v)t:{for(y=_,m=v,p=0,g=y;g;g=zn(g))p++;for(g=0,w=m;w;w=zn(w))g++;for(;0<p-g;)y=zn(y),p--;for(;0<g-p;)m=zn(m),g--;for(;p--;){if(y===m||m!==null&&y===m.alternate)break t;y=zn(y),m=zn(m)}y=null}else y=null;_!==null&&td(d,h,_,y,!1),v!==null&&D!==null&&td(d,D,v,y,!0)}}e:{if(h=c?Gn(c):window,_=h.nodeName&&h.nodeName.toLowerCase(),_==="select"||_==="input"&&h.type==="file")var x=Q_;else if(Qc(h))if(Nf)x=X_;else{x=K_;var T=Y_}else(_=h.nodeName)&&_.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=q_);if(x&&(x=x(t,c))){xf(d,x,n,f);break e}T&&T(t,h,c),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Bl(h,"number",h.value)}switch(T=c?Gn(c):window,t){case"focusin":(Qc(T)||T.contentEditable==="true")&&(Wn=T,Zl=c,Yr=null);break;case"focusout":Yr=Zl=Wn=null;break;case"mousedown":Jl=!0;break;case"contextmenu":case"mouseup":case"dragend":Jl=!1,Zc(d,n,f);break;case"selectionchange":if(ev)break;case"keydown":case"keyup":Zc(d,n,f)}var I;if(hu)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Hn?Ef(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Cf&&n.locale!=="ko"&&(Hn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Hn&&(I=wf()):(Ht=f,uu="value"in Ht?Ht.value:Ht.textContent,Hn=!0)),T=Li(c,P),0<T.length&&(P=new Hc(P,t,null,n,f),d.push({event:P,listeners:T}),I?P.data=I:(I=Sf(n),I!==null&&(P.data=I)))),(I=V_?H_(t,n):W_(t,n))&&(c=Li(c,"onBeforeInput"),0<c.length&&(f=new Hc("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:c}),f.data=I))}Lf(d,e)})}function fs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Li(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=os(t,n),i!=null&&r.unshift(fs(t,i,s)),i=os(t,e),i!=null&&r.push(fs(t,i,s))),t=t.return}return r}function zn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function td(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,s?(a=os(n,i),a!=null&&o.unshift(fs(n,a,l))):s||(a=os(n,i),a!=null&&o.push(fs(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var sv=/\r\n?/g,iv=/\u0000|\uFFFD/g;function nd(t){return(typeof t=="string"?t:""+t).replace(sv,`
`).replace(iv,"")}function si(t,e,n){if(e=nd(e),nd(t)!==e&&n)throw Error(E(425))}function Oi(){}var ea=null,ta=null;function na(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ra=typeof setTimeout=="function"?setTimeout:void 0,ov=typeof clearTimeout=="function"?clearTimeout:void 0,rd=typeof Promise=="function"?Promise:void 0,lv=typeof queueMicrotask=="function"?queueMicrotask:typeof rd<"u"?function(t){return rd.resolve(null).then(t).catch(av)}:ra;function av(t){setTimeout(function(){throw t})}function cl(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),us(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);us(e)}function Kt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Er=Math.random().toString(36).slice(2),vt="__reactFiber$"+Er,ps="__reactProps$"+Er,At="__reactContainer$"+Er,sa="__reactEvents$"+Er,uv="__reactListeners$"+Er,cv="__reactHandles$"+Er;function wn(t){var e=t[vt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[At]||n[vt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=sd(t);t!==null;){if(n=t[vt])return n;t=sd(t)}return e}t=n,n=t.parentNode}return null}function Os(t){return t=t[vt]||t[At],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function Eo(t){return t[ps]||null}var ia=[],Qn=-1;function hn(t){return{current:t}}function X(t){0>Qn||(t.current=ia[Qn],ia[Qn]=null,Qn--)}function K(t,e){Qn++,ia[Qn]=t.current,t.current=e}var on={},Te=hn(on),ze=hn(!1),Tn=on;function ur(t,e){var n=t.type.contextTypes;if(!n)return on;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Be(t){return t=t.childContextTypes,t!=null}function bi(){X(ze),X(Te)}function id(t,e,n){if(Te.current!==on)throw Error(E(168));K(Te,e),K(ze,n)}function bf(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(E(108,Yg(t)||"Unknown",s));return re({},n,r)}function Fi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||on,Tn=Te.current,K(Te,t),K(ze,ze.current),!0}function od(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=bf(t,e,Tn),r.__reactInternalMemoizedMergedChildContext=t,X(ze),X(Te),K(Te,t)):X(ze),K(ze,n)}var xt=null,So=!1,dl=!1;function Ff(t){xt===null?xt=[t]:xt.push(t)}function dv(t){So=!0,Ff(t)}function fn(){if(!dl&&xt!==null){dl=!0;var t=0,e=H;try{var n=xt;for(H=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xt=null,So=!1}catch(s){throw xt!==null&&(xt=xt.slice(t+1)),uf(iu,fn),s}finally{H=e,dl=!1}}return null}var Yn=[],Kn=0,zi=null,Bi=0,Ke=[],qe=0,In=null,Nt=1,kt="";function gn(t,e){Yn[Kn++]=Bi,Yn[Kn++]=zi,zi=t,Bi=e}function zf(t,e,n){Ke[qe++]=Nt,Ke[qe++]=kt,Ke[qe++]=In,In=t;var r=Nt;t=kt;var s=32-dt(r)-1;r&=~(1<<s),n+=1;var i=32-dt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Nt=1<<32-dt(e)+s|n<<s|r,kt=i+t}else Nt=1<<i|n<<s|r,kt=t}function pu(t){t.return!==null&&(gn(t,1),zf(t,1,0))}function mu(t){for(;t===zi;)zi=Yn[--Kn],Yn[Kn]=null,Bi=Yn[--Kn],Yn[Kn]=null;for(;t===In;)In=Ke[--qe],Ke[qe]=null,kt=Ke[--qe],Ke[qe]=null,Nt=Ke[--qe],Ke[qe]=null}var $e=null,We=null,J=!1,ot=null;function Bf(t,e){var n=Xe(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ld(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$e=t,We=Kt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$e=t,We=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=In!==null?{id:Nt,overflow:kt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xe(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$e=t,We=null,!0):!1;default:return!1}}function oa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function la(t){if(J){var e=We;if(e){var n=e;if(!ld(t,e)){if(oa(t))throw Error(E(418));e=Kt(n.nextSibling);var r=$e;e&&ld(t,e)?Bf(r,n):(t.flags=t.flags&-4097|2,J=!1,$e=t)}}else{if(oa(t))throw Error(E(418));t.flags=t.flags&-4097|2,J=!1,$e=t}}}function ad(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$e=t}function ii(t){if(t!==$e)return!1;if(!J)return ad(t),J=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!na(t.type,t.memoizedProps)),e&&(e=We)){if(oa(t))throw Uf(),Error(E(418));for(;e;)Bf(t,e),e=Kt(e.nextSibling)}if(ad(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){We=Kt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}We=null}}else We=$e?Kt(t.stateNode.nextSibling):null;return!0}function Uf(){for(var t=We;t;)t=Kt(t.nextSibling)}function cr(){We=$e=null,J=!1}function gu(t){ot===null?ot=[t]:ot.push(t)}var hv=Ot.ReactCurrentBatchConfig;function Dr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function oi(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ud(t){var e=t._init;return e(t._payload)}function Vf(t){function e(m,p){if(t){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Jt(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,p,g,w){return p===null||p.tag!==6?(p=vl(g,m.mode,w),p.return=m,p):(p=s(p,g),p.return=m,p)}function a(m,p,g,w){var x=g.type;return x===Vn?f(m,p,g.props.children,w,g.key):p!==null&&(p.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===zt&&ud(x)===p.type)?(w=s(p,g.props),w.ref=Dr(m,p,g),w.return=m,w):(w=ki(g.type,g.key,g.props,null,m.mode,w),w.ref=Dr(m,p,g),w.return=m,w)}function c(m,p,g,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=yl(g,m.mode,w),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function f(m,p,g,w,x){return p===null||p.tag!==7?(p=Nn(g,m.mode,w,x),p.return=m,p):(p=s(p,g),p.return=m,p)}function d(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=vl(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ks:return g=ki(p.type,p.key,p.props,null,m.mode,g),g.ref=Dr(m,null,p),g.return=m,g;case Un:return p=yl(p,m.mode,g),p.return=m,p;case zt:var w=p._init;return d(m,w(p._payload),g)}if(Ur(p)||Ir(p))return p=Nn(p,m.mode,g,null),p.return=m,p;oi(m,p)}return null}function h(m,p,g,w){var x=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return x!==null?null:l(m,p,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ks:return g.key===x?a(m,p,g,w):null;case Un:return g.key===x?c(m,p,g,w):null;case zt:return x=g._init,h(m,p,x(g._payload),w)}if(Ur(g)||Ir(g))return x!==null?null:f(m,p,g,w,null);oi(m,g)}return null}function _(m,p,g,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(g)||null,l(p,m,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ks:return m=m.get(w.key===null?g:w.key)||null,a(p,m,w,x);case Un:return m=m.get(w.key===null?g:w.key)||null,c(p,m,w,x);case zt:var T=w._init;return _(m,p,g,T(w._payload),x)}if(Ur(w)||Ir(w))return m=m.get(g)||null,f(p,m,w,x,null);oi(p,w)}return null}function v(m,p,g,w){for(var x=null,T=null,I=p,P=p=0,V=null;I!==null&&P<g.length;P++){I.index>P?(V=I,I=null):V=I.sibling;var L=h(m,I,g[P],w);if(L===null){I===null&&(I=V);break}t&&I&&L.alternate===null&&e(m,I),p=i(L,p,P),T===null?x=L:T.sibling=L,T=L,I=V}if(P===g.length)return n(m,I),J&&gn(m,P),x;if(I===null){for(;P<g.length;P++)I=d(m,g[P],w),I!==null&&(p=i(I,p,P),T===null?x=I:T.sibling=I,T=I);return J&&gn(m,P),x}for(I=r(m,I);P<g.length;P++)V=_(I,m,P,g[P],w),V!==null&&(t&&V.alternate!==null&&I.delete(V.key===null?P:V.key),p=i(V,p,P),T===null?x=V:T.sibling=V,T=V);return t&&I.forEach(function(Se){return e(m,Se)}),J&&gn(m,P),x}function y(m,p,g,w){var x=Ir(g);if(typeof x!="function")throw Error(E(150));if(g=x.call(g),g==null)throw Error(E(151));for(var T=x=null,I=p,P=p=0,V=null,L=g.next();I!==null&&!L.done;P++,L=g.next()){I.index>P?(V=I,I=null):V=I.sibling;var Se=h(m,I,L.value,w);if(Se===null){I===null&&(I=V);break}t&&I&&Se.alternate===null&&e(m,I),p=i(Se,p,P),T===null?x=Se:T.sibling=Se,T=Se,I=V}if(L.done)return n(m,I),J&&gn(m,P),x;if(I===null){for(;!L.done;P++,L=g.next())L=d(m,L.value,w),L!==null&&(p=i(L,p,P),T===null?x=L:T.sibling=L,T=L);return J&&gn(m,P),x}for(I=r(m,I);!L.done;P++,L=g.next())L=_(I,m,P,L.value,w),L!==null&&(t&&L.alternate!==null&&I.delete(L.key===null?P:L.key),p=i(L,p,P),T===null?x=L:T.sibling=L,T=L);return t&&I.forEach(function(mt){return e(m,mt)}),J&&gn(m,P),x}function D(m,p,g,w){if(typeof g=="object"&&g!==null&&g.type===Vn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ks:e:{for(var x=g.key,T=p;T!==null;){if(T.key===x){if(x=g.type,x===Vn){if(T.tag===7){n(m,T.sibling),p=s(T,g.props.children),p.return=m,m=p;break e}}else if(T.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===zt&&ud(x)===T.type){n(m,T.sibling),p=s(T,g.props),p.ref=Dr(m,T,g),p.return=m,m=p;break e}n(m,T);break}else e(m,T);T=T.sibling}g.type===Vn?(p=Nn(g.props.children,m.mode,w,g.key),p.return=m,m=p):(w=ki(g.type,g.key,g.props,null,m.mode,w),w.ref=Dr(m,p,g),w.return=m,m=w)}return o(m);case Un:e:{for(T=g.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=yl(g,m.mode,w),p.return=m,m=p}return o(m);case zt:return T=g._init,D(m,p,T(g._payload),w)}if(Ur(g))return v(m,p,g,w);if(Ir(g))return y(m,p,g,w);oi(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,g),p.return=m,m=p):(n(m,p),p=vl(g,m.mode,w),p.return=m,m=p),o(m)):n(m,p)}return D}var dr=Vf(!0),Hf=Vf(!1),Ui=hn(null),Vi=null,qn=null,_u=null;function vu(){_u=qn=Vi=null}function yu(t){var e=Ui.current;X(Ui),t._currentValue=e}function aa(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function sr(t,e){Vi=t,_u=qn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(be=!0),t.firstContext=null)}function et(t){var e=t._currentValue;if(_u!==t)if(t={context:t,memoizedValue:e,next:null},qn===null){if(Vi===null)throw Error(E(308));qn=t,Vi.dependencies={lanes:0,firstContext:t}}else qn=qn.next=t;return e}var Cn=null;function wu(t){Cn===null?Cn=[t]:Cn.push(t)}function Wf(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,wu(e)):(n.next=s.next,s.next=n),e.interleaved=n,jt(t,r)}function jt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Bt=!1;function Cu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $f(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function It(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,B&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,jt(t,n)}return s=r.interleaved,s===null?(e.next=e,wu(r)):(e.next=s.next,s.next=e),r.interleaved=e,jt(t,n)}function wi(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ou(t,n)}}function cd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hi(t,e,n,r){var s=t.updateQueue;Bt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=a))}if(i!==null){var d=s.baseState;o=0,f=c=a=null,l=i;do{var h=l.lane,_=l.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,y=l;switch(h=e,_=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(_,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(_,d,h):v,h==null)break e;d=re({},d,h);break e;case 2:Bt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else _={eventTime:_,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=_,a=d):f=f.next=_,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(a=d),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Pn|=o,t.lanes=o,t.memoizedState=d}}function dd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(E(191,s));s.call(r)}}}var bs={},wt=hn(bs),ms=hn(bs),gs=hn(bs);function En(t){if(t===bs)throw Error(E(174));return t}function Eu(t,e){switch(K(gs,e),K(ms,t),K(wt,bs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vl(e,t)}X(wt),K(wt,e)}function hr(){X(wt),X(ms),X(gs)}function Gf(t){En(gs.current);var e=En(wt.current),n=Vl(e,t.type);e!==n&&(K(ms,t),K(wt,n))}function Su(t){ms.current===t&&(X(wt),X(ms))}var ee=hn(0);function Wi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hl=[];function xu(){for(var t=0;t<hl.length;t++)hl[t]._workInProgressVersionPrimary=null;hl.length=0}var Ci=Ot.ReactCurrentDispatcher,fl=Ot.ReactCurrentBatchConfig,Rn=0,ne=null,ue=null,me=null,$i=!1,Kr=!1,_s=0,fv=0;function xe(){throw Error(E(321))}function Nu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pt(t[n],e[n]))return!1;return!0}function ku(t,e,n,r,s,i){if(Rn=i,ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ci.current=t===null||t.memoizedState===null?_v:vv,t=n(r,s),Kr){i=0;do{if(Kr=!1,_s=0,25<=i)throw Error(E(301));i+=1,me=ue=null,e.updateQueue=null,Ci.current=yv,t=n(r,s)}while(Kr)}if(Ci.current=Gi,e=ue!==null&&ue.next!==null,Rn=0,me=ue=ne=null,$i=!1,e)throw Error(E(300));return t}function Tu(){var t=_s!==0;return _s=0,t}function _t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ne.memoizedState=me=t:me=me.next=t,me}function tt(){if(ue===null){var t=ne.alternate;t=t!==null?t.memoizedState:null}else t=ue.next;var e=me===null?ne.memoizedState:me.next;if(e!==null)me=e,ue=t;else{if(t===null)throw Error(E(310));ue=t,t={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},me===null?ne.memoizedState=me=t:me=me.next=t}return me}function vs(t,e){return typeof e=="function"?e(t):e}function pl(t){var e=tt(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=ue,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,c=i;do{var f=c.lane;if((Rn&f)===f)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,ne.lanes|=f,Pn|=f}c=c.next}while(c!==null&&c!==i);a===null?o=r:a.next=l,pt(r,e.memoizedState)||(be=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ne.lanes|=i,Pn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ml(t){var e=tt(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);pt(i,e.memoizedState)||(be=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Qf(){}function Yf(t,e){var n=ne,r=tt(),s=e(),i=!pt(r.memoizedState,s);if(i&&(r.memoizedState=s,be=!0),r=r.queue,Iu(Xf.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,ys(9,qf.bind(null,n,r,s,e),void 0,null),_e===null)throw Error(E(349));Rn&30||Kf(n,e,s)}return s}function Kf(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qf(t,e,n,r){e.value=n,e.getSnapshot=r,Zf(e)&&Jf(t)}function Xf(t,e,n){return n(function(){Zf(e)&&Jf(t)})}function Zf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pt(t,n)}catch{return!0}}function Jf(t){var e=jt(t,1);e!==null&&ht(e,t,1,-1)}function hd(t){var e=_t();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:t},e.queue=t,t=t.dispatch=gv.bind(null,ne,t),[e.memoizedState,t]}function ys(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ep(){return tt().memoizedState}function Ei(t,e,n,r){var s=_t();ne.flags|=t,s.memoizedState=ys(1|e,n,void 0,r===void 0?null:r)}function xo(t,e,n,r){var s=tt();r=r===void 0?null:r;var i=void 0;if(ue!==null){var o=ue.memoizedState;if(i=o.destroy,r!==null&&Nu(r,o.deps)){s.memoizedState=ys(e,n,i,r);return}}ne.flags|=t,s.memoizedState=ys(1|e,n,i,r)}function fd(t,e){return Ei(8390656,8,t,e)}function Iu(t,e){return xo(2048,8,t,e)}function tp(t,e){return xo(4,2,t,e)}function np(t,e){return xo(4,4,t,e)}function rp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sp(t,e,n){return n=n!=null?n.concat([t]):null,xo(4,4,rp.bind(null,e,t),n)}function Ru(){}function ip(t,e){var n=tt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function op(t,e){var n=tt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lp(t,e,n){return Rn&21?(pt(n,e)||(n=hf(),ne.lanes|=n,Pn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,be=!0),t.memoizedState=n)}function pv(t,e){var n=H;H=n!==0&&4>n?n:4,t(!0);var r=fl.transition;fl.transition={};try{t(!1),e()}finally{H=n,fl.transition=r}}function ap(){return tt().memoizedState}function mv(t,e,n){var r=Zt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},up(t))cp(e,n);else if(n=Wf(t,e,n,r),n!==null){var s=Ae();ht(n,t,r,s),dp(n,e,r)}}function gv(t,e,n){var r=Zt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(up(t))cp(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,pt(l,o)){var a=e.interleaved;a===null?(s.next=s,wu(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=Wf(t,e,s,r),n!==null&&(s=Ae(),ht(n,t,r,s),dp(n,e,r))}}function up(t){var e=t.alternate;return t===ne||e!==null&&e===ne}function cp(t,e){Kr=$i=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ou(t,n)}}var Gi={readContext:et,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useInsertionEffect:xe,useLayoutEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useMutableSource:xe,useSyncExternalStore:xe,useId:xe,unstable_isNewReconciler:!1},_v={readContext:et,useCallback:function(t,e){return _t().memoizedState=[t,e===void 0?null:e],t},useContext:et,useEffect:fd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ei(4194308,4,rp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ei(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ei(4,2,t,e)},useMemo:function(t,e){var n=_t();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_t();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=mv.bind(null,ne,t),[r.memoizedState,t]},useRef:function(t){var e=_t();return t={current:t},e.memoizedState=t},useState:hd,useDebugValue:Ru,useDeferredValue:function(t){return _t().memoizedState=t},useTransition:function(){var t=hd(!1),e=t[0];return t=pv.bind(null,t[1]),_t().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ne,s=_t();if(J){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),_e===null)throw Error(E(349));Rn&30||Kf(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,fd(Xf.bind(null,r,i,t),[t]),r.flags|=2048,ys(9,qf.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=_t(),e=_e.identifierPrefix;if(J){var n=kt,r=Nt;n=(r&~(1<<32-dt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_s++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vv={readContext:et,useCallback:ip,useContext:et,useEffect:Iu,useImperativeHandle:sp,useInsertionEffect:tp,useLayoutEffect:np,useMemo:op,useReducer:pl,useRef:ep,useState:function(){return pl(vs)},useDebugValue:Ru,useDeferredValue:function(t){var e=tt();return lp(e,ue.memoizedState,t)},useTransition:function(){var t=pl(vs)[0],e=tt().memoizedState;return[t,e]},useMutableSource:Qf,useSyncExternalStore:Yf,useId:ap,unstable_isNewReconciler:!1},yv={readContext:et,useCallback:ip,useContext:et,useEffect:Iu,useImperativeHandle:sp,useInsertionEffect:tp,useLayoutEffect:np,useMemo:op,useReducer:ml,useRef:ep,useState:function(){return ml(vs)},useDebugValue:Ru,useDeferredValue:function(t){var e=tt();return ue===null?e.memoizedState=t:lp(e,ue.memoizedState,t)},useTransition:function(){var t=ml(vs)[0],e=tt().memoizedState;return[t,e]},useMutableSource:Qf,useSyncExternalStore:Yf,useId:ap,unstable_isNewReconciler:!1};function st(t,e){if(t&&t.defaultProps){e=re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ua(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var No={isMounted:function(t){return(t=t._reactInternals)?On(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ae(),s=Zt(t),i=It(r,s);i.payload=e,n!=null&&(i.callback=n),e=qt(t,i,s),e!==null&&(ht(e,t,s,r),wi(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ae(),s=Zt(t),i=It(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=qt(t,i,s),e!==null&&(ht(e,t,s,r),wi(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ae(),r=Zt(t),s=It(n,r);s.tag=2,e!=null&&(s.callback=e),e=qt(t,s,r),e!==null&&(ht(e,t,r,n),wi(e,t,r))}};function pd(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ds(n,r)||!ds(s,i):!0}function hp(t,e,n){var r=!1,s=on,i=e.contextType;return typeof i=="object"&&i!==null?i=et(i):(s=Be(e)?Tn:Te.current,r=e.contextTypes,i=(r=r!=null)?ur(t,s):on),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=No,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function md(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&No.enqueueReplaceState(e,e.state,null)}function ca(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Cu(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=et(i):(i=Be(e)?Tn:Te.current,s.context=ur(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ua(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&No.enqueueReplaceState(s,s.state,null),Hi(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function fr(t,e){try{var n="",r=e;do n+=Qg(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function gl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function da(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var wv=typeof WeakMap=="function"?WeakMap:Map;function fp(t,e,n){n=It(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yi||(Yi=!0,Ca=r),da(t,e)},n}function pp(t,e,n){n=It(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){da(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){da(t,e),typeof r!="function"&&(Xt===null?Xt=new Set([this]):Xt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function gd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new wv;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Mv.bind(null,t,e,n),e.then(t,t))}function _d(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vd(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=It(-1,1),e.tag=2,qt(n,e,1))),n.lanes|=1),t)}var Cv=Ot.ReactCurrentOwner,be=!1;function Re(t,e,n,r){e.child=t===null?Hf(e,null,n,r):dr(e,t.child,n,r)}function yd(t,e,n,r,s){n=n.render;var i=e.ref;return sr(e,s),r=ku(t,e,n,r,i,s),n=Tu(),t!==null&&!be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Dt(t,e,s)):(J&&n&&pu(e),e.flags|=1,Re(t,e,r,s),e.child)}function wd(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!bu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,mp(t,e,i,r,s)):(t=ki(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ds,n(o,r)&&t.ref===e.ref)return Dt(t,e,s)}return e.flags|=1,t=Jt(i,r),t.ref=e.ref,t.return=e,e.child=t}function mp(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ds(i,r)&&t.ref===e.ref)if(be=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(be=!0);else return e.lanes=t.lanes,Dt(t,e,s)}return ha(t,e,n,r,s)}function gp(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(Zn,He),He|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,K(Zn,He),He|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,K(Zn,He),He|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,K(Zn,He),He|=r;return Re(t,e,s,n),e.child}function _p(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ha(t,e,n,r,s){var i=Be(n)?Tn:Te.current;return i=ur(e,i),sr(e,s),n=ku(t,e,n,r,i,s),r=Tu(),t!==null&&!be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Dt(t,e,s)):(J&&r&&pu(e),e.flags|=1,Re(t,e,n,s),e.child)}function Cd(t,e,n,r,s){if(Be(n)){var i=!0;Fi(e)}else i=!1;if(sr(e,s),e.stateNode===null)Si(t,e),hp(e,n,r),ca(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=et(c):(c=Be(n)?Tn:Te.current,c=ur(e,c));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&md(e,o,r,c),Bt=!1;var h=e.memoizedState;o.state=h,Hi(e,r,o,s),a=e.memoizedState,l!==r||h!==a||ze.current||Bt?(typeof f=="function"&&(ua(e,n,f,r),a=e.memoizedState),(l=Bt||pd(e,n,l,r,h,a,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$f(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:st(e.type,l),o.props=c,d=e.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=et(a):(a=Be(n)?Tn:Te.current,a=ur(e,a));var _=n.getDerivedStateFromProps;(f=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==a)&&md(e,o,r,a),Bt=!1,h=e.memoizedState,o.state=h,Hi(e,r,o,s);var v=e.memoizedState;l!==d||h!==v||ze.current||Bt?(typeof _=="function"&&(ua(e,n,_,r),v=e.memoizedState),(c=Bt||pd(e,n,c,r,h,v,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return fa(t,e,n,r,i,s)}function fa(t,e,n,r,s,i){_p(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&od(e,n,!1),Dt(t,e,i);r=e.stateNode,Cv.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=dr(e,t.child,null,i),e.child=dr(e,null,l,i)):Re(t,e,l,i),e.memoizedState=r.state,s&&od(e,n,!0),e.child}function vp(t){var e=t.stateNode;e.pendingContext?id(t,e.pendingContext,e.pendingContext!==e.context):e.context&&id(t,e.context,!1),Eu(t,e.containerInfo)}function Ed(t,e,n,r,s){return cr(),gu(s),e.flags|=256,Re(t,e,n,r),e.child}var pa={dehydrated:null,treeContext:null,retryLane:0};function ma(t){return{baseLanes:t,cachePool:null,transitions:null}}function yp(t,e,n){var r=e.pendingProps,s=ee.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),K(ee,s&1),t===null)return la(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Io(o,r,0,null),t=Nn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ma(n),e.memoizedState=pa,t):Pu(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Ev(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Jt(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Jt(l,i):(i=Nn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ma(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=pa,r}return i=t.child,t=i.sibling,r=Jt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Pu(t,e){return e=Io({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function li(t,e,n,r){return r!==null&&gu(r),dr(e,t.child,null,n),t=Pu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ev(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=gl(Error(E(422))),li(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Io({mode:"visible",children:r.children},s,0,null),i=Nn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&dr(e,t.child,null,o),e.child.memoizedState=ma(o),e.memoizedState=pa,i);if(!(e.mode&1))return li(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(E(419)),r=gl(i,r,void 0),li(t,e,o,r)}if(l=(o&t.childLanes)!==0,be||l){if(r=_e,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,jt(t,s),ht(r,t,s,-1))}return Ou(),r=gl(Error(E(421))),li(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Lv.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,We=Kt(s.nextSibling),$e=e,J=!0,ot=null,t!==null&&(Ke[qe++]=Nt,Ke[qe++]=kt,Ke[qe++]=In,Nt=t.id,kt=t.overflow,In=e),e=Pu(e,r.children),e.flags|=4096,e)}function Sd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),aa(t.return,e,n)}function _l(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function wp(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Re(t,e,r.children,n),r=ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sd(t,n,e);else if(t.tag===19)Sd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(K(ee,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Wi(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),_l(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Wi(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}_l(e,!0,n,null,i);break;case"together":_l(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Si(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Pn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=Jt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Jt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Sv(t,e,n){switch(e.tag){case 3:vp(e),cr();break;case 5:Gf(e);break;case 1:Be(e.type)&&Fi(e);break;case 4:Eu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;K(Ui,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(K(ee,ee.current&1),e.flags|=128,null):n&e.child.childLanes?yp(t,e,n):(K(ee,ee.current&1),t=Dt(t,e,n),t!==null?t.sibling:null);K(ee,ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wp(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(ee,ee.current),r)break;return null;case 22:case 23:return e.lanes=0,gp(t,e,n)}return Dt(t,e,n)}var Cp,ga,Ep,Sp;Cp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ga=function(){};Ep=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,En(wt.current);var i=null;switch(n){case"input":s=Fl(t,s),r=Fl(t,r),i=[];break;case"select":s=re({},s,{value:void 0}),r=re({},r,{value:void 0}),i=[];break;case"textarea":s=Ul(t,s),r=Ul(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Oi)}Hl(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ss.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var a=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ss.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&q("scroll",t),i||l===a||(i=[])):(i=i||[]).push(c,a))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Sp=function(t,e,n,r){n!==r&&(e.flags|=4)};function Mr(t,e){if(!J)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ne(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xv(t,e,n){var r=e.pendingProps;switch(mu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(e),null;case 1:return Be(e.type)&&bi(),Ne(e),null;case 3:return r=e.stateNode,hr(),X(ze),X(Te),xu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ii(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ot!==null&&(xa(ot),ot=null))),ga(t,e),Ne(e),null;case 5:Su(e);var s=En(gs.current);if(n=e.type,t!==null&&e.stateNode!=null)Ep(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return Ne(e),null}if(t=En(wt.current),ii(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[vt]=e,r[ps]=i,t=(e.mode&1)!==0,n){case"dialog":q("cancel",r),q("close",r);break;case"iframe":case"object":case"embed":q("load",r);break;case"video":case"audio":for(s=0;s<Hr.length;s++)q(Hr[s],r);break;case"source":q("error",r);break;case"img":case"image":case"link":q("error",r),q("load",r);break;case"details":q("toggle",r);break;case"input":jc(r,i),q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},q("invalid",r);break;case"textarea":Mc(r,i),q("invalid",r)}Hl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&si(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&si(r.textContent,l,t),s=["children",""+l]):ss.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&q("scroll",r)}switch(n){case"input":qs(r),Dc(r,i,!0);break;case"textarea":qs(r),Lc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Oi)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vt]=e,t[ps]=r,Cp(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wl(n,r),n){case"dialog":q("cancel",t),q("close",t),s=r;break;case"iframe":case"object":case"embed":q("load",t),s=r;break;case"video":case"audio":for(s=0;s<Hr.length;s++)q(Hr[s],t);s=r;break;case"source":q("error",t),s=r;break;case"img":case"image":case"link":q("error",t),q("load",t),s=r;break;case"details":q("toggle",t),s=r;break;case"input":jc(t,r),s=Fl(t,r),q("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=re({},r,{value:void 0}),q("invalid",t);break;case"textarea":Mc(t,r),s=Ul(t,r),q("invalid",t);break;default:s=r}Hl(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Jh(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Xh(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&is(t,a):typeof a=="number"&&is(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ss.hasOwnProperty(i)?a!=null&&i==="onScroll"&&q("scroll",t):a!=null&&eu(t,i,a,o))}switch(n){case"input":qs(t),Dc(t,r,!1);break;case"textarea":qs(t),Lc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+sn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?er(t,!!r.multiple,i,!1):r.defaultValue!=null&&er(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Oi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ne(e),null;case 6:if(t&&e.stateNode!=null)Sp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=En(gs.current),En(wt.current),ii(e)){if(r=e.stateNode,n=e.memoizedProps,r[vt]=e,(i=r.nodeValue!==n)&&(t=$e,t!==null))switch(t.tag){case 3:si(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&si(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vt]=e,e.stateNode=r}return Ne(e),null;case 13:if(X(ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(J&&We!==null&&e.mode&1&&!(e.flags&128))Uf(),cr(),e.flags|=98560,i=!1;else if(i=ii(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[vt]=e}else cr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ne(e),i=!1}else ot!==null&&(xa(ot),ot=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ee.current&1?he===0&&(he=3):Ou())),e.updateQueue!==null&&(e.flags|=4),Ne(e),null);case 4:return hr(),ga(t,e),t===null&&hs(e.stateNode.containerInfo),Ne(e),null;case 10:return yu(e.type._context),Ne(e),null;case 17:return Be(e.type)&&bi(),Ne(e),null;case 19:if(X(ee),i=e.memoizedState,i===null)return Ne(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Mr(i,!1);else{if(he!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wi(t),o!==null){for(e.flags|=128,Mr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return K(ee,ee.current&1|2),e.child}t=t.sibling}i.tail!==null&&le()>pr&&(e.flags|=128,r=!0,Mr(i,!1),e.lanes=4194304)}else{if(!r)if(t=Wi(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!J)return Ne(e),null}else 2*le()-i.renderingStartTime>pr&&n!==1073741824&&(e.flags|=128,r=!0,Mr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=le(),e.sibling=null,n=ee.current,K(ee,r?n&1|2:n&1),e):(Ne(e),null);case 22:case 23:return Lu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?He&1073741824&&(Ne(e),e.subtreeFlags&6&&(e.flags|=8192)):Ne(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function Nv(t,e){switch(mu(e),e.tag){case 1:return Be(e.type)&&bi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hr(),X(ze),X(Te),xu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Su(e),null;case 13:if(X(ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));cr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return X(ee),null;case 4:return hr(),null;case 10:return yu(e.type._context),null;case 22:case 23:return Lu(),null;case 24:return null;default:return null}}var ai=!1,ke=!1,kv=typeof WeakSet=="function"?WeakSet:Set,R=null;function Xn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ie(t,e,r)}else n.current=null}function _a(t,e,n){try{n()}catch(r){ie(t,e,r)}}var xd=!1;function Tv(t,e){if(ea=Di,t=If(),fu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,f=0,d=t,h=null;t:for(;;){for(var _;d!==n||s!==0&&d.nodeType!==3||(l=o+s),d!==i||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(_=d.firstChild)!==null;)h=d,d=_;for(;;){if(d===t)break t;if(h===n&&++c===s&&(l=o),h===i&&++f===r&&(a=o),(_=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=_}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:t,selectionRange:n},Di=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,D=v.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:st(e.type,y),D);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(w){ie(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return v=xd,xd=!1,v}function qr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&_a(e,n,i)}s=s.next}while(s!==r)}}function ko(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function va(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function xp(t){var e=t.alternate;e!==null&&(t.alternate=null,xp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vt],delete e[ps],delete e[sa],delete e[uv],delete e[cv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Np(t){return t.tag===5||t.tag===3||t.tag===4}function Nd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Np(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ya(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Oi));else if(r!==4&&(t=t.child,t!==null))for(ya(t,e,n),t=t.sibling;t!==null;)ya(t,e,n),t=t.sibling}function wa(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wa(t,e,n),t=t.sibling;t!==null;)wa(t,e,n),t=t.sibling}var ve=null,it=!1;function Ft(t,e,n){for(n=n.child;n!==null;)kp(t,e,n),n=n.sibling}function kp(t,e,n){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(vo,n)}catch{}switch(n.tag){case 5:ke||Xn(n,e);case 6:var r=ve,s=it;ve=null,Ft(t,e,n),ve=r,it=s,ve!==null&&(it?(t=ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(it?(t=ve,n=n.stateNode,t.nodeType===8?cl(t.parentNode,n):t.nodeType===1&&cl(t,n),us(t)):cl(ve,n.stateNode));break;case 4:r=ve,s=it,ve=n.stateNode.containerInfo,it=!0,Ft(t,e,n),ve=r,it=s;break;case 0:case 11:case 14:case 15:if(!ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&_a(n,e,o),s=s.next}while(s!==r)}Ft(t,e,n);break;case 1:if(!ke&&(Xn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ie(n,e,l)}Ft(t,e,n);break;case 21:Ft(t,e,n);break;case 22:n.mode&1?(ke=(r=ke)||n.memoizedState!==null,Ft(t,e,n),ke=r):Ft(t,e,n);break;default:Ft(t,e,n)}}function kd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kv),e.forEach(function(r){var s=Ov.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function rt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ve=l.stateNode,it=!1;break e;case 3:ve=l.stateNode.containerInfo,it=!0;break e;case 4:ve=l.stateNode.containerInfo,it=!0;break e}l=l.return}if(ve===null)throw Error(E(160));kp(i,o,s),ve=null,it=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){ie(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Tp(e,t),e=e.sibling}function Tp(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rt(e,t),gt(t),r&4){try{qr(3,t,t.return),ko(3,t)}catch(y){ie(t,t.return,y)}try{qr(5,t,t.return)}catch(y){ie(t,t.return,y)}}break;case 1:rt(e,t),gt(t),r&512&&n!==null&&Xn(n,n.return);break;case 5:if(rt(e,t),gt(t),r&512&&n!==null&&Xn(n,n.return),t.flags&32){var s=t.stateNode;try{is(s,"")}catch(y){ie(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Yh(s,i),Wl(l,o);var c=Wl(l,i);for(o=0;o<a.length;o+=2){var f=a[o],d=a[o+1];f==="style"?Jh(s,d):f==="dangerouslySetInnerHTML"?Xh(s,d):f==="children"?is(s,d):eu(s,f,d,c)}switch(l){case"input":zl(s,i);break;case"textarea":Kh(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var _=i.value;_!=null?er(s,!!i.multiple,_,!1):h!==!!i.multiple&&(i.defaultValue!=null?er(s,!!i.multiple,i.defaultValue,!0):er(s,!!i.multiple,i.multiple?[]:"",!1))}s[ps]=i}catch(y){ie(t,t.return,y)}}break;case 6:if(rt(e,t),gt(t),r&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){ie(t,t.return,y)}}break;case 3:if(rt(e,t),gt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{us(e.containerInfo)}catch(y){ie(t,t.return,y)}break;case 4:rt(e,t),gt(t);break;case 13:rt(e,t),gt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Du=le())),r&4&&kd(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(ke=(c=ke)||f,rt(e,t),ke=c):rt(e,t),gt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(R=t,f=t.child;f!==null;){for(d=R=f;R!==null;){switch(h=R,_=h.child,h.tag){case 0:case 11:case 14:case 15:qr(4,h,h.return);break;case 1:Xn(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){ie(r,n,y)}}break;case 5:Xn(h,h.return);break;case 22:if(h.memoizedState!==null){Id(d);continue}}_!==null?(_.return=h,R=_):Id(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Zh("display",o))}catch(y){ie(t,t.return,y)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){ie(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:rt(e,t),gt(t),r&4&&kd(t);break;case 21:break;default:rt(e,t),gt(t)}}function gt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Np(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(is(s,""),r.flags&=-33);var i=Nd(t);wa(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Nd(t);ya(t,l,o);break;default:throw Error(E(161))}}catch(a){ie(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Iv(t,e,n){R=t,Ip(t)}function Ip(t,e,n){for(var r=(t.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ai;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||ke;l=ai;var c=ke;if(ai=o,(ke=a)&&!c)for(R=s;R!==null;)o=R,a=o.child,o.tag===22&&o.memoizedState!==null?Rd(s):a!==null?(a.return=o,R=a):Rd(s);for(;i!==null;)R=i,Ip(i),i=i.sibling;R=s,ai=l,ke=c}Td(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):Td(t)}}function Td(t){for(;R!==null;){var e=R;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ke||ko(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ke)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:st(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&dd(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}dd(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&us(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ke||e.flags&512&&va(e)}catch(h){ie(e,e.return,h)}}if(e===t){R=null;break}if(n=e.sibling,n!==null){n.return=e.return,R=n;break}R=e.return}}function Id(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var n=e.sibling;if(n!==null){n.return=e.return,R=n;break}R=e.return}}function Rd(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ko(4,e)}catch(a){ie(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){ie(e,s,a)}}var i=e.return;try{va(e)}catch(a){ie(e,i,a)}break;case 5:var o=e.return;try{va(e)}catch(a){ie(e,o,a)}}}catch(a){ie(e,e.return,a)}if(e===t){R=null;break}var l=e.sibling;if(l!==null){l.return=e.return,R=l;break}R=e.return}}var Rv=Math.ceil,Qi=Ot.ReactCurrentDispatcher,Au=Ot.ReactCurrentOwner,Je=Ot.ReactCurrentBatchConfig,B=0,_e=null,ae=null,we=0,He=0,Zn=hn(0),he=0,ws=null,Pn=0,To=0,ju=0,Xr=null,Oe=null,Du=0,pr=1/0,St=null,Yi=!1,Ca=null,Xt=null,ui=!1,Wt=null,Ki=0,Zr=0,Ea=null,xi=-1,Ni=0;function Ae(){return B&6?le():xi!==-1?xi:xi=le()}function Zt(t){return t.mode&1?B&2&&we!==0?we&-we:hv.transition!==null?(Ni===0&&(Ni=hf()),Ni):(t=H,t!==0||(t=window.event,t=t===void 0?16:yf(t.type)),t):1}function ht(t,e,n,r){if(50<Zr)throw Zr=0,Ea=null,Error(E(185));Ms(t,n,r),(!(B&2)||t!==_e)&&(t===_e&&(!(B&2)&&(To|=n),he===4&&Vt(t,we)),Ue(t,r),n===1&&B===0&&!(e.mode&1)&&(pr=le()+500,So&&fn()))}function Ue(t,e){var n=t.callbackNode;h_(t,e);var r=ji(t,t===_e?we:0);if(r===0)n!==null&&Fc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Fc(n),e===1)t.tag===0?dv(Pd.bind(null,t)):Ff(Pd.bind(null,t)),lv(function(){!(B&6)&&fn()}),n=null;else{switch(ff(r)){case 1:n=iu;break;case 4:n=cf;break;case 16:n=Ai;break;case 536870912:n=df;break;default:n=Ai}n=Op(n,Rp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Rp(t,e){if(xi=-1,Ni=0,B&6)throw Error(E(327));var n=t.callbackNode;if(ir()&&t.callbackNode!==n)return null;var r=ji(t,t===_e?we:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qi(t,r);else{e=r;var s=B;B|=2;var i=Ap();(_e!==t||we!==e)&&(St=null,pr=le()+500,xn(t,e));do try{jv();break}catch(l){Pp(t,l)}while(!0);vu(),Qi.current=i,B=s,ae!==null?e=0:(_e=null,we=0,e=he)}if(e!==0){if(e===2&&(s=Kl(t),s!==0&&(r=s,e=Sa(t,s))),e===1)throw n=ws,xn(t,0),Vt(t,r),Ue(t,le()),n;if(e===6)Vt(t,r);else{if(s=t.current.alternate,!(r&30)&&!Pv(s)&&(e=qi(t,r),e===2&&(i=Kl(t),i!==0&&(r=i,e=Sa(t,i))),e===1))throw n=ws,xn(t,0),Vt(t,r),Ue(t,le()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:_n(t,Oe,St);break;case 3:if(Vt(t,r),(r&130023424)===r&&(e=Du+500-le(),10<e)){if(ji(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ae(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ra(_n.bind(null,t,Oe,St),e);break}_n(t,Oe,St);break;case 4:if(Vt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-dt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rv(r/1960))-r,10<r){t.timeoutHandle=ra(_n.bind(null,t,Oe,St),r);break}_n(t,Oe,St);break;case 5:_n(t,Oe,St);break;default:throw Error(E(329))}}}return Ue(t,le()),t.callbackNode===n?Rp.bind(null,t):null}function Sa(t,e){var n=Xr;return t.current.memoizedState.isDehydrated&&(xn(t,e).flags|=256),t=qi(t,e),t!==2&&(e=Oe,Oe=n,e!==null&&xa(e)),t}function xa(t){Oe===null?Oe=t:Oe.push.apply(Oe,t)}function Pv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!pt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vt(t,e){for(e&=~ju,e&=~To,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dt(e),r=1<<n;t[n]=-1,e&=~r}}function Pd(t){if(B&6)throw Error(E(327));ir();var e=ji(t,0);if(!(e&1))return Ue(t,le()),null;var n=qi(t,e);if(t.tag!==0&&n===2){var r=Kl(t);r!==0&&(e=r,n=Sa(t,r))}if(n===1)throw n=ws,xn(t,0),Vt(t,e),Ue(t,le()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_n(t,Oe,St),Ue(t,le()),null}function Mu(t,e){var n=B;B|=1;try{return t(e)}finally{B=n,B===0&&(pr=le()+500,So&&fn())}}function An(t){Wt!==null&&Wt.tag===0&&!(B&6)&&ir();var e=B;B|=1;var n=Je.transition,r=H;try{if(Je.transition=null,H=1,t)return t()}finally{H=r,Je.transition=n,B=e,!(B&6)&&fn()}}function Lu(){He=Zn.current,X(Zn)}function xn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ov(n)),ae!==null)for(n=ae.return;n!==null;){var r=n;switch(mu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bi();break;case 3:hr(),X(ze),X(Te),xu();break;case 5:Su(r);break;case 4:hr();break;case 13:X(ee);break;case 19:X(ee);break;case 10:yu(r.type._context);break;case 22:case 23:Lu()}n=n.return}if(_e=t,ae=t=Jt(t.current,null),we=He=e,he=0,ws=null,ju=To=Pn=0,Oe=Xr=null,Cn!==null){for(e=0;e<Cn.length;e++)if(n=Cn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Cn=null}return t}function Pp(t,e){do{var n=ae;try{if(vu(),Ci.current=Gi,$i){for(var r=ne.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}$i=!1}if(Rn=0,me=ue=ne=null,Kr=!1,_s=0,Au.current=null,n===null||n.return===null){he=1,ws=e,ae=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=we,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var _=_d(o);if(_!==null){_.flags&=-257,vd(_,o,l,i,e),_.mode&1&&gd(i,c,e),e=_,a=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(a),e.updateQueue=y}else v.add(a);break e}else{if(!(e&1)){gd(i,c,e),Ou();break e}a=Error(E(426))}}else if(J&&l.mode&1){var D=_d(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),vd(D,o,l,i,e),gu(fr(a,l));break e}}i=a=fr(a,l),he!==4&&(he=2),Xr===null?Xr=[i]:Xr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=fp(i,a,e);cd(i,m);break e;case 1:l=a;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Xt===null||!Xt.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=pp(i,l,e);cd(i,w);break e}}i=i.return}while(i!==null)}Dp(n)}catch(x){e=x,ae===n&&n!==null&&(ae=n=n.return);continue}break}while(!0)}function Ap(){var t=Qi.current;return Qi.current=Gi,t===null?Gi:t}function Ou(){(he===0||he===3||he===2)&&(he=4),_e===null||!(Pn&268435455)&&!(To&268435455)||Vt(_e,we)}function qi(t,e){var n=B;B|=2;var r=Ap();(_e!==t||we!==e)&&(St=null,xn(t,e));do try{Av();break}catch(s){Pp(t,s)}while(!0);if(vu(),B=n,Qi.current=r,ae!==null)throw Error(E(261));return _e=null,we=0,he}function Av(){for(;ae!==null;)jp(ae)}function jv(){for(;ae!==null&&!r_();)jp(ae)}function jp(t){var e=Lp(t.alternate,t,He);t.memoizedProps=t.pendingProps,e===null?Dp(t):ae=e,Au.current=null}function Dp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Nv(n,e),n!==null){n.flags&=32767,ae=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{he=6,ae=null;return}}else if(n=xv(n,e,He),n!==null){ae=n;return}if(e=e.sibling,e!==null){ae=e;return}ae=e=t}while(e!==null);he===0&&(he=5)}function _n(t,e,n){var r=H,s=Je.transition;try{Je.transition=null,H=1,Dv(t,e,n,r)}finally{Je.transition=s,H=r}return null}function Dv(t,e,n,r){do ir();while(Wt!==null);if(B&6)throw Error(E(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(f_(t,i),t===_e&&(ae=_e=null,we=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ui||(ui=!0,Op(Ai,function(){return ir(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Je.transition,Je.transition=null;var o=H;H=1;var l=B;B|=4,Au.current=null,Tv(t,n),Tp(n,t),J_(ta),Di=!!ea,ta=ea=null,t.current=n,Iv(n),s_(),B=l,H=o,Je.transition=i}else t.current=n;if(ui&&(ui=!1,Wt=t,Ki=s),i=t.pendingLanes,i===0&&(Xt=null),l_(n.stateNode),Ue(t,le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Yi)throw Yi=!1,t=Ca,Ca=null,t;return Ki&1&&t.tag!==0&&ir(),i=t.pendingLanes,i&1?t===Ea?Zr++:(Zr=0,Ea=t):Zr=0,fn(),null}function ir(){if(Wt!==null){var t=ff(Ki),e=Je.transition,n=H;try{if(Je.transition=null,H=16>t?16:t,Wt===null)var r=!1;else{if(t=Wt,Wt=null,Ki=0,B&6)throw Error(E(331));var s=B;for(B|=4,R=t.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(R=c;R!==null;){var f=R;switch(f.tag){case 0:case 11:case 15:qr(8,f,i)}var d=f.child;if(d!==null)d.return=f,R=d;else for(;R!==null;){f=R;var h=f.sibling,_=f.return;if(xp(f),f===c){R=null;break}if(h!==null){h.return=_,R=h;break}R=_}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var D=y.sibling;y.sibling=null,y=D}while(y!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:qr(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,R=m;break e}R=i.return}}var p=t.current;for(R=p;R!==null;){o=R;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,R=g;else e:for(o=p;R!==null;){if(l=R,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ko(9,l)}}catch(x){ie(l,l.return,x)}if(l===o){R=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,R=w;break e}R=l.return}}if(B=s,fn(),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(vo,t)}catch{}r=!0}return r}finally{H=n,Je.transition=e}}return!1}function Ad(t,e,n){e=fr(n,e),e=fp(t,e,1),t=qt(t,e,1),e=Ae(),t!==null&&(Ms(t,1,e),Ue(t,e))}function ie(t,e,n){if(t.tag===3)Ad(t,t,n);else for(;e!==null;){if(e.tag===3){Ad(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xt===null||!Xt.has(r))){t=fr(n,t),t=pp(e,t,1),e=qt(e,t,1),t=Ae(),e!==null&&(Ms(e,1,t),Ue(e,t));break}}e=e.return}}function Mv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ae(),t.pingedLanes|=t.suspendedLanes&n,_e===t&&(we&n)===n&&(he===4||he===3&&(we&130023424)===we&&500>le()-Du?xn(t,0):ju|=n),Ue(t,e)}function Mp(t,e){e===0&&(t.mode&1?(e=Js,Js<<=1,!(Js&130023424)&&(Js=4194304)):e=1);var n=Ae();t=jt(t,e),t!==null&&(Ms(t,e,n),Ue(t,n))}function Lv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Mp(t,n)}function Ov(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),Mp(t,n)}var Lp;Lp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ze.current)be=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return be=!1,Sv(t,e,n);be=!!(t.flags&131072)}else be=!1,J&&e.flags&1048576&&zf(e,Bi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Si(t,e),t=e.pendingProps;var s=ur(e,Te.current);sr(e,n),s=ku(null,e,r,t,s,n);var i=Tu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Be(r)?(i=!0,Fi(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Cu(e),s.updater=No,e.stateNode=s,s._reactInternals=e,ca(e,r,t,n),e=fa(null,e,r,!0,i,n)):(e.tag=0,J&&i&&pu(e),Re(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Si(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Fv(r),t=st(r,t),s){case 0:e=ha(null,e,r,t,n);break e;case 1:e=Cd(null,e,r,t,n);break e;case 11:e=yd(null,e,r,t,n);break e;case 14:e=wd(null,e,r,st(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:st(r,s),ha(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:st(r,s),Cd(t,e,r,s,n);case 3:e:{if(vp(e),t===null)throw Error(E(387));r=e.pendingProps,i=e.memoizedState,s=i.element,$f(t,e),Hi(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=fr(Error(E(423)),e),e=Ed(t,e,r,n,s);break e}else if(r!==s){s=fr(Error(E(424)),e),e=Ed(t,e,r,n,s);break e}else for(We=Kt(e.stateNode.containerInfo.firstChild),$e=e,J=!0,ot=null,n=Hf(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cr(),r===s){e=Dt(t,e,n);break e}Re(t,e,r,n)}e=e.child}return e;case 5:return Gf(e),t===null&&la(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,na(r,s)?o=null:i!==null&&na(r,i)&&(e.flags|=32),_p(t,e),Re(t,e,o,n),e.child;case 6:return t===null&&la(e),null;case 13:return yp(t,e,n);case 4:return Eu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=dr(e,null,r,n):Re(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:st(r,s),yd(t,e,r,s,n);case 7:return Re(t,e,e.pendingProps,n),e.child;case 8:return Re(t,e,e.pendingProps.children,n),e.child;case 12:return Re(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,K(Ui,r._currentValue),r._currentValue=o,i!==null)if(pt(i.value,o)){if(i.children===s.children&&!ze.current){e=Dt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=It(-1,n&-n),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),aa(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),aa(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Re(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,sr(e,n),s=et(s),r=r(s),e.flags|=1,Re(t,e,r,n),e.child;case 14:return r=e.type,s=st(r,e.pendingProps),s=st(r.type,s),wd(t,e,r,s,n);case 15:return mp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:st(r,s),Si(t,e),e.tag=1,Be(r)?(t=!0,Fi(e)):t=!1,sr(e,n),hp(e,r,s),ca(e,r,s,n),fa(null,e,r,!0,t,n);case 19:return wp(t,e,n);case 22:return gp(t,e,n)}throw Error(E(156,e.tag))};function Op(t,e){return uf(t,e)}function bv(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(t,e,n,r){return new bv(t,e,n,r)}function bu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fv(t){if(typeof t=="function")return bu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nu)return 11;if(t===ru)return 14}return 2}function Jt(t,e){var n=t.alternate;return n===null?(n=Xe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ki(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")bu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vn:return Nn(n.children,s,i,e);case tu:o=8,s|=8;break;case Ml:return t=Xe(12,n,e,s|2),t.elementType=Ml,t.lanes=i,t;case Ll:return t=Xe(13,n,e,s),t.elementType=Ll,t.lanes=i,t;case Ol:return t=Xe(19,n,e,s),t.elementType=Ol,t.lanes=i,t;case $h:return Io(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Hh:o=10;break e;case Wh:o=9;break e;case nu:o=11;break e;case ru:o=14;break e;case zt:o=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Xe(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Nn(t,e,n,r){return t=Xe(7,t,r,e),t.lanes=n,t}function Io(t,e,n,r){return t=Xe(22,t,r,e),t.elementType=$h,t.lanes=n,t.stateNode={isHidden:!1},t}function vl(t,e,n){return t=Xe(6,t,null,e),t.lanes=n,t}function yl(t,e,n){return e=Xe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zv(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jo(0),this.expirationTimes=Jo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fu(t,e,n,r,s,i,o,l,a){return t=new zv(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Xe(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cu(i),t}function Bv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Un,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function bp(t){if(!t)return on;t=t._reactInternals;e:{if(On(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Be(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(Be(n))return bf(t,n,e)}return e}function Fp(t,e,n,r,s,i,o,l,a){return t=Fu(n,r,!0,t,s,i,o,l,a),t.context=bp(null),n=t.current,r=Ae(),s=Zt(n),i=It(r,s),i.callback=e??null,qt(n,i,s),t.current.lanes=s,Ms(t,s,r),Ue(t,r),t}function Ro(t,e,n,r){var s=e.current,i=Ae(),o=Zt(s);return n=bp(n),e.context===null?e.context=n:e.pendingContext=n,e=It(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qt(s,e,o),t!==null&&(ht(t,s,o,i),wi(t,s,o)),o}function Xi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zu(t,e){jd(t,e),(t=t.alternate)&&jd(t,e)}function Uv(){return null}var zp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bu(t){this._internalRoot=t}Po.prototype.render=Bu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));Ro(t,e,null,null)};Po.prototype.unmount=Bu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;An(function(){Ro(null,t,null,null)}),e[At]=null}};function Po(t){this._internalRoot=t}Po.prototype.unstable_scheduleHydration=function(t){if(t){var e=gf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ut.length&&e!==0&&e<Ut[n].priority;n++);Ut.splice(n,0,t),n===0&&vf(t)}};function Uu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ao(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Dd(){}function Vv(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Xi(o);i.call(c)}}var o=Fp(e,r,t,0,null,!1,!1,"",Dd);return t._reactRootContainer=o,t[At]=o.current,hs(t.nodeType===8?t.parentNode:t),An(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=Xi(a);l.call(c)}}var a=Fu(t,0,!1,null,null,!1,!1,"",Dd);return t._reactRootContainer=a,t[At]=a.current,hs(t.nodeType===8?t.parentNode:t),An(function(){Ro(e,a,n,r)}),a}function jo(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Xi(o);l.call(a)}}Ro(e,o,t,s)}else o=Vv(n,e,t,s,r);return Xi(o)}pf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Vr(e.pendingLanes);n!==0&&(ou(e,n|1),Ue(e,le()),!(B&6)&&(pr=le()+500,fn()))}break;case 13:An(function(){var r=jt(t,1);if(r!==null){var s=Ae();ht(r,t,1,s)}}),zu(t,1)}};lu=function(t){if(t.tag===13){var e=jt(t,134217728);if(e!==null){var n=Ae();ht(e,t,134217728,n)}zu(t,134217728)}};mf=function(t){if(t.tag===13){var e=Zt(t),n=jt(t,e);if(n!==null){var r=Ae();ht(n,t,e,r)}zu(t,e)}};gf=function(){return H};_f=function(t,e){var n=H;try{return H=t,e()}finally{H=n}};Gl=function(t,e,n){switch(e){case"input":if(zl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Eo(r);if(!s)throw Error(E(90));Qh(r),zl(r,s)}}}break;case"textarea":Kh(t,n);break;case"select":e=n.value,e!=null&&er(t,!!n.multiple,e,!1)}};nf=Mu;rf=An;var Hv={usingClientEntryPoint:!1,Events:[Os,Gn,Eo,ef,tf,Mu]},Lr={findFiberByHostInstance:wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wv={bundleType:Lr.bundleType,version:Lr.version,rendererPackageName:Lr.rendererPackageName,rendererConfig:Lr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ot.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lf(t),t===null?null:t.stateNode},findFiberByHostInstance:Lr.findFiberByHostInstance||Uv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ci=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ci.isDisabled&&ci.supportsFiber)try{vo=ci.inject(Wv),yt=ci}catch{}}Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hv;Qe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uu(e))throw Error(E(200));return Bv(t,e,null,n)};Qe.createRoot=function(t,e){if(!Uu(t))throw Error(E(299));var n=!1,r="",s=zp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Fu(t,1,!1,null,null,n,!1,r,s),t[At]=e.current,hs(t.nodeType===8?t.parentNode:t),new Bu(e)};Qe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=lf(e),t=t===null?null:t.stateNode,t};Qe.flushSync=function(t){return An(t)};Qe.hydrate=function(t,e,n){if(!Ao(e))throw Error(E(200));return jo(null,t,e,!0,n)};Qe.hydrateRoot=function(t,e,n){if(!Uu(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=zp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Fp(e,null,t,1,n??null,s,!1,i,o),t[At]=e.current,hs(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Po(e)};Qe.render=function(t,e,n){if(!Ao(e))throw Error(E(200));return jo(null,t,e,!1,n)};Qe.unmountComponentAtNode=function(t){if(!Ao(t))throw Error(E(40));return t._reactRootContainer?(An(function(){jo(null,null,t,!1,function(){t._reactRootContainer=null,t[At]=null})}),!0):!1};Qe.unstable_batchedUpdates=Mu;Qe.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ao(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return jo(t,e,n,!1,r)};Qe.version="18.3.1-next-f1338f8080-20240426";function Bp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bp)}catch(t){console.error(t)}}Bp(),zh.exports=Qe;var Up=zh.exports,Md=Up;jl.createRoot=Md.createRoot,jl.hydrateRoot=Md.hydrateRoot;function $v(){const[t,e]=k.useState(0),[n,r]=k.useState(!1),[s,i]=k.useState("");k.useEffect(()=>{const l=new Date().getHours();l>=5&&l<12?i("Good morning, astronaut!"):l>=12&&l<17?i("Good afternoon, space explorer!"):l>=17&&l<21?i("Good evening, star gazer!"):i("Up late, night owl?")},[]);const o=()=>{const l=t+1;e(l),l>=5&&(r(!0),e(0),setTimeout(()=>r(!1),4e3))};return u.jsxs("section",{className:"hero",children:[u.jsx("div",{className:"planet planet-1",children:u.jsxs("svg",{viewBox:"0 0 100 100",className:"planet-svg",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"planet1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#ff6b9d"}),u.jsx("stop",{offset:"100%",stopColor:"#c44569"})]})}),u.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"url(#planet1)"}),u.jsx("ellipse",{cx:"50",cy:"50",rx:"60",ry:"12",fill:"none",stroke:"rgba(255,255,255,0.3)",strokeWidth:"3"})]})}),u.jsx("div",{className:"planet planet-2",children:u.jsxs("svg",{viewBox:"0 0 80 80",className:"planet-svg",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"planet2",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#ffd700"}),u.jsx("stop",{offset:"100%",stopColor:"#ff8c42"})]})}),u.jsx("circle",{cx:"40",cy:"40",r:"35",fill:"url(#planet2)"})]})}),u.jsx("div",{className:"planet planet-3",children:u.jsxs("svg",{viewBox:"0 0 60 60",className:"planet-svg",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"planet3",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#74b9ff"}),u.jsx("stop",{offset:"100%",stopColor:"#0984e3"})]})}),u.jsx("circle",{cx:"30",cy:"30",r:"25",fill:"url(#planet3)"})]})}),u.jsx("div",{className:"rocket-container",children:u.jsxs("svg",{viewBox:"0 0 100 200",className:"rocket-svg",children:[u.jsxs("g",{className:"rocket-flame",children:[u.jsx("ellipse",{cx:"50",cy:"180",rx:"12",ry:"25",fill:"#ff6b35",opacity:"0.9"}),u.jsx("ellipse",{cx:"50",cy:"175",rx:"8",ry:"18",fill:"#ffd700"}),u.jsx("ellipse",{cx:"50",cy:"170",rx:"4",ry:"10",fill:"#fff"})]}),u.jsx("path",{d:"M50 10 L70 60 L70 130 L60 140 L40 140 L30 130 L30 60 Z",fill:"url(#rocketBody)"}),u.jsx("defs",{children:u.jsxs("linearGradient",{id:"rocketBody",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"#e0e0e0"}),u.jsx("stop",{offset:"50%",stopColor:"#ffffff"}),u.jsx("stop",{offset:"100%",stopColor:"#c0c0c0"})]})}),u.jsx("path",{d:"M50 10 L65 45 L35 45 Z",fill:"#ff6b9d"}),u.jsx("circle",{cx:"50",cy:"70",r:"12",fill:"#74b9ff",stroke:"#2d3436",strokeWidth:"3"}),u.jsx("circle",{cx:"47",cy:"67",r:"4",fill:"rgba(255,255,255,0.6)"}),u.jsx("path",{d:"M30 110 L15 145 L30 135 Z",fill:"#ff8c42"}),u.jsx("path",{d:"M70 110 L85 145 L70 135 Z",fill:"#ff8c42"}),u.jsx("rect",{x:"35",y:"95",width:"30",height:"8",fill:"#ff6b9d"})]})}),u.jsxs("div",{className:"hero-content",children:[s&&u.jsx("p",{className:"hero-greeting",children:s}),u.jsx("p",{className:"hero-invite",children:"You're invited to"}),u.jsx("h1",{children:"Hilde's Space Mission"}),u.jsxs("div",{className:"age-badge-container",children:[u.jsxs("div",{className:"age-badge",onClick:o,children:[u.jsx("span",{className:"age-number",children:"5"}),u.jsx("span",{className:"age-text",children:"years around the sun!"})]}),u.jsx("span",{className:"age-badge-hint",children:" tap me!"})]})]}),n&&u.jsx("div",{className:"easter-egg-overlay",children:u.jsxs("div",{className:"easter-egg-content",children:[u.jsx("div",{className:"neptune-graphic",children:u.jsxs("svg",{viewBox:"0 0 120 120",width:"120",height:"120",children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"neptuneGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#74b9ff"}),u.jsx("stop",{offset:"50%",stopColor:"#0984e3"}),u.jsx("stop",{offset:"100%",stopColor:"#0652DD"})]}),u.jsxs("filter",{id:"glow",children:[u.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),u.jsx("circle",{cx:"60",cy:"60",r:"50",fill:"url(#neptuneGrad)",filter:"url(#glow)"}),u.jsx("ellipse",{cx:"60",cy:"60",rx:"55",ry:"8",fill:"none",stroke:"rgba(255,255,255,0.4)",strokeWidth:"2",transform:"rotate(-15 60 60)"}),u.jsx("circle",{cx:"45",cy:"45",r:"8",fill:"rgba(255,255,255,0.2)"})]})}),u.jsx("p",{className:"easter-egg-title",children:"You discovered Neptune!"}),u.jsx("p",{className:"easter-egg-message",children:"Hilde's favorite planet because it's light blue - her favorite color!"}),u.jsx("span",{className:"easter-egg-emoji",children:""})]})}),u.jsx("div",{className:"astronaut-float",children:u.jsxs("svg",{viewBox:"0 0 100 140",className:"astronaut-svg",children:[u.jsx("rect",{x:"30",y:"45",width:"40",height:"50",rx:"5",fill:"#636e72"}),u.jsx("ellipse",{cx:"50",cy:"80",rx:"25",ry:"30",fill:"white"}),u.jsx("circle",{cx:"50",cy:"35",r:"28",fill:"white"}),u.jsx("ellipse",{cx:"50",cy:"38",rx:"20",ry:"18",fill:"#74b9ff",opacity:"0.8"}),u.jsx("ellipse",{cx:"45",cy:"33",rx:"6",ry:"4",fill:"rgba(255,255,255,0.5)"}),u.jsx("ellipse",{cx:"20",cy:"75",rx:"10",ry:"15",fill:"white"}),u.jsx("ellipse",{cx:"80",cy:"75",rx:"10",ry:"15",fill:"white"}),u.jsx("ellipse",{cx:"38",cy:"115",rx:"10",ry:"18",fill:"white"}),u.jsx("ellipse",{cx:"62",cy:"115",rx:"10",ry:"18",fill:"white"}),u.jsx("ellipse",{cx:"50",cy:"55",rx:"25",ry:"5",fill:"#dfe6e9"})]})})]})}function Gv(){const[t,e]=k.useState({x:0,y:0}),[n,r]=k.useState(!1),[s,i]=k.useState(!1),o=k.useRef(null),l=k.useRef(null),a=(m,p,g,w=15)=>{if(!g)return{x:0,y:0};const x=g.getBoundingClientRect(),T=x.left+x.width/2,I=x.top+x.height/2,P=(m-T)/(x.width/2),V=(p-I)/(x.height/2);return{x:Math.max(-w,Math.min(w,V*w)),y:Math.max(-w,Math.min(w,-P*w))}},c=m=>{const p=a(m.clientX,m.clientY,o.current,15);e(p)},f=()=>r(!0),d=()=>{r(!1),e({x:0,y:0})},h=k.useCallback((m,p)=>{l.current&&(l.current.style.transform=`perspective(1000px) rotateX(${m}deg) rotateY(${p}deg) scale(1)`)},[]),_=k.useCallback(m=>{if(m.preventDefault(),m.stopPropagation(),m.touches.length>0){const p=m.touches[0],g=a(p.clientX,p.clientY,l.current,25);h(g.x,g.y)}},[h]),v=k.useCallback(m=>{if(m.preventDefault(),m.stopPropagation(),i(!0),l.current&&(l.current.style.transition="none"),m.touches.length>0){const p=m.touches[0],g=a(p.clientX,p.clientY,l.current,25);h(g.x,g.y)}},[h]),y=k.useCallback(m=>{m.stopPropagation(),i(!1),l.current&&(l.current.style.transition="transform 0.3s ease-out",l.current.style.transform="perspective(1000px) rotateX(0deg) rotateY(0deg) scale(1)"),e({x:0,y:0})},[]),D=n&&!s;return u.jsxs("section",{className:"commander-section",children:[u.jsx("h2",{children:"Meet Your Mission Commander"}),u.jsxs("div",{className:"commander-frame-container",ref:o,onMouseMove:c,onMouseEnter:f,onMouseLeave:d,children:[u.jsx("div",{className:"orbit orbit-1",children:u.jsx("div",{className:"orbit-dot"})}),u.jsx("div",{className:"orbit orbit-2",children:u.jsx("div",{className:"orbit-dot star"})}),u.jsx("div",{className:"orbit orbit-3",children:u.jsx("div",{className:"orbit-dot planet"})}),u.jsxs("div",{ref:l,className:`commander-porthole ${D?"hovering":""}`,style:{transform:`perspective(1000px) rotateX(${t.x}deg) rotateY(${t.y}deg) scale(${D?1.05:1})`},onTouchStart:v,onTouchMove:_,onTouchEnd:y,children:[u.jsx("div",{className:"porthole-glow"}),u.jsxs("div",{className:"porthole-frame",children:[u.jsx("div",{className:"bolt bolt-1"}),u.jsx("div",{className:"bolt bolt-2"}),u.jsx("div",{className:"bolt bolt-3"}),u.jsx("div",{className:"bolt bolt-4"}),u.jsxs("div",{className:"porthole-glass",children:[u.jsx("img",{src:"/Hilde-5th-birthday/hilde-commander.jpg",alt:"Commander Hilde in her astronaut suit",className:"commander-photo"}),u.jsx("div",{className:"glass-reflection"})]})]})]}),u.jsxs("div",{className:"space-particles",children:[u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{})]})]}),u.jsxs("div",{className:"commander-info",children:[u.jsx("p",{className:"commander-title",children:"Commander Hilde"}),u.jsx("p",{className:"commander-subtitle",children:"Leading the mission to turn 5!"})]})]})}const Qv=new Date("2026-02-08T10:00:00-05:00"),Yv="Hudson River Museum",Kv="Joyce Greene Education Center & Planetarium",Na="511 Warburton Ave, Yonkers, NY 10701",qv="https://maps.google.com/?q=Hudson+River+Museum+511+Warburton+Ave+Yonkers+NY+10701",Xv="https://kotharishalin-max.github.io/Hilde-5th-birthday/",Zv="SPACE2026";function Jv(){const[t,e]=k.useState(n());function n(){const s=Qv-new Date;return s<=0?{days:0,hours:0,minutes:0,seconds:0,expired:!0}:{days:Math.floor(s/(1e3*60*60*24)),hours:Math.floor(s/(1e3*60*60)%24),minutes:Math.floor(s/(1e3*60)%60),seconds:Math.floor(s/1e3%60),expired:!1}}return k.useEffect(()=>{const r=setInterval(()=>{e(n())},1e3);return()=>clearInterval(r)},[]),t.expired?u.jsx("div",{className:"countdown countdown-expired",children:u.jsx("span",{className:"countdown-title",children:"Liftoff!"})}):u.jsxs("div",{className:"countdown",children:[u.jsx("span",{className:"countdown-title",children:"T-Minus"}),u.jsxs("div",{className:"countdown-units",children:[u.jsxs("div",{className:"countdown-unit",children:[u.jsx("span",{className:"countdown-number",children:t.days}),u.jsx("span",{className:"countdown-label",children:"days"})]}),u.jsxs("div",{className:"countdown-unit",children:[u.jsx("span",{className:"countdown-number",children:t.hours}),u.jsx("span",{className:"countdown-label",children:"hrs"})]}),u.jsxs("div",{className:"countdown-unit",children:[u.jsx("span",{className:"countdown-number",children:t.minutes}),u.jsx("span",{className:"countdown-label",children:"min"})]}),u.jsxs("div",{className:"countdown-unit",children:[u.jsx("span",{className:"countdown-number",children:t.seconds}),u.jsx("span",{className:"countdown-label",children:"sec"})]})]})]})}function ey(){const t="Hilde's 5th Birthday - Space Mission!",e=`Join us for an out-of-this-world birthday celebration at the Hudson River Museum Planetarium!

9:30 AM - Doors open (early arrivals welcome)
10:00 AM - Creative activity begins
10:30 AM - Private Planetarium show
11:00 AM - Refreshments and cake
11:45 AM - Party concludes

RSVP & Details: ${Xv}
Access Code: ${Zv}

See you among the stars!`,n="20260208T150000Z",r="20260208T170000Z",s=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(t)}&dates=${n}/${r}&details=${encodeURIComponent(e)}&location=${encodeURIComponent(Na)}`,i=e.replace(/\n/g,"\\n"),o=()=>{const l=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Hilde Birthday//EN
BEGIN:VEVENT
DTSTART:${n}
DTEND:${r}
SUMMARY:${t}
DESCRIPTION:${i}
LOCATION:${Na}
END:VEVENT
END:VCALENDAR`,a=new Blob([l],{type:"text/calendar;charset=utf-8"}),c=document.createElement("a");c.href=URL.createObjectURL(a),c.download="hilde-birthday.ics",document.body.appendChild(c),c.click(),document.body.removeChild(c)};return u.jsxs("div",{className:"calendar-buttons",children:[u.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"calendar-btn google",children:[u.jsx("svg",{viewBox:"0 0 24 24",className:"calendar-icon",children:u.jsx("path",{fill:"currentColor",d:"M19,4H17V3a1,1,0,0,0-2,0V4H9V3A1,1,0,0,0,7,3V4H5A2,2,0,0,0,3,6V20a2,2,0,0,0,2,2H19a2,2,0,0,0,2-2V6A2,2,0,0,0,19,4Zm0,16H5V10H19ZM9,14H7V12H9Zm4,0H11V12h2Zm4,0H15V12h2Zm-8,4H7V16H9Zm4,0H11V16h2Zm4,0H15V16h2Z"})}),"Google Calendar"]}),u.jsxs("button",{onClick:o,className:"calendar-btn ics",children:[u.jsx("svg",{viewBox:"0 0 24 24",className:"calendar-icon",children:u.jsx("path",{fill:"currentColor",d:"M19,4H17V3a1,1,0,0,0-2,0V4H9V3A1,1,0,0,0,7,3V4H5A2,2,0,0,0,3,6V20a2,2,0,0,0,2,2H19a2,2,0,0,0,2-2V6A2,2,0,0,0,19,4Zm0,16H5V10H19ZM9,14H7V12H9Zm4,0H11V12h2Zm4,0H15V12h2Zm-8,4H7V16H9Zm4,0H11V16h2Zm4,0H15V16h2Z"})}),"Apple / Outlook"]})]})}function ty(){return u.jsxs("section",{className:"details",children:[u.jsx("h2",{children:"Mission Briefing"}),u.jsx(Jv,{}),u.jsxs("div",{className:"detail-cards",children:[u.jsxs("div",{className:"detail-card date-time-card",children:[u.jsx("span",{className:"icon",role:"img","aria-label":"rocket",children:""}),u.jsx("h3",{children:"Launch Date"}),u.jsx("p",{children:"Saturday, February 8th, 2026"}),u.jsx("p",{children:"Countdown Begins at 10:00 AM"})]}),u.jsxs("div",{className:"detail-card location-card",children:[u.jsx("span",{className:"icon",role:"img","aria-label":"location",children:""}),u.jsx("h3",{children:"Mission Control"}),u.jsx("p",{children:Yv}),u.jsx("p",{className:"address",children:Kv}),u.jsx("p",{className:"address",children:Na}),u.jsxs("a",{href:qv,target:"_blank",rel:"noopener noreferrer",className:"maps-link",children:[u.jsx("svg",{viewBox:"0 0 24 24",className:"maps-icon",children:u.jsx("path",{fill:"currentColor",d:"M12,2C8.13,2,5,5.13,5,9c0,5.25,7,13,7,13s7-7.75,7-13C19,5.13,15.87,2,12,2zm0,9.5c-1.38,0-2.5-1.12-2.5-2.5s1.12-2.5,2.5-2.5s2.5,1.12,2.5,2.5S13.38,11.5,12,11.5z"})}),"Open in Maps"]})]}),u.jsxs("div",{className:"detail-card schedule-card",children:[u.jsx("span",{className:"icon",role:"img","aria-label":"clipboard",children:""}),u.jsx("h3",{children:"Flight Plan"}),u.jsxs("div",{className:"schedule-timeline",children:[u.jsxs("div",{className:"schedule-item soft",children:[u.jsx("span",{className:"schedule-time",children:"9:30 AM"}),u.jsx("span",{className:"schedule-desc",children:"Doors open - early arrivals welcome"})]}),u.jsxs("div",{className:"schedule-item",children:[u.jsx("span",{className:"schedule-time",children:"10:00 AM"}),u.jsx("span",{className:"schedule-desc",children:"Creative activity begins"})]}),u.jsxs("div",{className:"schedule-item highlight",children:[u.jsx("span",{className:"schedule-time",children:"10:30 AM"}),u.jsx("span",{className:"schedule-desc",children:"Planetarium show"})]}),u.jsxs("div",{className:"schedule-item",children:[u.jsx("span",{className:"schedule-time",children:"11:00 AM"}),u.jsx("span",{className:"schedule-desc",children:"Refreshments & cake"})]}),u.jsxs("div",{className:"schedule-item",children:[u.jsx("span",{className:"schedule-time",children:"11:45 AM"}),u.jsx("span",{className:"schedule-desc",children:"Mission complete"})]})]})]})]}),u.jsx(ey,{})]})}var Ld={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S=function(t,e){if(!t)throw Sr(e)},Sr=function(t){return new Error("Firebase Database ("+Vp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ny=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],a=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Vu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,a=s+2<t.length,c=a?t[s+2]:0,f=i>>2,d=(i&3)<<4|l>>4;let h=(l&15)<<2|c>>6,_=c&63;a||(_=64,o||(h=64)),r.push(n[f],n[d],n[h],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hp(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ny(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||c==null||d==null)throw new ry;const h=i<<2|l>>4;if(r.push(h),c!==64){const _=l<<4&240|c>>2;if(r.push(_),d!==64){const v=c<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ry extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Wp=function(t){const e=Hp(t);return Vu.encodeByteArray(e,!0)},Zi=function(t){return Wp(t).replace(/\./g,"")},ka=function(t){try{return Vu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(t){return $p(void 0,t)}function $p(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!iy(n)||(t[n]=$p(t[n],e[n]));return t}function iy(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=()=>oy().__FIREBASE_DEFAULTS__,ay=()=>{if(typeof process>"u"||typeof Ld>"u")return;const t=Ld.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uy=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ka(t[1]);return e&&JSON.parse(e)},Gp=()=>{try{return ly()||ay()||uy()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cy=t=>{var e,n;return(n=(e=Gp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dy=t=>{const e=cy(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Qp=()=>{var t;return(t=Gp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zi(JSON.stringify(n)),Zi(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fy())}function py(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function my(){return Vp.NODE_ADMIN===!0}function gy(){try{return typeof indexedDB=="object"}catch{return!1}}function _y(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="FirebaseError";class zs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vy,Object.setPrototypeOf(this,zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kp.prototype.create)}}class Kp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?yy(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new zs(s,l,r)}}function yy(t,e){return t.replace(wy,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const wy=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t){return JSON.parse(t)}function de(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=Cs(ka(i[0])||""),n=Cs(ka(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},Cy=function(t){const e=qp(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Ey=function(t){const e=qp(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function mr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Od(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ji(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Ta(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(bd(i)&&bd(o)){if(!Ta(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function bd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],c,f;for(let d=0;d<80;d++){d<40?d<20?(c=l^i&(o^l),f=1518500249):(c=i^o^l,f=1859775393):d<60?(c=i&o|l&(i|o),f=2400959708):(c=i^o^l,f=3395469782);const h=(s<<5|s>>>27)+c+a+f+r[d]&4294967295;a=l,l=o,o=(i<<30|i>>>2)&4294967295,i=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function Do(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,S(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Mo=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t){return t&&t._delegate?t._delegate:t}class Es{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Fs;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Iy(e))try{this.getOrInitializeService({instanceIdentifier:vn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=vn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vn){return this.instances.has(e)}getOptions(e=vn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ty(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vn){return this.component?this.component.multipleInstances?e:vn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ty(t){return t===vn?void 0:t}function Iy(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ky(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Q||(Q={}));const Py={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},Ay=Q.INFO,jy={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},Dy=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=jy[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xp{constructor(e){this.name=e,this._logLevel=Ay,this._logHandler=Dy,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Py[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...e),this._logHandler(this,Q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...e),this._logHandler(this,Q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...e),this._logHandler(this,Q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...e),this._logHandler(this,Q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...e),this._logHandler(this,Q.ERROR,...e)}}const My=(t,e)=>e.some(n=>t instanceof n);let Fd,zd;function Ly(){return Fd||(Fd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Oy(){return zd||(zd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zp=new WeakMap,Ia=new WeakMap,Jp=new WeakMap,wl=new WeakMap,Hu=new WeakMap;function by(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(en(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Zp.set(n,t)}).catch(()=>{}),Hu.set(e,t),e}function Fy(t){if(Ia.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ia.set(t,e)}let Ra={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ia.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Jp.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return en(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zy(t){Ra=t(Ra)}function By(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Cl(this),e,...n);return Jp.set(r,e.sort?e.sort():[e]),en(r)}:Oy().includes(t)?function(...e){return t.apply(Cl(this),e),en(Zp.get(this))}:function(...e){return en(t.apply(Cl(this),e))}}function Uy(t){return typeof t=="function"?By(t):(t instanceof IDBTransaction&&Fy(t),My(t,Ly())?new Proxy(t,Ra):t)}function en(t){if(t instanceof IDBRequest)return by(t);if(wl.has(t))return wl.get(t);const e=Uy(t);return e!==t&&(wl.set(t,e),Hu.set(e,t)),e}const Cl=t=>Hu.get(t);function Vy(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=en(o);return r&&o.addEventListener("upgradeneeded",a=>{r(en(o.result),a.oldVersion,a.newVersion,en(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{i&&a.addEventListener("close",()=>i()),s&&a.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const Hy=["get","getKey","getAll","getAllKeys","count"],Wy=["put","add","delete","clear"],El=new Map;function Bd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(El.get(e))return El.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Wy.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Hy.includes(n)))return;const i=async function(o,...l){const a=this.transaction(o,s?"readwrite":"readonly");let c=a.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&a.done]))[0]};return El.set(e,i),i}zy(t=>({...t,get:(e,n,r)=>Bd(e,n)||t.get(e,n,r),has:(e,n)=>!!Bd(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Gy(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Gy(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pa="@firebase/app",Ud="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt=new Xp("@firebase/app"),Qy="@firebase/app-compat",Yy="@firebase/analytics-compat",Ky="@firebase/analytics",qy="@firebase/app-check-compat",Xy="@firebase/app-check",Zy="@firebase/auth",Jy="@firebase/auth-compat",e0="@firebase/database",t0="@firebase/data-connect",n0="@firebase/database-compat",r0="@firebase/functions",s0="@firebase/functions-compat",i0="@firebase/installations",o0="@firebase/installations-compat",l0="@firebase/messaging",a0="@firebase/messaging-compat",u0="@firebase/performance",c0="@firebase/performance-compat",d0="@firebase/remote-config",h0="@firebase/remote-config-compat",f0="@firebase/storage",p0="@firebase/storage-compat",m0="@firebase/firestore",g0="@firebase/vertexai-preview",_0="@firebase/firestore-compat",v0="firebase",y0="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="[DEFAULT]",w0={[Pa]:"fire-core",[Qy]:"fire-core-compat",[Ky]:"fire-analytics",[Yy]:"fire-analytics-compat",[Xy]:"fire-app-check",[qy]:"fire-app-check-compat",[Zy]:"fire-auth",[Jy]:"fire-auth-compat",[e0]:"fire-rtdb",[t0]:"fire-data-connect",[n0]:"fire-rtdb-compat",[r0]:"fire-fn",[s0]:"fire-fn-compat",[i0]:"fire-iid",[o0]:"fire-iid-compat",[l0]:"fire-fcm",[a0]:"fire-fcm-compat",[u0]:"fire-perf",[c0]:"fire-perf-compat",[d0]:"fire-rc",[h0]:"fire-rc-compat",[f0]:"fire-gcs",[p0]:"fire-gcs-compat",[m0]:"fire-fst",[_0]:"fire-fst-compat",[g0]:"fire-vertex","fire-js":"fire-js",[v0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=new Map,C0=new Map,ja=new Map;function Vd(t,e){try{t.container.addComponent(e)}catch(n){Mt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function to(t){const e=t.name;if(ja.has(e))return Mt.debug(`There were multiple attempts to register component ${e}.`),!1;ja.set(e,t);for(const n of eo.values())Vd(n,t);for(const n of C0.values())Vd(n,t);return!0}function E0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tn=new Kp("app","Firebase",S0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=y0;function em(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Aa,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw tn.create("bad-app-name",{appName:String(s)});if(n||(n=Qp()),!n)throw tn.create("no-options");const i=eo.get(s);if(i){if(Ta(n,i.options)&&Ta(r,i.config))return i;throw tn.create("duplicate-app",{appName:s})}const o=new Ry(s);for(const a of ja.values())o.addComponent(a);const l=new x0(n,r,o);return eo.set(s,l),l}function k0(t=Aa){const e=eo.get(t);if(!e&&t===Aa&&Qp())return em();if(!e)throw tn.create("no-app",{appName:t});return e}function or(t,e,n){var r;let s=(r=w0[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mt.warn(l.join(" "));return}to(new Es(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="firebase-heartbeat-database",I0=1,Ss="firebase-heartbeat-store";let Sl=null;function tm(){return Sl||(Sl=Vy(T0,I0,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ss)}catch(n){console.warn(n)}}}}).catch(t=>{throw tn.create("idb-open",{originalErrorMessage:t.message})})),Sl}async function R0(t){try{const n=(await tm()).transaction(Ss),r=await n.objectStore(Ss).get(nm(t));return await n.done,r}catch(e){if(e instanceof zs)Mt.warn(e.message);else{const n=tn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mt.warn(n.message)}}}async function Hd(t,e){try{const r=(await tm()).transaction(Ss,"readwrite");await r.objectStore(Ss).put(e,nm(t)),await r.done}catch(n){if(n instanceof zs)Mt.warn(n.message);else{const r=tn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mt.warn(r.message)}}}function nm(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=1024,A0=30*24*60*60*1e3;class j0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new M0(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Wd();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=A0}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Mt.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Wd(),{heartbeatsToSend:r,unsentEntries:s}=D0(this._heartbeatsCache.heartbeats),i=Zi(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Mt.warn(n),""}}}function Wd(){return new Date().toISOString().substring(0,10)}function D0(t,e=P0){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),$d(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),$d(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class M0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gy()?_y().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await R0(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Hd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Hd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function $d(t){return Zi(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(t){to(new Es("platform-logger",e=>new $y(e),"PRIVATE")),to(new Es("heartbeat",e=>new j0(e),"PRIVATE")),or(Pa,Ud,t),or(Pa,Ud,"esm2017"),or("fire-js","")}L0("");var Gd={};const Qd="@firebase/database",Yd="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rm="";function O0(t){rm=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),de(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Cs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ct(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new b0(e)}}catch{}return new F0},Sn=sm("localStorage"),z0=sm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new Xp("@firebase/database"),B0=function(){let t=1;return function(){return t++}}(),im=function(t){const e=Ny(t),n=new xy;n.update(e);const r=n.digest();return Vu.encodeByteArray(r)},Bs=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Bs.apply(null,r):typeof r=="object"?e+=de(r):e+=r,e+=" "}return e};let Jr=null,Kd=!0;const U0=function(t,e){S(!0,"Can't turn on custom loggers persistently."),lr.logLevel=Q.VERBOSE,Jr=lr.log.bind(lr)},ye=function(...t){if(Kd===!0&&(Kd=!1,Jr===null&&z0.get("logging_enabled")===!0&&U0()),Jr){const e=Bs.apply(null,t);Jr(e)}},Us=function(t){return function(...e){ye(t,...e)}},Da=function(...t){const e="FIREBASE INTERNAL ERROR: "+Bs(...t);lr.error(e)},Lt=function(...t){const e=`FIREBASE FATAL ERROR: ${Bs(...t)}`;throw lr.error(e),new Error(e)},je=function(...t){const e="FIREBASE WARNING: "+Bs(...t);lr.warn(e)},V0=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&je("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Wu=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},H0=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},jn="[MIN_NAME]",ln="[MAX_NAME]",bn=function(t,e){if(t===e)return 0;if(t===jn||e===ln)return-1;if(e===jn||t===ln)return 1;{const n=qd(t),r=qd(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},W0=function(t,e){return t===e?0:t<e?-1:1},Or=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+de(e))},$u=function(t){if(typeof t!="object"||t===null)return de(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=de(e[r]),n+=":",n+=$u(t[e[r]]);return n+="}",n},om=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Ee(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const lm=function(t){S(!Wu(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,l,a;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(a=n;a;a-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const f=c.join("");let d="";for(a=0;a<64;a+=8){let h=parseInt(f.substr(a,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},$0=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},G0=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Q0(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Y0=new RegExp("^-?(0*)\\d{1,10}$"),K0=-2147483648,q0=2147483647,qd=function(t){if(Y0.test(t)){const e=Number(t);if(e>=K0&&e<=q0)return e}return null},xr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw je("Exception was thrown by user callback.",n),e},Math.floor(0))}},X0=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},es=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){je(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ye("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',je(e)}}class Ti{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ti.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu="5",am="v",um="s",cm="r",dm="f",hm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,fm="ls",pm="p",Ma="ac",mm="websocket",gm="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n,r,s,i=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Sn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Sn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function ew(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function vm(t,e,n){S(typeof e=="string","typeof type must == string"),S(typeof n=="object","typeof params must == object");let r;if(e===mm)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===gm)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);ew(t)&&(n.ns=t.namespace);const s=[];return Ee(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.counters_={}}incrementCounter(e,n=1){Ct(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return sy(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl={},Nl={};function Qu(t){const e=t.toString();return xl[e]||(xl[e]=new tw),xl[e]}function nw(t,e){const n=t.toString();return Nl[n]||(Nl[n]=e()),Nl[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&xr(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="start",sw="close",iw="pLPCommand",ow="pRTLPCB",ym="id",wm="pw",Cm="ser",lw="cb",aw="seg",uw="ts",cw="d",dw="dframe",Em=1870,Sm=30,hw=Em-Sm,fw=25e3,pw=3e4;class Jn{constructor(e,n,r,s,i,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Us(e),this.stats_=Qu(n),this.urlFn=a=>(this.appCheckToken&&(a[Ma]=this.appCheckToken),vm(n,gm,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new rw(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(pw)),H0(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Yu((...i)=>{const[o,l,a,c,f]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Xd)this.id=l,this.password=a;else if(o===sw)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,l]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Xd]="t",r[Cm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[lw]=this.scriptTagHolder.uniqueCallbackIdentifier),r[am]=Gu,this.transportSessionId&&(r[um]=this.transportSessionId),this.lastSessionId&&(r[fm]=this.lastSessionId),this.applicationId&&(r[pm]=this.applicationId),this.appCheckToken&&(r[Ma]=this.appCheckToken),typeof location<"u"&&location.hostname&&hm.test(location.hostname)&&(r[cm]=dm);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Jn.forceAllow_=!0}static forceDisallow(){Jn.forceDisallow_=!0}static isAvailable(){return Jn.forceAllow_?!0:!Jn.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!$0()&&!G0()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=de(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Wp(n),s=om(r,hw);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[dw]="t",r[ym]=e,r[wm]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=de(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Yu{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=B0(),window[iw+this.uniqueCallbackIdentifier]=e,window[ow+this.uniqueCallbackIdentifier]=n,this.myIFrame=Yu.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){ye("frame writing exception"),l.stack&&ye(l.stack),ye(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ye("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[ym]=this.myID,e[wm]=this.myPW,e[Cm]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Sm+r.length<=Em;){const o=this.pendingSegs.shift();r=r+"&"+aw+s+"="+o.seg+"&"+uw+s+"="+o.ts+"&"+cw+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(fw)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ye("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=16384,gw=45e3;let no=null;typeof MozWebSocket<"u"?no=MozWebSocket:typeof WebSocket<"u"&&(no=WebSocket);class lt{constructor(e,n,r,s,i,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Us(this.connId),this.stats_=Qu(n),this.connURL=lt.connectionURL_(n,o,l,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[am]=Gu,typeof location<"u"&&location.hostname&&hm.test(location.hostname)&&(o[cm]=dm),n&&(o[um]=n),r&&(o[fm]=r),s&&(o[Ma]=s),i&&(o[pm]=i),vm(e,mm,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Sn.set("previous_websocket_failure",!0);try{let r;my(),this.mySock=new no(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){lt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&no!==null&&!lt.forceDisallow_}static previouslyFailed(){return Sn.isInMemoryStorage||Sn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Sn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Cs(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(S(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=de(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=om(n,mw);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(gw))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}lt.responsesRequiredToBeHealthy=2;lt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Jn,lt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=lt&&lt.isAvailable();let r=n&&!lt.previouslyFailed();if(e.webSocketOnly&&(n||je("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[lt];else{const s=this.transports_=[];for(const i of xs.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);xs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}xs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=6e4,vw=5e3,yw=10*1024,ww=100*1024,kl="t",Zd="d",Cw="s",Jd="r",Ew="e",eh="o",th="a",nh="n",rh="p",Sw="h";class xw{constructor(e,n,r,s,i,o,l,a,c,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Us("c:"+this.id+":"),this.transportManager_=new xs(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=es(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>ww?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>yw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(kl in e){const n=e[kl];n===th?this.upgradeIfSecondaryHealthy_():n===Jd?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===eh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Or("t",e),r=Or("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:rh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:th,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:nh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Or("t",e),r=Or("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Or(kl,e);if(Zd in e){const r=e[Zd];if(n===Sw){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===nh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Cw?this.onConnectionShutdown_(r):n===Jd?this.onReset_(r):n===Ew?Da("Server Error: "+r):n===eh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Da("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Gu!==r&&je("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),es(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(_w))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):es(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(vw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:rh,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Sn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e){this.allowedEvents_=e,this.listeners_={},S(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){S(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends Nm{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Yp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ro}getInitialEvent(e){return S(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=32,ih=768;class W{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function U(){return new W("")}function O(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function an(t){return t.pieces_.length-t.pieceNum_}function Y(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new W(t.pieces_,e)}function Ku(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Nw(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ns(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function km(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new W(e,0)}function oe(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof W)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new W(n,0)}function b(t){return t.pieceNum_>=t.pieces_.length}function Pe(t,e){const n=O(t),r=O(e);if(n===null)return e;if(n===r)return Pe(Y(t),Y(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function kw(t,e){const n=Ns(t,0),r=Ns(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=bn(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function qu(t,e){if(an(t)!==an(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ze(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(an(t)>an(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Tw{constructor(e,n){this.errorPrefix_=n,this.parts_=Ns(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Mo(this.parts_[r]);Tm(this)}}function Iw(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Mo(e),Tm(t)}function Rw(t){const e=t.parts_.pop();t.byteLength_-=Mo(e),t.parts_.length>0&&(t.byteLength_-=1)}function Tm(t){if(t.byteLength_>ih)throw new Error(t.errorPrefix_+"has a key path longer than "+ih+" bytes ("+t.byteLength_+").");if(t.parts_.length>sh)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+sh+") or object contains a cycle "+yn(t))}function yn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends Nm{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Xu}getInitialEvent(e){return S(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=1e3,Pw=60*5*1e3,oh=30*1e3,Aw=1.3,jw=3e4,Dw="server_kill",lh=3;class Rt extends xm{constructor(e,n,r,s,i,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Rt.nextPersistentConnectionId_++,this.log_=Us("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=br,this.maxReconnectDelay_=Pw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Xu.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ro.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(de(i)),S(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Fs,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),S(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),S(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,l=>{const a=l.d,c=l.s;Rt.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ct(e,"w")){const r=mr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();je(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Ey(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=oh)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Cy(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),S(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+de(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Da("Unrecognized action received from server: "+de(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){S(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=br,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=br,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>jw&&(this.reconnectDelay_=br),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Aw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Rt.nextConnectionId_++,i=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},c=function(d){S(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:c};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?ye("getToken() completed but was canceled"):(ye("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,l=new xw(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,_=>{je(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(Dw)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&je(d),a())}}}interrupt(e){ye("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ye("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Od(this.interruptReasons_)&&(this.reconnectDelay_=br,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>$u(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new W(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){ye("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lh&&(this.reconnectDelay_=oh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ye("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+rm.replace(/\./g,"-")]=1,Yp()?e["framework.cordova"]=1:py()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ro.getInstance().currentlyOnline();return Od(this.interruptReasons_)&&e}}Rt.nextPersistentConnectionId_=0;Rt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new F(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new F(jn,e),s=new F(jn,n);return this.compare(r,s)!==0}minPost(){return F.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let di;class Im extends Lo{static get __EMPTY_NODE(){return di}static set __EMPTY_NODE(e){di=e}compare(e,n){return bn(e.name,n.name)}isDefinedOn(e){throw Sr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return F.MIN}maxPost(){return new F(ln,di)}makePost(e,n){return S(typeof e=="string","KeyIndex indexValue must always be a string."),new F(e,di)}toString(){return".key"}}const kn=new Im;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ge{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ge.RED,this.left=s??Fe.EMPTY_NODE,this.right=i??Fe.EMPTY_NODE}copy(e,n,r,s,i){return new ge(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Fe.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Fe.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ge.RED=!0;ge.BLACK=!1;class Mw{copy(e,n,r,s,i){return this}insert(e,n,r){return new ge(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Fe{constructor(e,n=Fe.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Fe(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ge.BLACK,null,null))}remove(e){return new Fe(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ge.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new hi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new hi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new hi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new hi(this.root_,null,this.comparator_,!0,e)}}Fe.EMPTY_NODE=new Mw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t,e){return bn(t.name,e.name)}function Zu(t,e){return bn(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La;function Ow(t){La=t}const Rm=function(t){return typeof t=="number"?"number:"+lm(t):"string:"+t},Pm=function(t){if(t.isLeafNode()){const e=t.val();S(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ct(e,".sv"),"Priority must be a string or number.")}else S(t===La||t.isEmpty(),"priority of unexpected type.");S(t===La||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah;class pe{constructor(e,n=pe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,S(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Pm(this.priorityNode_)}static set __childrenNodeConstructor(e){ah=e}static get __childrenNodeConstructor(){return ah}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new pe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:pe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return b(e)?this:O(e)===".priority"?this.priorityNode_:pe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:pe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=O(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(S(r!==".priority"||an(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,pe.__childrenNodeConstructor.EMPTY_NODE.updateChild(Y(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Rm(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=lm(this.value_):e+=this.value_,this.lazyHash_=im(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===pe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof pe.__childrenNodeConstructor?-1:(S(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=pe.VALUE_TYPE_ORDER.indexOf(n),i=pe.VALUE_TYPE_ORDER.indexOf(r);return S(s>=0,"Unknown leaf type: "+n),S(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}pe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am,jm;function bw(t){Am=t}function Fw(t){jm=t}class zw extends Lo{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?bn(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return F.MIN}maxPost(){return new F(ln,new pe("[PRIORITY-POST]",jm))}makePost(e,n){const r=Am(e);return new F(n,new pe("[PRIORITY-POST]",r))}toString(){return".priority"}}const te=new zw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=Math.log(2);class Uw{constructor(e){const n=i=>parseInt(Math.log(i)/Bw,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const so=function(t,e,n,r){t.sort(e);const s=function(a,c){const f=c-a;let d,h;if(f===0)return null;if(f===1)return d=t[a],h=n?n(d):d,new ge(h,d.node,ge.BLACK,null,null);{const _=parseInt(f/2,10)+a,v=s(a,_),y=s(_+1,c);return d=t[_],h=n?n(d):d,new ge(h,d.node,ge.BLACK,v,y)}},i=function(a){let c=null,f=null,d=t.length;const h=function(v,y){const D=d-v,m=d;d-=v;const p=s(D+1,m),g=t[D],w=n?n(g):g;_(new ge(w,g.node,y,null,p))},_=function(v){c?(c.left=v,c=v):(f=v,c=v)};for(let v=0;v<a.count;++v){const y=a.nextBitIsOne(),D=Math.pow(2,a.count-(v+1));y?h(D,ge.BLACK):(h(D,ge.BLACK),h(D,ge.RED))}return f},o=new Uw(t.length),l=i(o);return new Fe(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl;const Bn={};class Tt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return S(Bn&&te,"ChildrenNode.ts has not been loaded"),Tl=Tl||new Tt({".priority":Bn},{".priority":te}),Tl}get(e){const n=mr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Fe?n:null}hasIndex(e){return Ct(this.indexSet_,e.toString())}addIndex(e,n){S(e!==kn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(F.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let l;s?l=so(r,e.getCompare()):l=Bn;const a=e.toString(),c=Object.assign({},this.indexSet_);c[a]=e;const f=Object.assign({},this.indexes_);return f[a]=l,new Tt(f,c)}addToIndexes(e,n){const r=Ji(this.indexes_,(s,i)=>{const o=mr(this.indexSet_,i);if(S(o,"Missing index implementation for "+i),s===Bn)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(F.Wrap);let c=a.getNext();for(;c;)c.name!==e.name&&l.push(c),c=a.getNext();return l.push(e),so(l,o.getCompare())}else return Bn;else{const l=n.get(e.name);let a=s;return l&&(a=a.remove(new F(e.name,l))),a.insert(e,e.node)}});return new Tt(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ji(this.indexes_,s=>{if(s===Bn)return s;{const i=n.get(e.name);return i?s.remove(new F(e.name,i)):s}});return new Tt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fr;class M{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Pm(this.priorityNode_),this.children_.isEmpty()&&S(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Fr||(Fr=new M(new Fe(Zu),null,Tt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fr}updatePriority(e){return this.children_.isEmpty()?this:new M(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Fr:n}}getChild(e){const n=O(e);return n===null?this:this.getImmediateChild(n).getChild(Y(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(S(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new F(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Fr:this.priorityNode_;return new M(s,o,i)}}updateChild(e,n){const r=O(e);if(r===null)return n;{S(O(e)!==".priority"||an(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Y(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(te,(o,l)=>{n[o]=l.val(e),r++,i&&M.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Rm(this.getPriority().val())+":"),this.forEachChild(te,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":im(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new F(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new F(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new F(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,F.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,F.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Vs?-1:0}withIndex(e){if(e===kn||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new M(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===kn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(te),s=n.getIterator(te);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===kn?null:this.indexMap_.get(e.toString())}}M.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Vw extends M{constructor(){super(new Fe(Zu),M.EMPTY_NODE,Tt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return M.EMPTY_NODE}isEmpty(){return!1}}const Vs=new Vw;Object.defineProperties(F,{MIN:{value:new F(jn,M.EMPTY_NODE)},MAX:{value:new F(ln,Vs)}});Im.__EMPTY_NODE=M.EMPTY_NODE;pe.__childrenNodeConstructor=M;Ow(Vs);Fw(Vs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=!0;function ce(t,e=null){if(t===null)return M.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),S(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new pe(n,ce(e))}if(!(t instanceof Array)&&Hw){const n=[];let r=!1;if(Ee(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=ce(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new F(o,a)))}}),n.length===0)return M.EMPTY_NODE;const i=so(n,Lw,o=>o.name,Zu);if(r){const o=so(n,te.getCompare());return new M(i,ce(e),new Tt({".priority":o},{".priority":te}))}else return new M(i,ce(e),Tt.Default)}else{let n=M.EMPTY_NODE;return Ee(t,(r,s)=>{if(Ct(t,r)&&r.substring(0,1)!=="."){const i=ce(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(ce(e))}}bw(ce);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends Lo{constructor(e){super(),this.indexPath_=e,S(!b(e)&&O(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?bn(e.name,n.name):i}makePost(e,n){const r=ce(e),s=M.EMPTY_NODE.updateChild(this.indexPath_,r);return new F(n,s)}maxPost(){const e=M.EMPTY_NODE.updateChild(this.indexPath_,Vs);return new F(ln,e)}toString(){return Ns(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww extends Lo{compare(e,n){const r=e.node.compareTo(n.node);return r===0?bn(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return F.MIN}maxPost(){return F.MAX}makePost(e,n){const r=ce(e);return new F(n,r)}toString(){return".value"}}const Dm=new Ww;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t){return{type:"value",snapshotNode:t}}function gr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ks(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ts(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function $w(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){S(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(r.getChild(s))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(ks(n,l)):S(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(gr(n,r)):o.trackChildChange(Ts(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(te,(s,i)=>{n.hasChild(s)||r.trackChildChange(ks(s,i))}),n.isLeafNode()||n.forEachChild(te,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(Ts(s,i,o))}else r.trackChildChange(gr(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?M.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.indexedFilter_=new ec(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Is.getStartPost_(e),this.endPost_=Is.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new F(n,r))||(r=M.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=M.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(M.EMPTY_NODE);const i=this;return n.forEachChild(te,(o,l)=>{i.matches(new F(o,l))||(s=s.updateImmediateChild(o,M.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Is(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new F(n,r))||(r=M.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=M.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=M.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const l=i.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(M.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const l=i.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:s=s.updateImmediateChild(l.name,M.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,_)=>d(_,h)}else o=this.index_.getCompare();const l=e;S(l.numChildren()===this.limit_,"");const a=new F(n,r),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),f=this.rangedFilter_.matches(a);if(l.hasChild(n)){const d=l.getImmediateChild(n);let h=s.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||l.hasChild(h.name));)h=s.getChildAfterChild(this.index_,h,this.reverse_);const _=h==null?1:o(h,a);if(f&&!r.isEmpty()&&_>=0)return i!=null&&i.trackChildChange(Ts(n,r,d)),l.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(ks(n,d));const y=l.updateImmediateChild(n,M.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(i!=null&&i.trackChildChange(gr(h.name,h.node)),y.updateImmediateChild(h.name,h.node)):y}}else return r.isEmpty()?e:f&&o(c,a)>=0?(i!=null&&(i.trackChildChange(ks(c.name,c.node)),i.trackChildChange(gr(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(c.name,M.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=te}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return S(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return S(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jn}hasEnd(){return this.endSet_}getIndexEndValue(){return S(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return S(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ln}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return S(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===te}copy(){const e=new tc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Qw(t){return t.loadsAllData()?new ec(t.getIndex()):t.hasLimit()?new Gw(t):new Is(t)}function Yw(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Kw(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function qw(t,e){const n=t.copy();return n.index_=e,n}function uh(t){const e={};if(t.isDefault())return e;let n;if(t.index_===te?n="$priority":t.index_===Dm?n="$value":t.index_===kn?n="$key":(S(t.index_ instanceof Ju,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=de(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=de(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+de(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=de(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+de(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function ch(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==te&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends xm{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Us("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(S(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=io.getListenId_(e,r),l={};this.listens_[o]=l;const a=uh(e._queryParams);this.restRequest_(i+".json",a,(c,f)=>{let d=f;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,r),mr(this.listens_,o)===l){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",s(h,null)}})}unlisten(e,n){const r=io.getListenId_(e,n);delete this.listens_[r]}get(e){const n=uh(e._queryParams),r=e._path.toString(),s=new Fs;return this.restRequest_(r+".json",n,(i,o)=>{let l=o;i===404&&(l=null,i=null),i===null?(this.onDataUpdate_(r,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Sy(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Cs(l.responseText)}catch{je("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&je("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.rootNode_=M.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(){return{value:null,children:new Map}}function Lm(t,e,n){if(b(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=O(e);t.children.has(r)||t.children.set(r,oo());const s=t.children.get(r);e=Y(e),Lm(s,e,n)}}function Oa(t,e,n){t.value!==null?n(e,t.value):Zw(t,(r,s)=>{const i=new W(e.toString()+"/"+r);Oa(s,i,n)})}function Zw(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ee(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=10*1e3,eC=30*1e3,tC=5*60*1e3;class nC{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Jw(e);const r=dh+(eC-dh)*Math.random();es(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ee(e,(s,i)=>{i>0&&Ct(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),es(this.reportStats_.bind(this),Math.floor(Math.random()*2*tC))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(at||(at={}));function nc(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function rc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function sc(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=at.ACK_USER_WRITE,this.source=nc()}operationForChild(e){if(b(this.path)){if(this.affectedTree.value!=null)return S(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new W(e));return new lo(U(),n,this.revert)}}else return S(O(this.path)===e,"operationForChild called for unrelated child."),new lo(Y(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){this.source=e,this.path=n,this.type=at.LISTEN_COMPLETE}operationForChild(e){return b(this.path)?new Rs(this.source,U()):new Rs(this.source,Y(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=at.OVERWRITE}operationForChild(e){return b(this.path)?new Dn(this.source,U(),this.snap.getImmediateChild(e)):new Dn(this.source,Y(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=at.MERGE}operationForChild(e){if(b(this.path)){const n=this.children.subtree(new W(e));return n.isEmpty()?null:n.value?new Dn(this.source,U(),n.value):new _r(this.source,U(),n)}else return S(O(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new _r(this.source,Y(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(b(e))return this.isFullyInitialized()&&!this.filtered_;const n=O(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function sC(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push($w(o.childName,o.snapshotNode))}),zr(t,s,"child_removed",e,r,n),zr(t,s,"child_added",e,r,n),zr(t,s,"child_moved",i,r,n),zr(t,s,"child_changed",e,r,n),zr(t,s,"value",e,r,n),s}function zr(t,e,n,r,s,i){const o=r.filter(l=>l.type===n);o.sort((l,a)=>oC(t,l,a)),o.forEach(l=>{const a=iC(t,l,i);s.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(a,t.query_))})})}function iC(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function oC(t,e,n){if(e.childName==null||n.childName==null)throw Sr("Should only compare child_ events.");const r=new F(e.childName,e.snapshotNode),s=new F(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t,e){return{eventCache:t,serverCache:e}}function ts(t,e,n,r){return Oo(new un(e,n,r),t.serverCache)}function Om(t,e,n,r){return Oo(t.eventCache,new un(e,n,r))}function ao(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Mn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il;const lC=()=>(Il||(Il=new Fe(W0)),Il);class G{constructor(e,n=lC()){this.value=e,this.children=n}static fromObject(e){let n=new G(null);return Ee(e,(r,s)=>{n=n.set(new W(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:U(),value:this.value};if(b(e))return null;{const r=O(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(Y(e),n);return i!=null?{path:oe(new W(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(b(e))return this;{const n=O(e),r=this.children.get(n);return r!==null?r.subtree(Y(e)):new G(null)}}set(e,n){if(b(e))return new G(n,this.children);{const r=O(e),i=(this.children.get(r)||new G(null)).set(Y(e),n),o=this.children.insert(r,i);return new G(this.value,o)}}remove(e){if(b(e))return this.children.isEmpty()?new G(null):new G(null,this.children);{const n=O(e),r=this.children.get(n);if(r){const s=r.remove(Y(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new G(null):new G(this.value,i)}else return this}}get(e){if(b(e))return this.value;{const n=O(e),r=this.children.get(n);return r?r.get(Y(e)):null}}setTree(e,n){if(b(e))return n;{const r=O(e),i=(this.children.get(r)||new G(null)).setTree(Y(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new G(this.value,o)}}fold(e){return this.fold_(U(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(oe(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,U(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(b(e))return null;{const i=O(e),o=this.children.get(i);return o?o.findOnPath_(Y(e),oe(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,U(),n)}foreachOnPath_(e,n,r){if(b(e))return this;{this.value&&r(n,this.value);const s=O(e),i=this.children.get(s);return i?i.foreachOnPath_(Y(e),oe(n,s),r):new G(null)}}foreach(e){this.foreach_(U(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(oe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.writeTree_=e}static empty(){return new ft(new G(null))}}function ns(t,e,n){if(b(e))return new ft(new G(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=Pe(s,e);return i=i.updateChild(o,n),new ft(t.writeTree_.set(s,i))}else{const s=new G(n),i=t.writeTree_.setTree(e,s);return new ft(i)}}}function ba(t,e,n){let r=t;return Ee(n,(s,i)=>{r=ns(r,oe(e,s),i)}),r}function hh(t,e){if(b(e))return ft.empty();{const n=t.writeTree_.setTree(e,new G(null));return new ft(n)}}function Fa(t,e){return Fn(t,e)!=null}function Fn(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Pe(n.path,e)):null}function fh(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(te,(r,s)=>{e.push(new F(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new F(r,s.value))}),e}function nn(t,e){if(b(e))return t;{const n=Fn(t,e);return n!=null?new ft(new G(n)):new ft(t.writeTree_.subtree(e))}}function za(t){return t.writeTree_.isEmpty()}function vr(t,e){return bm(U(),t.writeTree_,e)}function bm(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(S(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=bm(oe(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(oe(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t,e){return Um(e,t)}function aC(t,e,n,r,s){S(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=ns(t.visibleWrites,e,n)),t.lastWriteId=r}function uC(t,e,n,r){S(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=ba(t.visibleWrites,e,n),t.lastWriteId=r}function cC(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function dC(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);S(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&hC(l,r.path)?s=!1:Ze(r.path,l.path)&&(i=!0)),o--}if(s){if(i)return fC(t),!0;if(r.snap)t.visibleWrites=hh(t.visibleWrites,r.path);else{const l=r.children;Ee(l,a=>{t.visibleWrites=hh(t.visibleWrites,oe(r.path,a))})}return!0}else return!1}function hC(t,e){if(t.snap)return Ze(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ze(oe(t.path,n),e))return!0;return!1}function fC(t){t.visibleWrites=Fm(t.allWrites,pC,U()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function pC(t){return t.visible}function Fm(t,e,n){let r=ft.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let l;if(i.snap)Ze(n,o)?(l=Pe(n,o),r=ns(r,l,i.snap)):Ze(o,n)&&(l=Pe(o,n),r=ns(r,U(),i.snap.getChild(l)));else if(i.children){if(Ze(n,o))l=Pe(n,o),r=ba(r,l,i.children);else if(Ze(o,n))if(l=Pe(o,n),b(l))r=ba(r,U(),i.children);else{const a=mr(i.children,O(l));if(a){const c=a.getChild(Y(l));r=ns(r,U(),c)}}}else throw Sr("WriteRecord should have .snap or .children")}}return r}function zm(t,e,n,r,s){if(!r&&!s){const i=Fn(t.visibleWrites,e);if(i!=null)return i;{const o=nn(t.visibleWrites,e);if(za(o))return n;if(n==null&&!Fa(o,U()))return null;{const l=n||M.EMPTY_NODE;return vr(o,l)}}}else{const i=nn(t.visibleWrites,e);if(!s&&za(i))return n;if(!s&&n==null&&!Fa(i,U()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(Ze(c.path,e)||Ze(e,c.path))},l=Fm(t.allWrites,o,e),a=n||M.EMPTY_NODE;return vr(l,a)}}}function mC(t,e,n){let r=M.EMPTY_NODE;const s=Fn(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(te,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=nn(t.visibleWrites,e);return n.forEachChild(te,(o,l)=>{const a=vr(nn(i,new W(o)),l);r=r.updateImmediateChild(o,a)}),fh(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=nn(t.visibleWrites,e);return fh(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function gC(t,e,n,r,s){S(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=oe(e,n);if(Fa(t.visibleWrites,i))return null;{const o=nn(t.visibleWrites,i);return za(o)?s.getChild(n):vr(o,s.getChild(n))}}function _C(t,e,n,r){const s=oe(e,n),i=Fn(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=nn(t.visibleWrites,s);return vr(o,r.getNode().getImmediateChild(n))}else return null}function vC(t,e){return Fn(t.visibleWrites,e)}function yC(t,e,n,r,s,i,o){let l;const a=nn(t.visibleWrites,e),c=Fn(a,U());if(c!=null)l=c;else if(n!=null)l=vr(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const f=[],d=o.getCompare(),h=i?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let _=h.getNext();for(;_&&f.length<s;)d(_,r)!==0&&f.push(_),_=h.getNext();return f}else return[]}function wC(){return{visibleWrites:ft.empty(),allWrites:[],lastWriteId:-1}}function uo(t,e,n,r){return zm(t.writeTree,t.treePath,e,n,r)}function ic(t,e){return mC(t.writeTree,t.treePath,e)}function ph(t,e,n,r){return gC(t.writeTree,t.treePath,e,n,r)}function co(t,e){return vC(t.writeTree,oe(t.treePath,e))}function CC(t,e,n,r,s,i){return yC(t.writeTree,t.treePath,e,n,r,s,i)}function oc(t,e,n){return _C(t.writeTree,t.treePath,e,n)}function Bm(t,e){return Um(oe(t.treePath,e),t.writeTree)}function Um(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;S(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),S(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,Ts(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,ks(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,gr(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,Ts(r,e.snapshotNode,s.oldSnap));else throw Sr("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Vm=new SC;class lc{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new un(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return oc(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Mn(this.viewCache_),i=CC(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t){return{filter:t}}function NC(t,e){S(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),S(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function kC(t,e,n,r,s){const i=new EC;let o,l;if(n.type===at.OVERWRITE){const c=n;c.source.fromUser?o=Ba(t,e,c.path,c.snap,r,s,i):(S(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!b(c.path),o=ho(t,e,c.path,c.snap,r,s,l,i))}else if(n.type===at.MERGE){const c=n;c.source.fromUser?o=IC(t,e,c.path,c.children,r,s,i):(S(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),o=Ua(t,e,c.path,c.children,r,s,l,i))}else if(n.type===at.ACK_USER_WRITE){const c=n;c.revert?o=AC(t,e,c.path,r,s,i):o=RC(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===at.LISTEN_COMPLETE)o=PC(t,e,n.path,r,i);else throw Sr("Unknown operation type: "+n.type);const a=i.getChanges();return TC(e,o,a),{viewCache:o,changes:a}}function TC(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=ao(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(Mm(ao(e)))}}function Hm(t,e,n,r,s,i){const o=e.eventCache;if(co(r,n)!=null)return e;{let l,a;if(b(n))if(S(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Mn(e),f=c instanceof M?c:M.EMPTY_NODE,d=ic(r,f);l=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const c=uo(r,Mn(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=O(n);if(c===".priority"){S(an(n)===1,"Can't have a priority with additional path components");const f=o.getNode();a=e.serverCache.getNode();const d=ph(r,n,f,a);d!=null?l=t.filter.updatePriority(f,d):l=o.getNode()}else{const f=Y(n);let d;if(o.isCompleteForChild(c)){a=e.serverCache.getNode();const h=ph(r,n,o.getNode(),a);h!=null?d=o.getNode().getImmediateChild(c).updateChild(f,h):d=o.getNode().getImmediateChild(c)}else d=oc(r,c,e.serverCache);d!=null?l=t.filter.updateChild(o.getNode(),c,d,f,s,i):l=o.getNode()}}return ts(e,l,o.isFullyInitialized()||b(n),t.filter.filtersNodes())}}function ho(t,e,n,r,s,i,o,l){const a=e.serverCache;let c;const f=o?t.filter:t.filter.getIndexedFilter();if(b(n))c=f.updateFullNode(a.getNode(),r,null);else if(f.filtersNodes()&&!a.isFiltered()){const _=a.getNode().updateChild(n,r);c=f.updateFullNode(a.getNode(),_,null)}else{const _=O(n);if(!a.isCompleteForPath(n)&&an(n)>1)return e;const v=Y(n),D=a.getNode().getImmediateChild(_).updateChild(v,r);_===".priority"?c=f.updatePriority(a.getNode(),D):c=f.updateChild(a.getNode(),_,D,v,Vm,null)}const d=Om(e,c,a.isFullyInitialized()||b(n),f.filtersNodes()),h=new lc(s,d,i);return Hm(t,d,n,s,h,l)}function Ba(t,e,n,r,s,i,o){const l=e.eventCache;let a,c;const f=new lc(s,e,i);if(b(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=ts(e,c,!0,t.filter.filtersNodes());else{const d=O(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),a=ts(e,c,l.isFullyInitialized(),l.isFiltered());else{const h=Y(n),_=l.getNode().getImmediateChild(d);let v;if(b(h))v=r;else{const y=f.getCompleteChild(d);y!=null?Ku(h)===".priority"&&y.getChild(km(h)).isEmpty()?v=y:v=y.updateChild(h,r):v=M.EMPTY_NODE}if(_.equals(v))a=e;else{const y=t.filter.updateChild(l.getNode(),d,v,h,f,o);a=ts(e,y,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function mh(t,e){return t.eventCache.isCompleteForChild(e)}function IC(t,e,n,r,s,i,o){let l=e;return r.foreach((a,c)=>{const f=oe(n,a);mh(e,O(f))&&(l=Ba(t,l,f,c,s,i,o))}),r.foreach((a,c)=>{const f=oe(n,a);mh(e,O(f))||(l=Ba(t,l,f,c,s,i,o))}),l}function gh(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Ua(t,e,n,r,s,i,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,c;b(n)?c=r:c=new G(null).setTree(n,r);const f=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(f.hasChild(d)){const _=e.serverCache.getNode().getImmediateChild(d),v=gh(t,_,h);a=ho(t,a,new W(d),v,s,i,o,l)}}),c.children.inorderTraversal((d,h)=>{const _=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!f.hasChild(d)&&!_){const v=e.serverCache.getNode().getImmediateChild(d),y=gh(t,v,h);a=ho(t,a,new W(d),y,s,i,o,l)}}),a}function RC(t,e,n,r,s,i,o){if(co(s,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(b(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return ho(t,e,n,a.getNode().getChild(n),s,i,l,o);if(b(n)){let c=new G(null);return a.getNode().forEachChild(kn,(f,d)=>{c=c.set(new W(f),d)}),Ua(t,e,n,c,s,i,l,o)}else return e}else{let c=new G(null);return r.foreach((f,d)=>{const h=oe(n,f);a.isCompleteForPath(h)&&(c=c.set(f,a.getNode().getChild(h)))}),Ua(t,e,n,c,s,i,l,o)}}function PC(t,e,n,r,s){const i=e.serverCache,o=Om(e,i.getNode(),i.isFullyInitialized()||b(n),i.isFiltered());return Hm(t,o,n,r,Vm,s)}function AC(t,e,n,r,s,i){let o;if(co(r,n)!=null)return e;{const l=new lc(r,e,s),a=e.eventCache.getNode();let c;if(b(n)||O(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=uo(r,Mn(e));else{const d=e.serverCache.getNode();S(d instanceof M,"serverChildren would be complete if leaf node"),f=ic(r,d)}f=f,c=t.filter.updateFullNode(a,f,i)}else{const f=O(n);let d=oc(r,f,e.serverCache);d==null&&e.serverCache.isCompleteForChild(f)&&(d=a.getImmediateChild(f)),d!=null?c=t.filter.updateChild(a,f,d,Y(n),l,i):e.eventCache.getNode().hasChild(f)?c=t.filter.updateChild(a,f,M.EMPTY_NODE,Y(n),l,i):c=a,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=uo(r,Mn(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||co(r,U())!=null,ts(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new ec(r.getIndex()),i=Qw(r);this.processor_=xC(i);const o=n.serverCache,l=n.eventCache,a=s.updateFullNode(M.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(M.EMPTY_NODE,l.getNode(),null),f=new un(a,o.isFullyInitialized(),s.filtersNodes()),d=new un(c,l.isFullyInitialized(),i.filtersNodes());this.viewCache_=Oo(d,f),this.eventGenerator_=new rC(this.query_)}get query(){return this.query_}}function DC(t){return t.viewCache_.serverCache.getNode()}function MC(t){return ao(t.viewCache_)}function LC(t,e){const n=Mn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!b(e)&&!n.getImmediateChild(O(e)).isEmpty())?n.getChild(e):null}function _h(t){return t.eventRegistrations_.length===0}function OC(t,e){t.eventRegistrations_.push(e)}function vh(t,e,n){const r=[];if(n){S(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function yh(t,e,n,r){e.type===at.MERGE&&e.source.queryId!==null&&(S(Mn(t.viewCache_),"We should always have a full cache before handling merges"),S(ao(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=kC(t.processor_,s,e,n,r);return NC(t.processor_,i.viewCache),S(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,Wm(t,i.changes,i.viewCache.eventCache.getNode(),null)}function bC(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(te,(i,o)=>{r.push(gr(i,o))}),n.isFullyInitialized()&&r.push(Mm(n.getNode())),Wm(t,r,n.getNode(),e)}function Wm(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return sC(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo;class $m{constructor(){this.views=new Map}}function FC(t){S(!fo,"__referenceConstructor has already been defined"),fo=t}function zC(){return S(fo,"Reference.ts has not been loaded"),fo}function BC(t){return t.views.size===0}function ac(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return S(i!=null,"SyncTree gave us an op for an invalid query."),yh(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(yh(o,e,n,r));return i}}function Gm(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let l=uo(n,s?r:null),a=!1;l?a=!0:r instanceof M?(l=ic(n,r),a=!1):(l=M.EMPTY_NODE,a=!1);const c=Oo(new un(l,a,!1),new un(r,s,!1));return new jC(e,c)}return o}function UC(t,e,n,r,s,i){const o=Gm(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),OC(o,n),bC(o,n)}function VC(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const l=cn(t);if(s==="default")for(const[a,c]of t.views.entries())o=o.concat(vh(c,n,r)),_h(c)&&(t.views.delete(a),c.query._queryParams.loadsAllData()||i.push(c.query));else{const a=t.views.get(s);a&&(o=o.concat(vh(a,n,r)),_h(a)&&(t.views.delete(s),a.query._queryParams.loadsAllData()||i.push(a.query)))}return l&&!cn(t)&&i.push(new(zC())(e._repo,e._path)),{removed:i,events:o}}function Qm(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function rn(t,e){let n=null;for(const r of t.views.values())n=n||LC(r,e);return n}function Ym(t,e){if(e._queryParams.loadsAllData())return Fo(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Km(t,e){return Ym(t,e)!=null}function cn(t){return Fo(t)!=null}function Fo(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po;function HC(t){S(!po,"__referenceConstructor has already been defined"),po=t}function WC(){return S(po,"Reference.ts has not been loaded"),po}let $C=1;class wh{constructor(e){this.listenProvider_=e,this.syncPointTree_=new G(null),this.pendingWriteTree_=wC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function qm(t,e,n,r,s){return aC(t.pendingWriteTree_,e,n,r,s),s?Nr(t,new Dn(nc(),e,n)):[]}function GC(t,e,n,r){uC(t.pendingWriteTree_,e,n,r);const s=G.fromObject(n);return Nr(t,new _r(nc(),e,s))}function $t(t,e,n=!1){const r=cC(t.pendingWriteTree_,e);if(dC(t.pendingWriteTree_,e)){let i=new G(null);return r.snap!=null?i=i.set(U(),!0):Ee(r.children,o=>{i=i.set(new W(o),!0)}),Nr(t,new lo(r.path,i,n))}else return[]}function Hs(t,e,n){return Nr(t,new Dn(rc(),e,n))}function QC(t,e,n){const r=G.fromObject(n);return Nr(t,new _r(rc(),e,r))}function YC(t,e){return Nr(t,new Rs(rc(),e))}function KC(t,e,n){const r=cc(t,n);if(r){const s=dc(r),i=s.path,o=s.queryId,l=Pe(i,e),a=new Rs(sc(o),l);return hc(t,i,a)}else return[]}function mo(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let l=[];if(o&&(e._queryIdentifier==="default"||Km(o,e))){const a=VC(o,e,n,r);BC(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=a.removed;if(l=a.events,!s){const f=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(i,(h,_)=>cn(_));if(f&&!d){const h=t.syncPointTree_.subtree(i);if(!h.isEmpty()){const _=ZC(h);for(let v=0;v<_.length;++v){const y=_[v],D=y.query,m=eg(t,y);t.listenProvider_.startListening(rs(D),Ps(t,D),m.hashFn,m.onComplete)}}}!d&&c.length>0&&!r&&(f?t.listenProvider_.stopListening(rs(e),null):c.forEach(h=>{const _=t.queryToTagMap.get(zo(h));t.listenProvider_.stopListening(rs(h),_)}))}JC(t,c)}return l}function Xm(t,e,n,r){const s=cc(t,r);if(s!=null){const i=dc(s),o=i.path,l=i.queryId,a=Pe(o,e),c=new Dn(sc(l),a,n);return hc(t,o,c)}else return[]}function qC(t,e,n,r){const s=cc(t,r);if(s){const i=dc(s),o=i.path,l=i.queryId,a=Pe(o,e),c=G.fromObject(n),f=new _r(sc(l),a,c);return hc(t,o,f)}else return[]}function Va(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(h,_)=>{const v=Pe(h,s);i=i||rn(_,v),o=o||cn(_)});let l=t.syncPointTree_.get(s);l?(o=o||cn(l),i=i||rn(l,U())):(l=new $m,t.syncPointTree_=t.syncPointTree_.set(s,l));let a;i!=null?a=!0:(a=!1,i=M.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((_,v)=>{const y=rn(v,U());y&&(i=i.updateImmediateChild(_,y))}));const c=Km(l,e);if(!c&&!e._queryParams.loadsAllData()){const h=zo(e);S(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const _=eE();t.queryToTagMap.set(h,_),t.tagToQueryMap.set(_,h)}const f=bo(t.pendingWriteTree_,s);let d=UC(l,e,n,f,i,a);if(!c&&!o&&!r){const h=Ym(l,e);d=d.concat(tE(t,e,h))}return d}function uc(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=Pe(o,e),c=rn(l,a);if(c)return c});return zm(s,e,i,n,!0)}function XC(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,f)=>{const d=Pe(c,n);r=r||rn(f,d)});let s=t.syncPointTree_.get(n);s?r=r||rn(s,U()):(s=new $m,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new un(r,!0,!1):null,l=bo(t.pendingWriteTree_,e._path),a=Gm(s,e,l,i?o.getNode():M.EMPTY_NODE,i);return MC(a)}function Nr(t,e){return Zm(e,t.syncPointTree_,null,bo(t.pendingWriteTree_,U()))}function Zm(t,e,n,r){if(b(t.path))return Jm(t,e,n,r);{const s=e.get(U());n==null&&s!=null&&(n=rn(s,U()));let i=[];const o=O(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const c=n?n.getImmediateChild(o):null,f=Bm(r,o);i=i.concat(Zm(l,a,c,f))}return s&&(i=i.concat(ac(s,t,r,n))),i}}function Jm(t,e,n,r){const s=e.get(U());n==null&&s!=null&&(n=rn(s,U()));let i=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,c=Bm(r,o),f=t.operationForChild(o);f&&(i=i.concat(Jm(f,l,a,c)))}),s&&(i=i.concat(ac(s,t,r,n))),i}function eg(t,e){const n=e.query,r=Ps(t,n);return{hashFn:()=>(DC(e)||M.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?KC(t,n._path,r):YC(t,n._path);{const i=Q0(s,n);return mo(t,n,null,i)}}}}function Ps(t,e){const n=zo(e);return t.queryToTagMap.get(n)}function zo(t){return t._path.toString()+"$"+t._queryIdentifier}function cc(t,e){return t.tagToQueryMap.get(e)}function dc(t){const e=t.indexOf("$");return S(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new W(t.substr(0,e))}}function hc(t,e,n){const r=t.syncPointTree_.get(e);S(r,"Missing sync point for query tag that we're tracking");const s=bo(t.pendingWriteTree_,e);return ac(r,n,s,null)}function ZC(t){return t.fold((e,n,r)=>{if(n&&cn(n))return[Fo(n)];{let s=[];return n&&(s=Qm(n)),Ee(r,(i,o)=>{s=s.concat(o)}),s}})}function rs(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(WC())(t._repo,t._path):t}function JC(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=zo(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function eE(){return $C++}function tE(t,e,n){const r=e._path,s=Ps(t,e),i=eg(t,n),o=t.listenProvider_.startListening(rs(e),s,i.hashFn,i.onComplete),l=t.syncPointTree_.subtree(r);if(s)S(!cn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((c,f,d)=>{if(!b(c)&&f&&cn(f))return[Fo(f).query];{let h=[];return f&&(h=h.concat(Qm(f).map(_=>_.query))),Ee(d,(_,v)=>{h=h.concat(v)}),h}});for(let c=0;c<a.length;++c){const f=a[c];t.listenProvider_.stopListening(rs(f),Ps(t,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new fc(n)}node(){return this.node_}}class pc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=oe(this.path_,e);return new pc(this.syncTree_,n)}node(){return uc(this.syncTree_,this.path_)}}const nE=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Ch=function(t,e,n){if(!t||typeof t!="object")return t;if(S(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return rE(t[".sv"],e,n);if(typeof t[".sv"]=="object")return sE(t[".sv"],e);S(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},rE=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:S(!1,"Unexpected server value: "+t)}},sE=function(t,e,n){t.hasOwnProperty("increment")||S(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&S(!1,"Unexpected increment value: "+r);const s=e.node();if(S(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},tg=function(t,e,n,r){return mc(e,new pc(n,t),r)},ng=function(t,e,n){return mc(t,new fc(e),n)};function mc(t,e,n){const r=t.getPriority().val(),s=Ch(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,l=Ch(o.getValue(),e,n);return l!==o.getValue()||s!==o.getPriority().val()?new pe(l,ce(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new pe(s))),o.forEachChild(te,(l,a)=>{const c=mc(a,e.getImmediateChild(l),n);c!==a&&(i=i.updateImmediateChild(l,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function _c(t,e){let n=e instanceof W?e:new W(e),r=t,s=O(n);for(;s!==null;){const i=mr(r.node.children,s)||{children:{},childCount:0};r=new gc(s,r,i),n=Y(n),s=O(n)}return r}function kr(t){return t.node.value}function rg(t,e){t.node.value=e,Ha(t)}function sg(t){return t.node.childCount>0}function iE(t){return kr(t)===void 0&&!sg(t)}function Bo(t,e){Ee(t.node.children,(n,r)=>{e(new gc(n,t,r))})}function ig(t,e,n,r){n&&e(t),Bo(t,s=>{ig(s,e,!0)})}function oE(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ws(t){return new W(t.parent===null?t.name:Ws(t.parent)+"/"+t.name)}function Ha(t){t.parent!==null&&lE(t.parent,t.name,t)}function lE(t,e,n){const r=iE(n),s=Ct(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Ha(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Ha(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=/[\[\].#$\/\u0000-\u001F\u007F]/,uE=/[\[\].#$\u0000-\u001F\u007F]/,Rl=10*1024*1024,vc=function(t){return typeof t=="string"&&t.length!==0&&!aE.test(t)},og=function(t){return typeof t=="string"&&t.length!==0&&!uE.test(t)},cE=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),og(t)},Wa=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Wu(t)||t&&typeof t=="object"&&Ct(t,".sv")},$s=function(t,e,n,r){r&&e===void 0||Uo(Do(t,"value"),e,n)},Uo=function(t,e,n){const r=n instanceof W?new Tw(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+yn(r));if(typeof e=="function")throw new Error(t+"contains a function "+yn(r)+" with contents = "+e.toString());if(Wu(e))throw new Error(t+"contains "+e.toString()+" "+yn(r));if(typeof e=="string"&&e.length>Rl/3&&Mo(e)>Rl)throw new Error(t+"contains a string greater than "+Rl+" utf8 bytes "+yn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Ee(e,(o,l)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!vc(o)))throw new Error(t+" contains an invalid key ("+o+") "+yn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Iw(r,o),Uo(t,l,r),Rw(r)}),s&&i)throw new Error(t+' contains ".value" child '+yn(r)+" in addition to actual children.")}},dE=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=Ns(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!vc(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(kw);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&Ze(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},hE=function(t,e,n,r){const s=Do(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];Ee(e,(o,l)=>{const a=new W(o);if(Uo(s,l,oe(n,a)),Ku(a)===".priority"&&!Wa(l))throw new Error(s+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(a)}),dE(s,i)},yc=function(t,e,n,r){if(!og(n))throw new Error(Do(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},fE=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),yc(t,e,n)},wc=function(t,e){if(O(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},pE=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!vc(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!cE(n))throw new Error(Do(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Vo(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!qu(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function lg(t,e,n){Vo(t,n),ag(t,r=>qu(r,e))}function nt(t,e,n){Vo(t,n),ag(t,r=>Ze(r,e)||Ze(e,r))}function ag(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(gE(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function gE(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Jr&&ye("event: "+n.toString()),xr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="repo_interrupt",vE=25;class yE{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=oo(),this.transactionQueueTree_=new gc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function wE(t,e,n){if(t.stats_=Qu(t.repoInfo_),t.forceRestClient_||X0())t.server_=new io(t.repoInfo_,(r,s,i,o)=>{Eh(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Sh(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{de(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Rt(t.repoInfo_,e,(r,s,i,o)=>{Eh(t,r,s,i,o)},r=>{Sh(t,r)},r=>{CE(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=nw(t.repoInfo_,()=>new nC(t.stats_,t.server_)),t.infoData_=new Xw,t.infoSyncTree_=new wh({startListening:(r,s,i,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=Hs(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Cc(t,"connected",!1),t.serverSyncTree_=new wh({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(l,a)=>{const c=o(l,a);nt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function ug(t){const n=t.infoData_.getNode(new W(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ho(t){return nE({timestamp:ug(t)})}function Eh(t,e,n,r,s){t.dataUpdateCount++;const i=new W(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const a=Ji(n,c=>ce(c));o=qC(t.serverSyncTree_,i,a,s)}else{const a=ce(n);o=Xm(t.serverSyncTree_,i,a,s)}else if(r){const a=Ji(n,c=>ce(c));o=QC(t.serverSyncTree_,i,a)}else{const a=ce(n);o=Hs(t.serverSyncTree_,i,a)}let l=i;o.length>0&&(l=yr(t,i)),nt(t.eventQueue_,l,o)}function Sh(t,e){Cc(t,"connected",e),e===!1&&NE(t)}function CE(t,e){Ee(e,(n,r)=>{Cc(t,n,r)})}function Cc(t,e,n){const r=new W("/.info/"+e),s=ce(n);t.infoData_.updateSnapshot(r,s);const i=Hs(t.infoSyncTree_,r,s);nt(t.eventQueue_,r,i)}function Ec(t){return t.nextWriteId_++}function EE(t,e,n){const r=XC(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=ce(s).withIndex(e._queryParams.getIndex());Va(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Hs(t.serverSyncTree_,e._path,i);else{const l=Ps(t.serverSyncTree_,e);o=Xm(t.serverSyncTree_,e._path,i,l)}return nt(t.eventQueue_,e._path,o),mo(t.serverSyncTree_,e,n,null,!0),i},s=>(Gs(t,"get for query "+de(e)+" failed: "+s),Promise.reject(new Error(s))))}function SE(t,e,n,r,s){Gs(t,"set",{path:e.toString(),value:n,priority:r});const i=Ho(t),o=ce(n,r),l=uc(t.serverSyncTree_,e),a=ng(o,l,i),c=Ec(t),f=qm(t.serverSyncTree_,e,a,c,!0);Vo(t.eventQueue_,f),t.server_.put(e.toString(),o.val(!0),(h,_)=>{const v=h==="ok";v||je("set at "+e+" failed: "+h);const y=$t(t.serverSyncTree_,c,!v);nt(t.eventQueue_,e,y),$a(t,s,h,_)});const d=xc(t,e);yr(t,d),nt(t.eventQueue_,d,[])}function xE(t,e,n,r){Gs(t,"update",{path:e.toString(),value:n});let s=!0;const i=Ho(t),o={};if(Ee(n,(l,a)=>{s=!1,o[l]=tg(oe(e,l),ce(a),t.serverSyncTree_,i)}),s)ye("update() called with empty data.  Don't do anything."),$a(t,r,"ok",void 0);else{const l=Ec(t),a=GC(t.serverSyncTree_,e,o,l);Vo(t.eventQueue_,a),t.server_.merge(e.toString(),n,(c,f)=>{const d=c==="ok";d||je("update at "+e+" failed: "+c);const h=$t(t.serverSyncTree_,l,!d),_=h.length>0?yr(t,e):e;nt(t.eventQueue_,_,h),$a(t,r,c,f)}),Ee(n,c=>{const f=xc(t,oe(e,c));yr(t,f)}),nt(t.eventQueue_,e,[])}}function NE(t){Gs(t,"onDisconnectEvents");const e=Ho(t),n=oo();Oa(t.onDisconnect_,U(),(s,i)=>{const o=tg(s,i,t.serverSyncTree_,e);Lm(n,s,o)});let r=[];Oa(n,U(),(s,i)=>{r=r.concat(Hs(t.serverSyncTree_,s,i));const o=xc(t,s);yr(t,o)}),t.onDisconnect_=oo(),nt(t.eventQueue_,U(),r)}function kE(t,e,n){let r;O(e._path)===".info"?r=Va(t.infoSyncTree_,e,n):r=Va(t.serverSyncTree_,e,n),lg(t.eventQueue_,e._path,r)}function TE(t,e,n){let r;O(e._path)===".info"?r=mo(t.infoSyncTree_,e,n):r=mo(t.serverSyncTree_,e,n),lg(t.eventQueue_,e._path,r)}function IE(t){t.persistentConnection_&&t.persistentConnection_.interrupt(_E)}function Gs(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ye(n,...e)}function $a(t,e,n,r){e&&xr(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function cg(t,e,n){return uc(t.serverSyncTree_,e,n)||M.EMPTY_NODE}function Sc(t,e=t.transactionQueueTree_){if(e||Wo(t,e),kr(e)){const n=hg(t,e);S(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&RE(t,Ws(e),n)}else sg(e)&&Bo(e,n=>{Sc(t,n)})}function RE(t,e,n){const r=n.map(c=>c.currentWriteId),s=cg(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const f=n[c];S(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const d=Pe(e,f.path);i=i.updateChild(d,f.currentOutputSnapshotRaw)}const l=i.val(!0),a=e;t.server_.put(a.toString(),l,c=>{Gs(t,"transaction put response",{path:a.toString(),status:c});let f=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,f=f.concat($t(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Wo(t,_c(t.transactionQueueTree_,e)),Sc(t,t.transactionQueueTree_),nt(t.eventQueue_,e,f);for(let h=0;h<d.length;h++)xr(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{je("transaction at "+a.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}yr(t,e)}},o)}function yr(t,e){const n=dg(t,e),r=Ws(n),s=hg(t,n);return PE(t,s,r),r}function PE(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],c=Pe(n,a.path);let f=!1,d;if(S(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)f=!0,d=a.abortReason,s=s.concat($t(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=vE)f=!0,d="maxretry",s=s.concat($t(t.serverSyncTree_,a.currentWriteId,!0));else{const h=cg(t,a.path,o);a.currentInputSnapshot=h;const _=e[l].update(h.val());if(_!==void 0){Uo("transaction failed: Data returned ",_,a.path);let v=ce(_);typeof _=="object"&&_!=null&&Ct(_,".priority")||(v=v.updatePriority(h.getPriority()));const D=a.currentWriteId,m=Ho(t),p=ng(v,h,m);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=p,a.currentWriteId=Ec(t),o.splice(o.indexOf(D),1),s=s.concat(qm(t.serverSyncTree_,a.path,p,a.currentWriteId,a.applyLocally)),s=s.concat($t(t.serverSyncTree_,D,!0))}else f=!0,d="nodata",s=s.concat($t(t.serverSyncTree_,a.currentWriteId,!0))}nt(t.eventQueue_,n,s),s=[],f&&(e[l].status=2,function(h){setTimeout(h,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(d==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(d),!1,null))))}Wo(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)xr(r[l]);Sc(t,t.transactionQueueTree_)}function dg(t,e){let n,r=t.transactionQueueTree_;for(n=O(e);n!==null&&kr(r)===void 0;)r=_c(r,n),e=Y(e),n=O(e);return r}function hg(t,e){const n=[];return fg(t,e,n),n.sort((r,s)=>r.order-s.order),n}function fg(t,e,n){const r=kr(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Bo(e,s=>{fg(t,s,n)})}function Wo(t,e){const n=kr(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,rg(e,n.length>0?n:void 0)}Bo(e,r=>{Wo(t,r)})}function xc(t,e){const n=Ws(dg(t,e)),r=_c(t.transactionQueueTree_,e);return oE(r,s=>{Pl(t,s)}),Pl(t,r),ig(r,s=>{Pl(t,s)}),n}function Pl(t,e){const n=kr(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(S(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(S(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat($t(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?rg(e,void 0):n.length=i+1,nt(t.eventQueue_,Ws(e),s);for(let o=0;o<r.length;o++)xr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function jE(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):je(`Invalid query segment '${n}' in query '${t}'`)}return e}const xh=function(t,e){const n=DE(t),r=n.namespace;n.domain==="firebase.com"&&Lt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Lt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||V0();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new _m(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new W(n.pathString)}},DE=function(t){let e="",n="",r="",s="",i="",o=!0,l="https",a=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let f=t.indexOf("/");f===-1&&(f=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(f,d)),f<d&&(s=AE(t.substring(f,d)));const h=jE(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(c+1),10)):c=e.length;const _=e.slice(0,c);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),i=r}"ns"in h&&(i=h.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ME=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=Nh.charAt(n%64),n=Math.floor(n/64);S(n===0,"Cannot push at time == 0");let o=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=Nh.charAt(e[s]);return S(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+de(this.snapshot.exportVal())}}class OE{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return S(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return b(this._path)?null:Ku(this._path)}get ref(){return new bt(this._repo,this._path)}get _queryIdentifier(){const e=ch(this._queryParams),n=$u(e);return n==="{}"?"default":n}get _queryObject(){return ch(this._queryParams)}isEqual(e){if(e=pn(e),!(e instanceof Tr))return!1;const n=this._repo===e._repo,r=qu(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+Nw(this._path)}}function bE(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Nc(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===kn){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==jn)throw new Error(r);if(typeof e!="string")throw new Error(s)}if(t.hasEnd()){if(t.getIndexEndName()!==ln)throw new Error(r);if(typeof n!="string")throw new Error(s)}}else if(t.getIndex()===te){if(e!=null&&!Wa(e)||n!=null&&!Wa(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(S(t.getIndex()instanceof Ju||t.getIndex()===Dm,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function mg(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class bt extends Tr{constructor(e,n){super(e,n,new tc,!1)}get parent(){const e=km(this._path);return e===null?null:new bt(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class As{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new W(e),r=js(this.ref,e);return new As(this._node.getChild(n),r,te)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new As(s,js(this.ref,r),te)))}hasChild(e){const n=new W(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ut(t,e){return t=pn(t),t._checkNotDeleted("ref"),e!==void 0?js(t._root,e):t._root}function js(t,e){return t=pn(t),O(t._path)===null?fE("child","path",e):yc("child","path",e),new bt(t._repo,oe(t._path,e))}function Ga(t,e){t=pn(t),wc("push",t._path),$s("push",e,t._path,!0);const n=ug(t._repo),r=ME(n),s=js(t,r),i=js(t,r);let o;return e!=null?o=gg(i,e).then(()=>i):o=Promise.resolve(i),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function kh(t){return wc("remove",t._path),gg(t,null)}function gg(t,e){t=pn(t),wc("set",t._path),$s("set",e,t._path,!1);const n=new Fs;return SE(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function FE(t,e){hE("update",e,t._path);const n=new Fs;return xE(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function zE(t){t=pn(t);const e=new pg(()=>{}),n=new $o(e);return EE(t._repo,t,n).then(r=>new As(r,new bt(t._repo,t._path),t._queryParams.getIndex()))}class $o{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new LE("value",this,new As(e.snapshotNode,new bt(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new OE(this,e,n):null}matches(e){return e instanceof $o?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function BE(t,e,n,r,s){const i=new pg(n,void 0),o=new $o(i);return kE(t._repo,t,o),()=>TE(t._repo,t,o)}function go(t,e,n,r){return BE(t,"value",e)}class Go{}class UE extends Go{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){$s("endAt",this._value,e._path,!0);const n=Kw(e._queryParams,this._value,this._key);if(mg(n),Nc(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Tr(e._repo,e._path,n,e._orderByCalled)}}class VE extends Go{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){$s("startAt",this._value,e._path,!0);const n=Yw(e._queryParams,this._value,this._key);if(mg(n),Nc(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Tr(e._repo,e._path,n,e._orderByCalled)}}class HE extends Go{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){bE(e,"orderByChild");const n=new W(this._path);if(b(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Ju(n),s=qw(e._queryParams,r);return Nc(s),new Tr(e._repo,e._path,s,!0)}}function WE(t){return yc("orderByChild","path",t),new HE(t)}class $E extends Go{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if($s("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new UE(this._value,this._key)._apply(new VE(this._value,this._key)._apply(e))}}function GE(t,e){return new $E(t,e)}function QE(t,...e){let n=pn(t);for(const r of e)n=r._apply(n);return n}FC(bt);HC(bt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="FIREBASE_DATABASE_EMULATOR_HOST",Qa={};let KE=!1;function qE(t,e,n,r){t.repoInfo_=new _m(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function XE(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||Lt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ye("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=xh(i,s),l=o.repoInfo,a;typeof process<"u"&&Gd&&(a=Gd[YE]),a?(i=`http://${a}?ns=${l.namespace}`,o=xh(i,s),l=o.repoInfo):o.repoInfo.secure;const c=new J0(t.name,t.options,e);pE("Invalid Firebase Database URL",o),b(o.path)||Lt("Database URL must point to the root of a Firebase Database (not including a child path).");const f=JE(l,t,c,new Z0(t.name,n));return new eS(f,t)}function ZE(t,e){const n=Qa[e];(!n||n[t.key]!==t)&&Lt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),IE(t),delete n[t.key]}function JE(t,e,n,r){let s=Qa[e.name];s||(s={},Qa[e.name]=s);let i=s[t.toURLString()];return i&&Lt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new yE(t,KE,n,r),s[t.toURLString()]=i,i}class eS{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(wE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new bt(this._repo,U())),this._rootInternal}_delete(){return this._rootInternal!==null&&(ZE(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Lt("Cannot call "+e+" on a deleted database.")}}function tS(t=k0(),e){const n=E0(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=dy("database");r&&nS(n,...r)}return n}function nS(t,e,n,r={}){t=pn(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Lt("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Lt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Ti(Ti.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:hy(r.mockUserToken,t.app.options.projectId);i=new Ti(o)}qE(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t){O0(N0),to(new Es("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return XE(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),or(Qd,Yd,t),or(Qd,Yd,"esm2017")}Rt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Rt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};rS();var sS="firebase",iS="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or(sS,iS,"app");const oS={apiKey:"AIzaSyA7bCJ740dlOwfB7jzZ9RPZ49JO8-XzMcc",authDomain:"hilde-5th-birthday.firebaseapp.com",databaseURL:"https://hilde-5th-birthday-default-rtdb.firebaseio.com",projectId:"hilde-5th-birthday",storageBucket:"hilde-5th-birthday.firebasestorage.app",messagingSenderId:"37156501458",appId:"1:37156501458:web:bbbf39de05a681fbec3a0b"},lS=em(oS),ct=tS(lS),fi="hilde-bday-rsvp-email",aS="hilde-bday-rsvp-id";function uS({active:t}){const e=k.useRef(null);return k.useEffect(()=>{if(!t)return;const n=e.current,r=n.getContext("2d");n.width=window.innerWidth,n.height=window.innerHeight;const s=[],i=["#ff6b9d","#ffd700","#74b9ff","#ff8c42","#a29bfe","#00cec9"];for(let a=0;a<150;a++)s.push({x:Math.random()*n.width,y:-10-Math.random()*100,size:Math.random()*8+4,color:i[Math.floor(Math.random()*i.length)],speedY:Math.random()*3+2,speedX:Math.random()*4-2,rotation:Math.random()*360,rotationSpeed:Math.random()*10-5});let o;const l=()=>{r.clearRect(0,0,n.width,n.height);let a=0;s.forEach(c=>{c.y<n.height+50&&(a++,c.y+=c.speedY,c.x+=c.speedX,c.rotation+=c.rotationSpeed,c.speedY+=.1,r.save(),r.translate(c.x,c.y),r.rotate(c.rotation*Math.PI/180),r.fillStyle=c.color,r.fillRect(-c.size/2,-c.size/2,c.size,c.size*.6),r.restore())}),a>0&&(o=requestAnimationFrame(l))};return l(),()=>{o&&cancelAnimationFrame(o)}},[t]),t?u.jsx("canvas",{ref:e,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:1e3}}):null}function cS(){const[t,e]=k.useState("lookup"),[n,r]=k.useState(""),[s,i]=k.useState(""),[o,l]=k.useState(null),[a,c]=k.useState(1),[f,d]=k.useState(1),[h,_]=k.useState(null),[v,y]=k.useState(""),[D,m]=k.useState(!0),[p,g]=k.useState(!1),[w,x]=k.useState(!1),[T,I]=k.useState(""),[P,V]=k.useState(!1),[L,Se]=k.useState(!1);k.useEffect(()=>{(async()=>{localStorage.removeItem(aS);const N=localStorage.getItem(fi);if(N){r(N);const j=await mt(N);e(j?"submitted":"lookup")}m(!1)})()},[]);const mt=async C=>{if(!C.trim())return null;try{const N=ut(ct,"rsvps"),j=QE(N,WE("email"),GE(C.toLowerCase().trim())),$=await zE(j);if($.exists()){const se=$.val(),[fe,Z]=Object.entries(se)[0];return i(Z.childName||Z.name||""),l(Z.attending),c(Z.adultCount||Z.guestCount||1),d(Z.kidCount||1),_(fe),Z}}catch(N){console.log("Email lookup error:",N.message)}return null},Et=async C=>{if(C.preventDefault(),y(""),!n.trim()){y("Please enter your email");return}g(!0);const N=await mt(n);g(!1),N?(localStorage.setItem(fi,n.toLowerCase().trim()),e("submitted")):e("form")},A=async C=>{if(C.preventDefault(),y(""),!n.trim()){y("Please enter your email");return}if(!s.trim()){y("Please enter your child's name");return}if(o===null){y("Please let us know if you can make it");return}const N={email:n.toLowerCase().trim(),childName:s.trim(),name:s.trim(),attending:o,adultCount:o?a:0,kidCount:o?f:0,timestamp:Date.now()};try{if(h)await FE(ut(ct,`rsvps/${h}`),N);else{const j=await Ga(ut(ct,"rsvps"),N);_(j.key)}localStorage.setItem(fi,n.toLowerCase().trim()),x(!0),setTimeout(()=>x(!1),4e3),e("submitted")}catch(j){y("Oops! Something went wrong. Please try again."),console.error(j)}},Ie=async()=>{if(T.trim()){Se(!0);try{await Ga(ut(ct,"messages"),{name:s.trim()+"'s family",message:T.trim(),timestamp:Date.now()}),V(!0),I("")}catch(C){console.error(C)}Se(!1)}},Ve=()=>{e("form")},Le=()=>{localStorage.removeItem(fi),r(""),i(""),l(null),c(1),d(1),_(null),V(!1),I(""),e("lookup")};return D?u.jsxs("section",{className:"rsvp",id:"rsvp-section",children:[u.jsx("h2",{children:"Mission Log"}),u.jsx("p",{className:"rsvp-subtitle",children:"Loading..."})]}):t==="lookup"?u.jsxs("section",{className:"rsvp",id:"rsvp-section",children:[u.jsx("h2",{children:"Mission Log"}),u.jsx("p",{className:"rsvp-subtitle",children:"Enter your email to RSVP or update your response"}),u.jsxs("form",{onSubmit:Et,className:"lookup-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"lookup-email",children:"Your Email"}),u.jsx("input",{type:"email",id:"lookup-email",value:n,onChange:C=>r(C.target.value),placeholder:"astronaut@email.com"})]}),v&&u.jsx("p",{className:"error",children:v}),u.jsx("button",{type:"submit",className:"submit-btn",disabled:p,children:p?"Checking...":"Continue"})]})]}):t==="submitted"?u.jsxs("section",{className:"rsvp",id:"rsvp-section",children:[u.jsx(uS,{active:w}),u.jsx("h2",{children:"Mission Log"}),u.jsxs("div",{className:"success-message",children:[u.jsx("span",{className:"success-icon",children:""}),u.jsxs("p",{className:"success-name",children:["Thanks, ",s,"'s family!"]}),u.jsx("p",{className:"success-status",children:o?"We're excited to see you at the launch!":"We'll miss you! Thanks for letting us know."}),o&&u.jsxs("p",{className:"guest-summary",children:[a," ",a===1?"adult":"adults",f>0&&`, ${f} ${f===1?"kid":"kids"}`]}),P?u.jsx("p",{className:"message-sent-confirmation",children:"Message sent! Thank you!"}):u.jsxs("div",{className:"optional-message",children:[u.jsx("p",{className:"optional-message-prompt",children:"Want to send a message to Hilde?"}),u.jsx("textarea",{value:T,onChange:C=>I(C.target.value),placeholder:"Write a birthday wish or note...",rows:3,className:"optional-message-input"}),T.trim()&&u.jsx("button",{onClick:Ie,className:"send-message-btn",disabled:L,children:L?"Sending...":"Send Message"})]}),u.jsxs("div",{className:"rsvp-actions",children:[u.jsx("button",{onClick:Ve,className:"edit-btn",children:"Edit RSVP"}),u.jsx("button",{onClick:Le,className:"reset-link",children:"Not you? Start fresh"})]})]})]}):u.jsxs("section",{className:"rsvp",id:"rsvp-section",children:[u.jsx("h2",{children:"Mission Log"}),u.jsx("p",{className:"rsvp-subtitle",children:h?"Update your RSVP":"Will you be joining our space adventure?"}),u.jsxs("form",{onSubmit:A,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Your Email"}),u.jsx("input",{type:"email",id:"email",value:n,onChange:C=>r(C.target.value),placeholder:"astronaut@email.com"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"childName",children:"Child's Name"}),u.jsx("input",{type:"text",id:"childName",value:s,onChange:C=>i(C.target.value),placeholder:"Little astronaut's name..."})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Can you make it?"}),u.jsxs("div",{className:"toggle-buttons",children:[u.jsx("button",{type:"button",className:`toggle-btn ${o===!0?"active yes":""}`,onClick:()=>l(!0),children:"Yes, count us in!"}),u.jsx("button",{type:"button",className:`toggle-btn ${o===!1?"active no":""}`,onClick:()=>l(!1),children:"Can't make it"})]})]}),o&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Adults"}),u.jsx("div",{className:"count-selector",children:[1,2,3,4,5,6].map(C=>u.jsx("button",{type:"button",className:`count-btn ${a===C?"active":""}`,onClick:()=>c(C),children:C},C))})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Kids"}),u.jsx("div",{className:"count-selector",children:[1,2,3,4,5,6].map(C=>u.jsx("button",{type:"button",className:`count-btn ${f===C?"active":""}`,onClick:()=>d(C),children:C},C))})]})]}),v&&u.jsx("p",{className:"error",children:v}),u.jsx("button",{type:"submit",className:"submit-btn",children:h?"Update RSVP":"Submit RSVP"}),!h&&u.jsx("button",{type:"button",onClick:Le,className:"reset-link",children:" Use a different email"})]})]})}function dS(){const[t,e]=k.useState([]),[n,r]=k.useState(""),[s,i]=k.useState(""),[o,l]=k.useState(!1),[a,c]=k.useState(!1),[f,d]=k.useState(!1),[h,_]=k.useState(!1);k.useEffect(()=>{const p=ut(ct,"messages"),g=go(p,w=>{const x=w.val();if(x){const T=Object.entries(x).map(([I,P])=>({id:I,...P})).sort((I,P)=>P.timestamp-I.timestamp);e(T)}else e([])});return()=>g()},[]);const v=async p=>{if(p.preventDefault(),!(!n.trim()||!s.trim())){l(!0);try{await Ga(ut(ct,"messages"),{name:n.trim(),message:s.trim(),timestamp:Date.now()}),r(""),i(""),_(!0),setTimeout(()=>{c(!1),_(!1)},1500)}catch(g){console.error(g)}l(!1)}},y=p=>new Date(p).toLocaleDateString("en-US",{month:"short",day:"numeric"}),D=f?t:t.slice(0,3),m=a&&u.jsx("div",{className:"message-modal-overlay",onClick:()=>c(!1),children:u.jsxs("div",{className:"message-modal",onClick:p=>p.stopPropagation(),children:[u.jsx("button",{className:"modal-close",onClick:()=>c(!1),children:""}),h?u.jsxs("div",{className:"message-sent-success",children:[u.jsx("span",{className:"success-rocket",children:""}),u.jsx("p",{children:"Message sent to space!"})]}):u.jsxs(u.Fragment,{children:[u.jsx("h3",{children:"Send a Transmission"}),u.jsx("p",{className:"modal-subtitle",children:"Leave a birthday wish for Hilde!"}),u.jsxs("form",{onSubmit:v,className:"modal-form",children:[u.jsx("input",{type:"text",value:n,onChange:p=>r(p.target.value),placeholder:"Your name",required:!0}),u.jsx("textarea",{value:s,onChange:p=>i(p.target.value),placeholder:"Your message...",rows:4,required:!0}),u.jsx("button",{type:"submit",disabled:o,className:"modal-submit",children:o?"Transmitting...":"Send Message"})]})]})]})});return u.jsxs(u.Fragment,{children:[Up.createPortal(m,document.body),u.jsxs("section",{className:"guestbook",children:[u.jsxs("div",{className:"guestbook-header",children:[u.jsxs("div",{children:[u.jsx("h2",{children:"Transmissions from Space"}),u.jsx("p",{className:"guestbook-subtitle",children:t.length===0?"No messages yet - be the first!":`${t.length} message${t.length!==1?"s":""} received`})]}),u.jsx("button",{className:"send-message-btn-inline",onClick:()=>c(!0),children:"+ Send Message"})]}),t.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"messages-grid",children:D.map((p,g)=>u.jsxs("div",{className:"message-card",style:{animationDelay:`${g*100}ms`},children:[u.jsx("div",{className:"message-avatar",children:p.name.charAt(0).toUpperCase()}),u.jsxs("div",{className:"message-content",children:[u.jsxs("div",{className:"message-header",children:[u.jsx("span",{className:"message-author",children:p.name}),u.jsx("span",{className:"message-date",children:y(p.timestamp)})]}),u.jsx("p",{className:"message-text",children:p.message})]})]},p.id))}),t.length>3&&u.jsx("button",{className:"view-all-btn",onClick:()=>d(!f),children:f?"Show Less":`View All ${t.length} Messages`})]}),t.length===0&&u.jsxs("div",{className:"no-messages-cta",children:[u.jsx("div",{className:"empty-state-icon",children:""}),u.jsx("p",{children:"Awaiting transmissions..."}),u.jsx("button",{className:"send-first-btn",onClick:()=>c(!0),children:"Be the First to Send a Message"})]})]})]})}function hS({name:t,index:e}){const n=[{suit:"#ff6b9d",visor:"#74b9ff"},{suit:"#ffd700",visor:"#a29bfe"},{suit:"#74b9ff",visor:"#ff8c42"},{suit:"#00cec9",visor:"#ff6b9d"},{suit:"#a29bfe",visor:"#ffd700"},{suit:"#ff8c42",visor:"#00cec9"}],r=n[e%n.length];return u.jsxs("svg",{viewBox:"0 0 60 80",className:"astronaut-avatar",children:[u.jsx("circle",{cx:"30",cy:"25",r:"20",fill:"white"}),u.jsx("ellipse",{cx:"30",cy:"27",rx:"14",ry:"12",fill:r.visor,opacity:"0.8"}),u.jsx("ellipse",{cx:"26",cy:"24",rx:"4",ry:"3",fill:"rgba(255,255,255,0.4)"}),u.jsx("ellipse",{cx:"30",cy:"55",rx:"18",ry:"22",fill:r.suit}),u.jsx("ellipse",{cx:"30",cy:"40",rx:"18",ry:"4",fill:"#dfe6e9"}),u.jsx("ellipse",{cx:"10",cy:"52",rx:"7",ry:"10",fill:r.suit}),u.jsx("ellipse",{cx:"50",cy:"52",rx:"7",ry:"10",fill:r.suit})]})}function pi({delay:t=0}){return u.jsxs("svg",{viewBox:"0 0 30 40",className:"mini-astronaut",style:{animationDelay:`${t}ms`},children:[u.jsx("circle",{cx:"15",cy:"12",r:"10",fill:"white"}),u.jsx("ellipse",{cx:"15",cy:"14",rx:"7",ry:"6",fill:"#74b9ff",opacity:"0.8"}),u.jsx("ellipse",{cx:"30",cy:"27",rx:"9",ry:"11",fill:"white"})]})}function fS(){const[t,e]=k.useState([]),[n,r]=k.useState({adults:0,kids:0});k.useEffect(()=>{const i=ut(ct,"rsvps"),o=go(i,l=>{const a=l.val();if(a){const c=Object.entries(a).map(([h,_])=>({id:h,..._})).filter(h=>h.attending).sort((h,_)=>(h.childName||h.name||"").localeCompare(_.childName||_.name||""));e(c);const f=c.reduce((h,_)=>h+(_.adultCount||_.guestCount||1),0),d=c.reduce((h,_)=>h+(_.kidCount||0),0);r({adults:f,kids:d})}});return()=>o()},[]);const s=n.adults+n.kids;return t.length===0?u.jsxs("section",{className:"guest-list",children:[u.jsx("h2",{children:"Mission Crew"}),u.jsxs("div",{className:"crew-status empty",children:[u.jsxs("div",{className:"astronaut-row",children:[u.jsx(pi,{delay:0}),u.jsx(pi,{delay:100}),u.jsx(pi,{delay:200})]}),u.jsx("p",{className:"crew-message",children:"Awaiting crew members..."}),u.jsx("p",{className:"crew-cta",children:"Be the first to join the mission!"})]})]}):u.jsxs("section",{className:"guest-list",children:[u.jsx("h2",{children:"Mission Crew"}),u.jsxs("div",{className:"crew-status",children:[u.jsxs("div",{className:"astronaut-row",children:[[...Array(Math.min(s,12))].map((i,o)=>u.jsx(pi,{delay:o*50},o)),s>12&&u.jsxs("span",{className:"more-astronauts",children:["+",s-12]})]}),u.jsxs("p",{className:"crew-count",children:[u.jsx("span",{className:"crew-number",children:s}),u.jsxs("span",{className:"crew-text",children:[s===1?"astronaut":"astronauts"," ready for launch!"]})]}),u.jsxs("p",{className:"crew-breakdown",children:[n.adults," ",n.adults===1?"adult":"adults","  ",n.kids," ",n.kids===1?"kid":"kids"]})]}),u.jsx("div",{className:"guest-cards",children:t.map((i,o)=>u.jsxs("div",{className:"guest-card",style:{animationDelay:`${o*100}ms`},children:[u.jsx(hS,{name:i.childName||i.name,index:o}),u.jsxs("div",{className:"guest-info",children:[u.jsx("span",{className:"guest-name",children:i.childName||i.name}),u.jsxs("span",{className:"guest-count",children:[i.adultCount||i.guestCount||1," adult",(i.adultCount||1)!==1?"s":"",(i.kidCount||0)>0&&`, ${i.kidCount} kid${i.kidCount!==1?"s":""}`]})]})]},i.id))})]})}const pS="SPACE2026",Th="hilde-bday-access";function mS({children:t}){const[e,n]=k.useState(!1),[r,s]=k.useState(""),[i,o]=k.useState(""),[l,a]=k.useState(!0);k.useEffect(()=>{localStorage.getItem(Th)==="granted"&&n(!0),a(!1)},[]);const c=d=>{d.preventDefault(),o(""),r.toUpperCase()===pS?(localStorage.setItem(Th,"granted"),n(!0)):o("Invalid code. Please check your invitation.")};if(l)return u.jsxs("div",{className:"access-gate",children:[u.jsx("div",{className:"stars"}),u.jsx("div",{className:"stars2"}),u.jsx("div",{className:"access-box",children:u.jsx("p",{children:"Loading..."})})]});if(e)return t;const f=()=>{window.location.href="?admin=true"};return u.jsxs("div",{className:"access-gate",children:[u.jsx("div",{className:"stars"}),u.jsx("div",{className:"stars2"}),u.jsx("div",{className:"stars3"}),u.jsxs("div",{className:"access-box",children:[u.jsx("div",{className:"lock-icon",children:""}),u.jsx("h1",{children:"Mission Access Required"}),u.jsx("p",{children:"Enter the code from your invitation to continue"}),u.jsxs("form",{onSubmit:c,children:[u.jsx("input",{type:"text",value:r,onChange:d=>s(d.target.value),placeholder:"Enter access code...",autoFocus:!0}),i&&u.jsx("p",{className:"error",children:i}),u.jsx("button",{type:"submit",children:"Launch "})]}),u.jsx("button",{className:"gate-admin-link",onClick:f,children:"Mission Control"})]})]})}const gS="HILDE-ADMIN-2026",Al="hilde-bday-admin";function _S({attending:t,notAttending:e}){const n=t+e;if(n===0)return null;const r=t/n*100,s=t/n*360,i=40,o=50,l=50,a=(f,d,h)=>{const _=c(o,l,h,d),v=c(o,l,h,f),y=d-f<=180?"0":"1";return`M ${o} ${l} L ${_.x} ${_.y} A ${h} ${h} 0 ${y} 0 ${v.x} ${v.y} Z`},c=(f,d,h,_)=>{const v=(_-90)*Math.PI/180;return{x:f+h*Math.cos(v),y:d+h*Math.sin(v)}};return u.jsxs("div",{className:"chart-container pie-chart-container",children:[u.jsx("h3",{children:"Response Breakdown"}),u.jsxs("svg",{viewBox:"0 0 100 100",className:"pie-chart",children:[t>0&&u.jsx("path",{d:s>=360?`M ${o} ${l-i} A ${i} ${i} 0 1 1 ${o-.01} ${l-i} Z`:a(0,s,i),fill:"#4caf50"}),e>0&&u.jsx("path",{d:s<=0?`M ${o} ${l-i} A ${i} ${i} 0 1 1 ${o-.01} ${l-i} Z`:a(s,360,i),fill:"#f44336"})]}),u.jsxs("div",{className:"chart-legend",children:[u.jsxs("div",{className:"legend-item",children:[u.jsx("span",{className:"legend-color",style:{background:"#4caf50"}}),u.jsxs("span",{children:["Attending (",t,") - ",r.toFixed(0),"%"]})]}),u.jsxs("div",{className:"legend-item",children:[u.jsx("span",{className:"legend-color",style:{background:"#f44336"}}),u.jsxs("span",{children:["Can't Make It (",e,") - ",(100-r).toFixed(0),"%"]})]})]})]})}function vS({adults:t,kids:e}){const n=Math.max(t,e,1),r=t/n*100,s=e/n*100;return u.jsxs("div",{className:"chart-container bar-chart-container",children:[u.jsx("h3",{children:"Guest Breakdown"}),u.jsxs("div",{className:"bar-chart",children:[u.jsxs("div",{className:"bar-row",children:[u.jsx("span",{className:"bar-label",children:"Adults"}),u.jsx("div",{className:"bar-track",children:u.jsx("div",{className:"bar-fill adults",style:{width:`${r}%`},children:u.jsx("span",{className:"bar-value",children:t})})})]}),u.jsxs("div",{className:"bar-row",children:[u.jsx("span",{className:"bar-label",children:"Kids"}),u.jsx("div",{className:"bar-track",children:u.jsx("div",{className:"bar-fill kids",style:{width:`${s}%`},children:u.jsx("span",{className:"bar-value",children:e})})})]})]})]})}function yS({onBack:t}){const[e,n]=k.useState(!1),[r,s]=k.useState(""),[i,o]=k.useState(""),[l,a]=k.useState([]),[c,f]=k.useState([]),[d,h]=k.useState({attending:0,notAttending:0,adults:0,kids:0}),[_,v]=k.useState(""),[y,D]=k.useState("all"),[m,p]=k.useState(null),[g,w]=k.useState(null),[x,T]=k.useState("rsvps");k.useEffect(()=>{localStorage.getItem(Al)==="granted"&&n(!0)},[]),k.useEffect(()=>{if(!e)return;const A=ut(ct,"rsvps"),Ie=go(A,Ve=>{const Le=Ve.val();if(Le){const C=Object.entries(Le).map(([fe,Z])=>({id:fe,...Z})).sort((fe,Z)=>Z.timestamp-fe.timestamp);a(C);const N=C.filter(fe=>fe.attending),j=C.filter(fe=>!fe.attending),$=N.reduce((fe,Z)=>fe+(Z.adultCount||Z.guestCount||1),0),se=N.reduce((fe,Z)=>fe+(Z.kidCount||0),0);h({attending:N.length,notAttending:j.length,adults:$,kids:se})}else a([]),h({attending:0,notAttending:0,adults:0,kids:0})});return()=>Ie()},[e]),k.useEffect(()=>{if(!e)return;const A=ut(ct,"messages"),Ie=go(A,Ve=>{const Le=Ve.val();if(Le){const C=Object.entries(Le).map(([N,j])=>({id:N,...j})).sort((N,j)=>j.timestamp-N.timestamp);f(C)}else f([])});return()=>Ie()},[e]);const I=A=>{A.preventDefault(),r.toUpperCase()===gS?(localStorage.setItem(Al,"granted"),n(!0)):o("Invalid admin code")},P=()=>{localStorage.removeItem(Al),n(!1)},V=A=>new Date(A).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}),L=l.filter(A=>{const Ie=_===""||(A.childName||A.name||"").toLowerCase().includes(_.toLowerCase())||(A.email||"").toLowerCase().includes(_.toLowerCase()),Ve=y==="all"||y==="attending"&&A.attending||y==="not-attending"&&!A.attending;return Ie&&Ve}),Se=()=>{const A=["Name","Email","Attending","Adults","Kids","Date"],Ie=l.map(N=>[N.childName||N.name||"",N.email||"",N.attending?"Yes":"No",N.attending?N.adultCount||N.guestCount||1:0,N.attending&&N.kidCount||0,new Date(N.timestamp).toLocaleDateString()]),Ve=[A.join(","),...Ie.map(N=>N.map(j=>`"${j}"`).join(","))].join(`
`),Le=new Blob([Ve],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a");C.href=URL.createObjectURL(Le),C.download=`hilde-birthday-rsvps-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(C),C.click(),document.body.removeChild(C)},mt=async A=>{try{await kh(ut(ct,`rsvps/${A}`)),p(null)}catch(Ie){console.error("Delete error:",Ie)}},Et=async A=>{try{await kh(ut(ct,`messages/${A}`)),w(null)}catch(Ie){console.error("Delete message error:",Ie)}};return e?u.jsxs("div",{className:"admin-page",children:[u.jsxs("div",{className:"admin-header",children:[u.jsx("h1",{children:"Mission Control"}),u.jsxs("div",{className:"admin-header-actions",children:[u.jsx("button",{className:"back-link",onClick:t,children:" Back to site"}),u.jsx("button",{className:"logout-btn",onClick:P,children:"Logout"})]})]}),u.jsxs("div",{className:"admin-stats",children:[u.jsxs("div",{className:"stat-card",children:[u.jsx("span",{className:"stat-number",children:d.attending}),u.jsx("span",{className:"stat-label",children:"Attending"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("span",{className:"stat-number",children:d.notAttending}),u.jsx("span",{className:"stat-label",children:"Can't Make It"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("span",{className:"stat-number",children:d.adults}),u.jsx("span",{className:"stat-label",children:"Adults"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("span",{className:"stat-number",children:d.kids}),u.jsx("span",{className:"stat-label",children:"Kids"})]}),u.jsxs("div",{className:"stat-card highlight",children:[u.jsx("span",{className:"stat-number",children:d.adults+d.kids}),u.jsx("span",{className:"stat-label",children:"Total Guests"})]})]}),u.jsxs("div",{className:"admin-charts",children:[u.jsx(_S,{attending:d.attending,notAttending:d.notAttending}),u.jsx(vS,{adults:d.adults,kids:d.kids})]}),u.jsxs("div",{className:"admin-tabs",children:[u.jsxs("button",{className:`admin-tab ${x==="rsvps"?"active":""}`,onClick:()=>T("rsvps"),children:["RSVPs (",l.length,")"]}),u.jsxs("button",{className:`admin-tab ${x==="messages"?"active":""}`,onClick:()=>T("messages"),children:["Messages (",c.length,")"]})]}),x==="rsvps"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"admin-controls",children:[u.jsxs("div",{className:"search-box",children:[u.jsx("input",{type:"text",value:_,onChange:A=>v(A.target.value),placeholder:"Search by name or email...",className:"search-input"}),_&&u.jsx("button",{className:"clear-search",onClick:()=>v(""),children:""})]}),u.jsxs("div",{className:"filter-buttons",children:[u.jsxs("button",{className:`filter-btn ${y==="all"?"active":""}`,onClick:()=>D("all"),children:["All (",l.length,")"]}),u.jsxs("button",{className:`filter-btn ${y==="attending"?"active":""}`,onClick:()=>D("attending"),children:["Attending (",d.attending,")"]}),u.jsxs("button",{className:`filter-btn ${y==="not-attending"?"active":""}`,onClick:()=>D("not-attending"),children:["Can't Make It (",d.notAttending,")"]})]}),u.jsxs("button",{className:"export-btn",onClick:Se,children:[u.jsx("svg",{viewBox:"0 0 24 24",className:"export-icon",children:u.jsx("path",{fill:"currentColor",d:"M14,2H6A2,2,0,0,0,4,4V20a2,2,0,0,0,2,2H18a2,2,0,0,0,2-2V8ZM12,18l-4-4h2.5V11h3v3H16Zm1-9V3.5L18.5,9Z"})}),"Export CSV"]})]}),u.jsxs("div",{className:"admin-table-container",children:[u.jsxs("h2",{children:["All RSVPs ",L.length!==l.length&&`(${L.length} of ${l.length})`]}),L.length===0?u.jsx("p",{className:"no-results",children:"No RSVPs match your search/filter."}):u.jsxs("table",{className:"admin-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Name"}),u.jsx("th",{children:"Email"}),u.jsx("th",{children:"Response"}),u.jsx("th",{children:"Adults"}),u.jsx("th",{children:"Kids"}),u.jsx("th",{children:"Date"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:L.map(A=>u.jsxs("tr",{className:A.attending?"attending":"not-attending",children:[u.jsx("td",{children:A.childName||A.name}),u.jsx("td",{children:A.email||"-"}),u.jsx("td",{children:A.attending?" Yes":" No"}),u.jsx("td",{children:A.attending?A.adultCount||A.guestCount||1:"-"}),u.jsx("td",{children:A.attending?A.kidCount||0:"-"}),u.jsx("td",{children:V(A.timestamp)}),u.jsx("td",{children:m===A.id?u.jsxs("div",{className:"delete-confirm",children:[u.jsx("span",{children:"Delete?"}),u.jsx("button",{className:"confirm-yes",onClick:()=>mt(A.id),children:"Yes"}),u.jsx("button",{className:"confirm-no",onClick:()=>p(null),children:"No"})]}):u.jsx("button",{className:"delete-btn",onClick:()=>p(A.id),title:"Delete RSVP",children:""})})]},A.id))})]})]})]}),x==="messages"&&u.jsxs("div",{className:"admin-messages-section",children:[u.jsxs("h2",{children:["All Messages (",c.length,")"]}),c.length===0?u.jsx("p",{className:"no-results",children:"No messages yet."}):u.jsx("div",{className:"admin-messages-list",children:c.map(A=>u.jsxs("div",{className:"admin-message-card",children:[u.jsx("div",{className:"admin-message-avatar",children:A.name.charAt(0).toUpperCase()}),u.jsxs("div",{className:"admin-message-content",children:[u.jsxs("div",{className:"admin-message-header",children:[u.jsx("span",{className:"admin-message-author",children:A.name}),u.jsx("span",{className:"admin-message-date",children:V(A.timestamp)})]}),u.jsx("p",{className:"admin-message-text",children:A.message})]}),u.jsx("div",{className:"admin-message-actions",children:g===A.id?u.jsxs("div",{className:"delete-confirm",children:[u.jsx("span",{children:"Delete?"}),u.jsx("button",{className:"confirm-yes",onClick:()=>Et(A.id),children:"Yes"}),u.jsx("button",{className:"confirm-no",onClick:()=>w(null),children:"No"})]}):u.jsx("button",{className:"delete-btn",onClick:()=>w(A.id),title:"Delete message",children:""})})]},A.id))})]})]}):u.jsx("div",{className:"admin-page",children:u.jsxs("div",{className:"admin-login",children:[u.jsx("h1",{children:"Mission Control"}),u.jsx("p",{children:"Enter admin code to access"}),u.jsxs("form",{onSubmit:I,children:[u.jsx("input",{type:"password",value:r,onChange:A=>s(A.target.value),placeholder:"Admin code...",autoFocus:!0}),i&&u.jsx("p",{className:"error",children:i}),u.jsx("button",{type:"submit",children:"Access"})]}),u.jsx("button",{className:"back-link",onClick:t,children:" Back to site"})]})})}function wS({x:t,y:e,onComplete:n}){return k.useEffect(()=>{const r=setTimeout(n,1500);return()=>clearTimeout(r)},[n]),u.jsx("div",{className:"mini-rocket",style:{left:t,top:e},children:u.jsxs("svg",{viewBox:"0 0 30 50",width:"30",height:"50",children:[u.jsxs("g",{className:"mini-rocket-flame",children:[u.jsx("ellipse",{cx:"15",cy:"45",rx:"4",ry:"8",fill:"#ff6b35",opacity:"0.9"}),u.jsx("ellipse",{cx:"15",cy:"43",rx:"3",ry:"5",fill:"#ffd700"})]}),u.jsx("path",{d:"M15 5 L22 18 L22 35 L19 38 L11 38 L8 35 L8 18 Z",fill:"#fff"}),u.jsx("path",{d:"M15 5 L19 14 L11 14 Z",fill:"#ff6b9d"}),u.jsx("circle",{cx:"15",cy:"22",r:"4",fill:"#74b9ff"}),u.jsx("path",{d:"M8 30 L3 40 L8 36 Z",fill:"#ff8c42"}),u.jsx("path",{d:"M22 30 L27 40 L22 36 Z",fill:"#ff8c42"})]})})}function CS(){const[t,e]=k.useState(!1),[n,r]=k.useState([]);k.useEffect(()=>{new URLSearchParams(window.location.search).get("admin")==="true"&&e(!0)},[]);const s=k.useCallback(a=>{if(a.target.closest("button, a, input, textarea, select, form, .modal, .fab-message"))return;const f={id:Date.now()+Math.random(),x:a.clientX-15,y:a.clientY-25};r(d=>[...d,f])},[]),i=k.useCallback(a=>{r(c=>c.filter(f=>f.id!==a))},[]),o=()=>{e(!0),window.history.pushState({},"","?admin=true")},l=()=>{e(!1),window.history.pushState({},"",window.location.pathname)};return t?u.jsx(yS,{onBack:l}):u.jsx(mS,{children:u.jsxs("div",{className:"app",onClick:s,children:[u.jsx("div",{className:"aurora-bg"}),u.jsx("div",{className:"stars"}),u.jsx("div",{className:"stars2"}),u.jsx("div",{className:"stars3"}),u.jsxs("main",{children:[u.jsx($v,{}),u.jsx(Gv,{}),u.jsx(ty,{}),u.jsx(cS,{}),u.jsx(fS,{}),u.jsx(dS,{})]}),u.jsxs("footer",{children:[u.jsx("p",{children:"See you among the stars!"}),u.jsx("button",{className:"admin-link",onClick:o,children:"Mission Control"})]}),n.map(a=>u.jsx(wS,{x:a.x,y:a.y,onComplete:()=>i(a.id)},a.id)),u.jsxs("button",{className:"fab-rsvp",onClick:()=>{var a;return(a=document.getElementById("rsvp-section"))==null?void 0:a.scrollIntoView({behavior:"smooth"})},"aria-label":"Go to RSVP",children:[u.jsx("svg",{viewBox:"0 0 24 24",className:"fab-icon",children:u.jsx("path",{fill:"currentColor",d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),u.jsx("span",{children:"RSVP"})]})]})})}const _g=()=>{const t=document.getElementById("loading-screen");t&&setTimeout(()=>{t.classList.add("hidden"),setTimeout(()=>{t.remove()},500)},300)};jl.createRoot(document.getElementById("root")).render(u.jsx(Mg.StrictMode,{children:u.jsx(CS,{})}));window.addEventListener("load",_g);document.readyState==="complete"&&_g();
