(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Mg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lh={exports:{}},wo={},Oh={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ls=Symbol.for("react.element"),Dg=Symbol.for("react.portal"),Lg=Symbol.for("react.fragment"),Og=Symbol.for("react.strict_mode"),bg=Symbol.for("react.profiler"),Fg=Symbol.for("react.provider"),zg=Symbol.for("react.context"),Bg=Symbol.for("react.forward_ref"),Ug=Symbol.for("react.suspense"),Vg=Symbol.for("react.memo"),Hg=Symbol.for("react.lazy"),Rc=Symbol.iterator;function $g(t){return t===null||typeof t!="object"?null:(t=Rc&&t[Rc]||t["@@iterator"],typeof t=="function"?t:null)}var bh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fh=Object.assign,zh={};function Er(t,e,n){this.props=t,this.context=e,this.refs=zh,this.updater=n||bh}Er.prototype.isReactComponent={};Er.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Er.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Bh(){}Bh.prototype=Er.prototype;function qa(t,e,n){this.props=t,this.context=e,this.refs=zh,this.updater=n||bh}var Xa=qa.prototype=new Bh;Xa.constructor=qa;Fh(Xa,Er.prototype);Xa.isPureReactComponent=!0;var Pc=Array.isArray,Uh=Object.prototype.hasOwnProperty,Za={current:null},Vh={key:!0,ref:!0,__self:!0,__source:!0};function Hh(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Uh.call(e,r)&&!Vh.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ls,type:t,key:i,ref:o,props:s,_owner:Za.current}}function Wg(t,e){return{$$typeof:Ls,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ja(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ls}function Gg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ac=/\/+/g;function qo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Gg(""+t.key):e.toString(36)}function vi(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ls:case Dg:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+qo(o,0):r,Pc(s)?(n="",t!=null&&(n=t.replace(Ac,"$&/")+"/"),vi(s,e,n,"",function(c){return c})):s!=null&&(Ja(s)&&(s=Wg(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ac,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Pc(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+qo(i,l);o+=vi(i,e,n,a,s)}else if(a=$g(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+qo(i,l++),o+=vi(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xs(t,e,n){if(t==null)return t;var r=[],s=0;return vi(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Yg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Le={current:null},yi={transition:null},Qg={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:yi,ReactCurrentOwner:Za};function $h(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:Xs,forEach:function(t,e,n){Xs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xs(t,function(){e++}),e},toArray:function(t){return Xs(t,function(e){return e})||[]},only:function(t){if(!Ja(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=Er;U.Fragment=Lg;U.Profiler=bg;U.PureComponent=qa;U.StrictMode=Og;U.Suspense=Ug;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qg;U.act=$h;U.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Fh({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Za.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Uh.call(e,a)&&!Vh.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Ls,type:t.type,key:s,ref:i,props:r,_owner:o}};U.createContext=function(t){return t={$$typeof:zg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Fg,_context:t},t.Consumer=t};U.createElement=Hh;U.createFactory=function(t){var e=Hh.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:Bg,render:t}};U.isValidElement=Ja;U.lazy=function(t){return{$$typeof:Hg,_payload:{_status:-1,_result:t},_init:Yg}};U.memo=function(t,e){return{$$typeof:Vg,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=yi.transition;yi.transition={};try{t()}finally{yi.transition=e}};U.unstable_act=$h;U.useCallback=function(t,e){return Le.current.useCallback(t,e)};U.useContext=function(t){return Le.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return Le.current.useDeferredValue(t)};U.useEffect=function(t,e){return Le.current.useEffect(t,e)};U.useId=function(){return Le.current.useId()};U.useImperativeHandle=function(t,e,n){return Le.current.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return Le.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return Le.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return Le.current.useMemo(t,e)};U.useReducer=function(t,e,n){return Le.current.useReducer(t,e,n)};U.useRef=function(t){return Le.current.useRef(t)};U.useState=function(t){return Le.current.useState(t)};U.useSyncExternalStore=function(t,e,n){return Le.current.useSyncExternalStore(t,e,n)};U.useTransition=function(){return Le.current.useTransition()};U.version="18.3.1";Oh.exports=U;var k=Oh.exports;const Kg=Mg(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg=k,Xg=Symbol.for("react.element"),Zg=Symbol.for("react.fragment"),Jg=Object.prototype.hasOwnProperty,e_=qg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,t_={key:!0,ref:!0,__self:!0,__source:!0};function Wh(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Jg.call(e,r)&&!t_.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Xg,type:t,key:i,ref:o,props:s,_owner:e_.current}}wo.Fragment=Zg;wo.jsx=Wh;wo.jsxs=Wh;Lh.exports=wo;var u=Lh.exports,Dl={},Gh={exports:{}},Ke={},Yh={exports:{}},Qh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(x,P){var N=x.length;x.push(P);e:for(;0<N;){var O=N-1>>>1,B=x[O];if(0<s(B,P))x[O]=P,x[N]=B,N=O;else break e}}function n(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var P=x[0],N=x.pop();if(N!==P){x[0]=N;e:for(var O=0,B=x.length,X=B>>>1;O<X;){var ee=2*(O+1)-1,Nt=x[ee],ce=ee+1,qs=x[ce];if(0>s(Nt,N))ce<B&&0>s(qs,Nt)?(x[O]=qs,x[ce]=N,O=ce):(x[O]=Nt,x[ee]=N,O=ee);else if(ce<B&&0>s(qs,N))x[O]=qs,x[ce]=N,O=ce;else break e}}return P}function s(x,P){var N=x.sortIndex-P.sortIndex;return N!==0?N:x.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],h=1,d=null,f=3,_=!1,v=!1,y=!1,j=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(x){for(var P=n(c);P!==null;){if(P.callback===null)r(c);else if(P.startTime<=x)r(c),P.sortIndex=P.expirationTime,e(a,P);else break;P=n(c)}}function w(x){if(y=!1,g(x),!v)if(n(a)!==null)v=!0,He(S);else{var P=n(c);P!==null&&$e(w,P.startTime-x)}}function S(x,P){v=!1,y&&(y=!1,m(A),A=-1),_=!0;var N=f;try{for(g(P),d=n(a);d!==null&&(!(d.expirationTime>P)||x&&!Ne());){var O=d.callback;if(typeof O=="function"){d.callback=null,f=d.priorityLevel;var B=O(d.expirationTime<=P);P=t.unstable_now(),typeof B=="function"?d.callback=B:d===n(a)&&r(a),g(P)}else r(a);d=n(a)}if(d!==null)var X=!0;else{var ee=n(c);ee!==null&&$e(w,ee.startTime-P),X=!1}return X}finally{d=null,f=N,_=!1}}var T=!1,I=null,A=-1,$=5,L=-1;function Ne(){return!(t.unstable_now()-L<$)}function _t(){if(I!==null){var x=t.unstable_now();L=x;var P=!0;try{P=I(!0,x)}finally{P?xt():(T=!1,I=null)}}else T=!1}var xt;if(typeof p=="function")xt=function(){p(_t)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Pe=M.port2;M.port1.onmessage=_t,xt=function(){Pe.postMessage(null)}}else xt=function(){j(_t,0)};function He(x){I=x,T||(T=!0,xt())}function $e(x,P){A=j(function(){x(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(x){x.callback=null},t.unstable_continueExecution=function(){v||_||(v=!0,He(S))},t.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<x?Math.floor(1e3/x):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(x){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var N=f;f=P;try{return x()}finally{f=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(x,P){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var N=f;f=x;try{return P()}finally{f=N}},t.unstable_scheduleCallback=function(x,P,N){var O=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?O+N:O):N=O,x){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=N+B,x={id:h++,callback:P,priorityLevel:x,startTime:N,expirationTime:B,sortIndex:-1},N>O?(x.sortIndex=N,e(c,x),n(a)===null&&x===n(c)&&(y?(m(A),A=-1):y=!0,$e(w,N-O))):(x.sortIndex=B,e(a,x),v||_||(v=!0,He(S))),x},t.unstable_shouldYield=Ne,t.unstable_wrapCallback=function(x){var P=f;return function(){var N=f;f=P;try{return x.apply(this,arguments)}finally{f=N}}}})(Qh);Yh.exports=Qh;var n_=Yh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_=k,Qe=n_;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kh=new Set,os={};function bn(t,e){cr(t,e),cr(t+"Capture",e)}function cr(t,e){for(os[t]=e,t=0;t<e.length;t++)Kh.add(e[t])}var Mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ll=Object.prototype.hasOwnProperty,s_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jc={},Mc={};function i_(t){return Ll.call(Mc,t)?!0:Ll.call(jc,t)?!1:s_.test(t)?Mc[t]=!0:(jc[t]=!0,!1)}function o_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function l_(t,e,n,r){if(e===null||typeof e>"u"||o_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Oe(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Se[t]=new Oe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Se[e]=new Oe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Se[t]=new Oe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Se[t]=new Oe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Se[t]=new Oe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Se[t]=new Oe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Se[t]=new Oe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Se[t]=new Oe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Se[t]=new Oe(t,5,!1,t.toLowerCase(),null,!1,!1)});var eu=/[\-:]([a-z])/g;function tu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(eu,tu);Se[e]=new Oe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(eu,tu);Se[e]=new Oe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(eu,tu);Se[e]=new Oe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Se[t]=new Oe(t,1,!1,t.toLowerCase(),null,!1,!1)});Se.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Se[t]=new Oe(t,1,!1,t.toLowerCase(),null,!0,!0)});function nu(t,e,n,r){var s=Se.hasOwnProperty(e)?Se[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(l_(e,n,s,r)&&(n=null),r||s===null?i_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zt=r_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zs=Symbol.for("react.element"),Hn=Symbol.for("react.portal"),$n=Symbol.for("react.fragment"),ru=Symbol.for("react.strict_mode"),Ol=Symbol.for("react.profiler"),qh=Symbol.for("react.provider"),Xh=Symbol.for("react.context"),su=Symbol.for("react.forward_ref"),bl=Symbol.for("react.suspense"),Fl=Symbol.for("react.suspense_list"),iu=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),Zh=Symbol.for("react.offscreen"),Dc=Symbol.iterator;function Pr(t){return t===null||typeof t!="object"?null:(t=Dc&&t[Dc]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,Xo;function Vr(t){if(Xo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xo=e&&e[1]||""}return`
`+Xo+t}var Zo=!1;function Jo(t,e){if(!t||Zo)return"";Zo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Zo=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vr(t):""}function a_(t){switch(t.tag){case 5:return Vr(t.type);case 16:return Vr("Lazy");case 13:return Vr("Suspense");case 19:return Vr("SuspenseList");case 0:case 2:case 15:return t=Jo(t.type,!1),t;case 11:return t=Jo(t.type.render,!1),t;case 1:return t=Jo(t.type,!0),t;default:return""}}function zl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $n:return"Fragment";case Hn:return"Portal";case Ol:return"Profiler";case ru:return"StrictMode";case bl:return"Suspense";case Fl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Xh:return(t.displayName||"Context")+".Consumer";case qh:return(t._context.displayName||"Context")+".Provider";case su:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case iu:return e=t.displayName||null,e!==null?e:zl(t.type)||"Memo";case Vt:e=t._payload,t=t._init;try{return zl(t(e))}catch{}}return null}function u_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zl(e);case 8:return e===ru?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function an(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function c_(t){var e=Jh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Js(t){t._valueTracker||(t._valueTracker=c_(t))}function ef(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Jh(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bl(t,e){var n=e.checked;return ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Lc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=an(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tf(t,e){e=e.checked,e!=null&&nu(t,"checked",e,!1)}function Ul(t,e){tf(t,e);var n=an(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Vl(t,e.type,an(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Oc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Vl(t,e,n){(e!=="number"||Ai(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hr=Array.isArray;function nr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+an(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Hl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(C(92));if(Hr(n)){if(1<n.length)throw Error(C(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:an(n)}}function nf(t,e){var n=an(e.value),r=an(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Fc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $l(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ei,sf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ei=ei||document.createElement("div"),ei.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ei.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ls(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},d_=["Webkit","ms","Moz","O"];Object.keys(Gr).forEach(function(t){d_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gr[e]=Gr[t]})});function of(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Gr.hasOwnProperty(t)&&Gr[t]?(""+e).trim():e+"px"}function lf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=of(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var h_=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wl(t,e){if(e){if(h_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function Gl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yl=null;function ou(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ql=null,rr=null,sr=null;function zc(t){if(t=Fs(t)){if(typeof Ql!="function")throw Error(C(280));var e=t.stateNode;e&&(e=No(e),Ql(t.stateNode,t.type,e))}}function af(t){rr?sr?sr.push(t):sr=[t]:rr=t}function uf(){if(rr){var t=rr,e=sr;if(sr=rr=null,zc(t),e)for(t=0;t<e.length;t++)zc(e[t])}}function cf(t,e){return t(e)}function df(){}var el=!1;function hf(t,e,n){if(el)return t(e,n);el=!0;try{return cf(t,e,n)}finally{el=!1,(rr!==null||sr!==null)&&(df(),uf())}}function as(t,e){var n=t.stateNode;if(n===null)return null;var r=No(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(C(231,e,typeof n));return n}var Kl=!1;if(Mt)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){Kl=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{Kl=!1}function f_(t,e,n,r,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Yr=!1,ji=null,Mi=!1,ql=null,p_={onError:function(t){Yr=!0,ji=t}};function m_(t,e,n,r,s,i,o,l,a){Yr=!1,ji=null,f_.apply(p_,arguments)}function g_(t,e,n,r,s,i,o,l,a){if(m_.apply(this,arguments),Yr){if(Yr){var c=ji;Yr=!1,ji=null}else throw Error(C(198));Mi||(Mi=!0,ql=c)}}function Fn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ff(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bc(t){if(Fn(t)!==t)throw Error(C(188))}function __(t){var e=t.alternate;if(!e){if(e=Fn(t),e===null)throw Error(C(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Bc(s),t;if(i===r)return Bc(s),e;i=i.sibling}throw Error(C(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?t:e}function pf(t){return t=__(t),t!==null?mf(t):null}function mf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mf(t);if(e!==null)return e;t=t.sibling}return null}var gf=Qe.unstable_scheduleCallback,Uc=Qe.unstable_cancelCallback,v_=Qe.unstable_shouldYield,y_=Qe.unstable_requestPaint,ae=Qe.unstable_now,w_=Qe.unstable_getCurrentPriorityLevel,lu=Qe.unstable_ImmediatePriority,_f=Qe.unstable_UserBlockingPriority,Di=Qe.unstable_NormalPriority,C_=Qe.unstable_LowPriority,vf=Qe.unstable_IdlePriority,Co=null,Ct=null;function E_(t){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Co,t,void 0,(t.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:N_,S_=Math.log,x_=Math.LN2;function N_(t){return t>>>=0,t===0?32:31-(S_(t)/x_|0)|0}var ti=64,ni=4194304;function $r(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Li(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=$r(l):(i&=o,i!==0&&(r=$r(i)))}else o=n&~s,o!==0?r=$r(o):i!==0&&(r=$r(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ft(e),s=1<<n,r|=t[n],e&=~s;return r}function k_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ft(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=k_(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function Xl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yf(){var t=ti;return ti<<=1,!(ti&4194240)&&(ti=64),t}function tl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Os(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ft(e),t[e]=n}function I_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ft(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function au(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ft(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var W=0;function wf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Cf,uu,Ef,Sf,xf,Zl=!1,ri=[],Kt=null,qt=null,Xt=null,us=new Map,cs=new Map,$t=[],R_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vc(t,e){switch(t){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Xt=null;break;case"pointerover":case"pointerout":us.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cs.delete(e.pointerId)}}function jr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Fs(e),e!==null&&uu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function P_(t,e,n,r,s){switch(e){case"focusin":return Kt=jr(Kt,t,e,n,r,s),!0;case"dragenter":return qt=jr(qt,t,e,n,r,s),!0;case"mouseover":return Xt=jr(Xt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return us.set(i,jr(us.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,cs.set(i,jr(cs.get(i)||null,t,e,n,r,s)),!0}return!1}function Nf(t){var e=En(t.target);if(e!==null){var n=Fn(e);if(n!==null){if(e=n.tag,e===13){if(e=ff(n),e!==null){t.blockedOn=e,xf(t.priority,function(){Ef(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Yl=r,n.target.dispatchEvent(r),Yl=null}else return e=Fs(n),e!==null&&uu(e),t.blockedOn=n,!1;e.shift()}return!0}function Hc(t,e,n){wi(t)&&n.delete(e)}function A_(){Zl=!1,Kt!==null&&wi(Kt)&&(Kt=null),qt!==null&&wi(qt)&&(qt=null),Xt!==null&&wi(Xt)&&(Xt=null),us.forEach(Hc),cs.forEach(Hc)}function Mr(t,e){t.blockedOn===e&&(t.blockedOn=null,Zl||(Zl=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,A_)))}function ds(t){function e(s){return Mr(s,t)}if(0<ri.length){Mr(ri[0],t);for(var n=1;n<ri.length;n++){var r=ri[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Kt!==null&&Mr(Kt,t),qt!==null&&Mr(qt,t),Xt!==null&&Mr(Xt,t),us.forEach(e),cs.forEach(e),n=0;n<$t.length;n++)r=$t[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$t.length&&(n=$t[0],n.blockedOn===null);)Nf(n),n.blockedOn===null&&$t.shift()}var ir=zt.ReactCurrentBatchConfig,Oi=!0;function j_(t,e,n,r){var s=W,i=ir.transition;ir.transition=null;try{W=1,cu(t,e,n,r)}finally{W=s,ir.transition=i}}function M_(t,e,n,r){var s=W,i=ir.transition;ir.transition=null;try{W=4,cu(t,e,n,r)}finally{W=s,ir.transition=i}}function cu(t,e,n,r){if(Oi){var s=Jl(t,e,n,r);if(s===null)dl(t,e,r,bi,n),Vc(t,r);else if(P_(s,t,e,n,r))r.stopPropagation();else if(Vc(t,r),e&4&&-1<R_.indexOf(t)){for(;s!==null;){var i=Fs(s);if(i!==null&&Cf(i),i=Jl(t,e,n,r),i===null&&dl(t,e,r,bi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else dl(t,e,r,null,n)}}var bi=null;function Jl(t,e,n,r){if(bi=null,t=ou(r),t=En(t),t!==null)if(e=Fn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ff(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bi=t,null}function kf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(w_()){case lu:return 1;case _f:return 4;case Di:case C_:return 16;case vf:return 536870912;default:return 16}default:return 16}}var Gt=null,du=null,Ci=null;function Tf(){if(Ci)return Ci;var t,e=du,n=e.length,r,s="value"in Gt?Gt.value:Gt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ci=s.slice(t,1<r?1-r:void 0)}function Ei(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function si(){return!0}function $c(){return!1}function qe(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?si:$c,this.isPropagationStopped=$c,this}return ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),e}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hu=qe(Sr),bs=ie({},Sr,{view:0,detail:0}),D_=qe(bs),nl,rl,Dr,Eo=ie({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dr&&(Dr&&t.type==="mousemove"?(nl=t.screenX-Dr.screenX,rl=t.screenY-Dr.screenY):rl=nl=0,Dr=t),nl)},movementY:function(t){return"movementY"in t?t.movementY:rl}}),Wc=qe(Eo),L_=ie({},Eo,{dataTransfer:0}),O_=qe(L_),b_=ie({},bs,{relatedTarget:0}),sl=qe(b_),F_=ie({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),z_=qe(F_),B_=ie({},Sr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),U_=qe(B_),V_=ie({},Sr,{data:0}),Gc=qe(V_),H_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=W_[t])?!!e[t]:!1}function fu(){return G_}var Y_=ie({},bs,{key:function(t){if(t.key){var e=H_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ei(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fu,charCode:function(t){return t.type==="keypress"?Ei(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ei(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Q_=qe(Y_),K_=ie({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yc=qe(K_),q_=ie({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fu}),X_=qe(q_),Z_=ie({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),J_=qe(Z_),ev=ie({},Eo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tv=qe(ev),nv=[9,13,27,32],pu=Mt&&"CompositionEvent"in window,Qr=null;Mt&&"documentMode"in document&&(Qr=document.documentMode);var rv=Mt&&"TextEvent"in window&&!Qr,If=Mt&&(!pu||Qr&&8<Qr&&11>=Qr),Qc=" ",Kc=!1;function Rf(t,e){switch(t){case"keyup":return nv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wn=!1;function sv(t,e){switch(t){case"compositionend":return Pf(e);case"keypress":return e.which!==32?null:(Kc=!0,Qc);case"textInput":return t=e.data,t===Qc&&Kc?null:t;default:return null}}function iv(t,e){if(Wn)return t==="compositionend"||!pu&&Rf(t,e)?(t=Tf(),Ci=du=Gt=null,Wn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return If&&e.locale!=="ko"?null:e.data;default:return null}}var ov={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ov[t.type]:e==="textarea"}function Af(t,e,n,r){af(r),e=Fi(e,"onChange"),0<e.length&&(n=new hu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kr=null,hs=null;function lv(t){Vf(t,0)}function So(t){var e=Qn(t);if(ef(e))return t}function av(t,e){if(t==="change")return e}var jf=!1;if(Mt){var il;if(Mt){var ol="oninput"in document;if(!ol){var Xc=document.createElement("div");Xc.setAttribute("oninput","return;"),ol=typeof Xc.oninput=="function"}il=ol}else il=!1;jf=il&&(!document.documentMode||9<document.documentMode)}function Zc(){Kr&&(Kr.detachEvent("onpropertychange",Mf),hs=Kr=null)}function Mf(t){if(t.propertyName==="value"&&So(hs)){var e=[];Af(e,hs,t,ou(t)),hf(lv,e)}}function uv(t,e,n){t==="focusin"?(Zc(),Kr=e,hs=n,Kr.attachEvent("onpropertychange",Mf)):t==="focusout"&&Zc()}function cv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return So(hs)}function dv(t,e){if(t==="click")return So(e)}function hv(t,e){if(t==="input"||t==="change")return So(e)}function fv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gt=typeof Object.is=="function"?Object.is:fv;function fs(t,e){if(gt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ll.call(e,s)||!gt(t[s],e[s]))return!1}return!0}function Jc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ed(t,e){var n=Jc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jc(n)}}function Df(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Df(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Lf(){for(var t=window,e=Ai();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ai(t.document)}return e}function mu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function pv(t){var e=Lf(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Df(n.ownerDocument.documentElement,n)){if(r!==null&&mu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=ed(n,i);var o=ed(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mv=Mt&&"documentMode"in document&&11>=document.documentMode,Gn=null,ea=null,qr=null,ta=!1;function td(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ta||Gn==null||Gn!==Ai(r)||(r=Gn,"selectionStart"in r&&mu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qr&&fs(qr,r)||(qr=r,r=Fi(ea,"onSelect"),0<r.length&&(e=new hu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Gn)))}function ii(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yn={animationend:ii("Animation","AnimationEnd"),animationiteration:ii("Animation","AnimationIteration"),animationstart:ii("Animation","AnimationStart"),transitionend:ii("Transition","TransitionEnd")},ll={},Of={};Mt&&(Of=document.createElement("div").style,"AnimationEvent"in window||(delete Yn.animationend.animation,delete Yn.animationiteration.animation,delete Yn.animationstart.animation),"TransitionEvent"in window||delete Yn.transitionend.transition);function xo(t){if(ll[t])return ll[t];if(!Yn[t])return t;var e=Yn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Of)return ll[t]=e[n];return t}var bf=xo("animationend"),Ff=xo("animationiteration"),zf=xo("animationstart"),Bf=xo("transitionend"),Uf=new Map,nd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pn(t,e){Uf.set(t,e),bn(e,[t])}for(var al=0;al<nd.length;al++){var ul=nd[al],gv=ul.toLowerCase(),_v=ul[0].toUpperCase()+ul.slice(1);pn(gv,"on"+_v)}pn(bf,"onAnimationEnd");pn(Ff,"onAnimationIteration");pn(zf,"onAnimationStart");pn("dblclick","onDoubleClick");pn("focusin","onFocus");pn("focusout","onBlur");pn(Bf,"onTransitionEnd");cr("onMouseEnter",["mouseout","mouseover"]);cr("onMouseLeave",["mouseout","mouseover"]);cr("onPointerEnter",["pointerout","pointerover"]);cr("onPointerLeave",["pointerout","pointerover"]);bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bn("onBeforeInput",["compositionend","keypress","textInput","paste"]);bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wr));function rd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,g_(r,e,void 0,t),t.currentTarget=null}function Vf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;rd(s,l,c),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;rd(s,l,c),i=a}}}if(Mi)throw t=ql,Mi=!1,ql=null,t}function Z(t,e){var n=e[oa];n===void 0&&(n=e[oa]=new Set);var r=t+"__bubble";n.has(r)||(Hf(e,t,2,!1),n.add(r))}function cl(t,e,n){var r=0;e&&(r|=4),Hf(n,t,r,e)}var oi="_reactListening"+Math.random().toString(36).slice(2);function ps(t){if(!t[oi]){t[oi]=!0,Kh.forEach(function(n){n!=="selectionchange"&&(vv.has(n)||cl(n,!1,t),cl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[oi]||(e[oi]=!0,cl("selectionchange",!1,e))}}function Hf(t,e,n,r){switch(kf(e)){case 1:var s=j_;break;case 4:s=M_;break;default:s=cu}n=s.bind(null,e,n,t),s=void 0,!Kl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function dl(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=En(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}hf(function(){var c=i,h=ou(n),d=[];e:{var f=Uf.get(t);if(f!==void 0){var _=hu,v=t;switch(t){case"keypress":if(Ei(n)===0)break e;case"keydown":case"keyup":_=Q_;break;case"focusin":v="focus",_=sl;break;case"focusout":v="blur",_=sl;break;case"beforeblur":case"afterblur":_=sl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Wc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=O_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=X_;break;case bf:case Ff:case zf:_=z_;break;case Bf:_=J_;break;case"scroll":_=D_;break;case"wheel":_=tv;break;case"copy":case"cut":case"paste":_=U_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Yc}var y=(e&4)!==0,j=!y&&t==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var p=c,g;p!==null;){g=p;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,m!==null&&(w=as(p,m),w!=null&&y.push(ms(p,w,g)))),j)break;p=p.return}0<y.length&&(f=new _(f,v,null,n,h),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",f&&n!==Yl&&(v=n.relatedTarget||n.fromElement)&&(En(v)||v[Dt]))break e;if((_||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,_?(v=n.relatedTarget||n.toElement,_=c,v=v?En(v):null,v!==null&&(j=Fn(v),v!==j||v.tag!==5&&v.tag!==6)&&(v=null)):(_=null,v=c),_!==v)){if(y=Wc,w="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=Yc,w="onPointerLeave",m="onPointerEnter",p="pointer"),j=_==null?f:Qn(_),g=v==null?f:Qn(v),f=new y(w,p+"leave",_,n,h),f.target=j,f.relatedTarget=g,w=null,En(h)===c&&(y=new y(m,p+"enter",v,n,h),y.target=g,y.relatedTarget=j,w=y),j=w,_&&v)t:{for(y=_,m=v,p=0,g=y;g;g=Un(g))p++;for(g=0,w=m;w;w=Un(w))g++;for(;0<p-g;)y=Un(y),p--;for(;0<g-p;)m=Un(m),g--;for(;p--;){if(y===m||m!==null&&y===m.alternate)break t;y=Un(y),m=Un(m)}y=null}else y=null;_!==null&&sd(d,f,_,y,!1),v!==null&&j!==null&&sd(d,j,v,y,!0)}}e:{if(f=c?Qn(c):window,_=f.nodeName&&f.nodeName.toLowerCase(),_==="select"||_==="input"&&f.type==="file")var S=av;else if(qc(f))if(jf)S=hv;else{S=cv;var T=uv}else(_=f.nodeName)&&_.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=dv);if(S&&(S=S(t,c))){Af(d,S,n,h);break e}T&&T(t,f,c),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Vl(f,"number",f.value)}switch(T=c?Qn(c):window,t){case"focusin":(qc(T)||T.contentEditable==="true")&&(Gn=T,ea=c,qr=null);break;case"focusout":qr=ea=Gn=null;break;case"mousedown":ta=!0;break;case"contextmenu":case"mouseup":case"dragend":ta=!1,td(d,n,h);break;case"selectionchange":if(mv)break;case"keydown":case"keyup":td(d,n,h)}var I;if(pu)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Wn?Rf(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(If&&n.locale!=="ko"&&(Wn||A!=="onCompositionStart"?A==="onCompositionEnd"&&Wn&&(I=Tf()):(Gt=h,du="value"in Gt?Gt.value:Gt.textContent,Wn=!0)),T=Fi(c,A),0<T.length&&(A=new Gc(A,t,null,n,h),d.push({event:A,listeners:T}),I?A.data=I:(I=Pf(n),I!==null&&(A.data=I)))),(I=rv?sv(t,n):iv(t,n))&&(c=Fi(c,"onBeforeInput"),0<c.length&&(h=new Gc("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=I))}Vf(d,e)})}function ms(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fi(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=as(t,n),i!=null&&r.unshift(ms(t,i,s)),i=as(t,e),i!=null&&r.push(ms(t,i,s))),t=t.return}return r}function Un(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sd(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,s?(a=as(n,i),a!=null&&o.unshift(ms(n,a,l))):s||(a=as(n,i),a!=null&&o.push(ms(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var yv=/\r\n?/g,wv=/\u0000|\uFFFD/g;function id(t){return(typeof t=="string"?t:""+t).replace(yv,`
`).replace(wv,"")}function li(t,e,n){if(e=id(e),id(t)!==e&&n)throw Error(C(425))}function zi(){}var na=null,ra=null;function sa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ia=typeof setTimeout=="function"?setTimeout:void 0,Cv=typeof clearTimeout=="function"?clearTimeout:void 0,od=typeof Promise=="function"?Promise:void 0,Ev=typeof queueMicrotask=="function"?queueMicrotask:typeof od<"u"?function(t){return od.resolve(null).then(t).catch(Sv)}:ia;function Sv(t){setTimeout(function(){throw t})}function hl(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ds(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ds(e)}function Zt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ld(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xr=Math.random().toString(36).slice(2),wt="__reactFiber$"+xr,gs="__reactProps$"+xr,Dt="__reactContainer$"+xr,oa="__reactEvents$"+xr,xv="__reactListeners$"+xr,Nv="__reactHandles$"+xr;function En(t){var e=t[wt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dt]||n[wt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ld(t);t!==null;){if(n=t[wt])return n;t=ld(t)}return e}t=n,n=t.parentNode}return null}function Fs(t){return t=t[wt]||t[Dt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function No(t){return t[gs]||null}var la=[],Kn=-1;function mn(t){return{current:t}}function J(t){0>Kn||(t.current=la[Kn],la[Kn]=null,Kn--)}function q(t,e){Kn++,la[Kn]=t.current,t.current=e}var un={},Re=mn(un),Be=mn(!1),Rn=un;function dr(t,e){var n=t.type.contextTypes;if(!n)return un;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ue(t){return t=t.childContextTypes,t!=null}function Bi(){J(Be),J(Re)}function ad(t,e,n){if(Re.current!==un)throw Error(C(168));q(Re,e),q(Be,n)}function $f(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(C(108,u_(t)||"Unknown",s));return ie({},n,r)}function Ui(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||un,Rn=Re.current,q(Re,t),q(Be,Be.current),!0}function ud(t,e,n){var r=t.stateNode;if(!r)throw Error(C(169));n?(t=$f(t,e,Rn),r.__reactInternalMemoizedMergedChildContext=t,J(Be),J(Re),q(Re,t)):J(Be),q(Be,n)}var Tt=null,ko=!1,fl=!1;function Wf(t){Tt===null?Tt=[t]:Tt.push(t)}function kv(t){ko=!0,Wf(t)}function gn(){if(!fl&&Tt!==null){fl=!0;var t=0,e=W;try{var n=Tt;for(W=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Tt=null,ko=!1}catch(s){throw Tt!==null&&(Tt=Tt.slice(t+1)),gf(lu,gn),s}finally{W=e,fl=!1}}return null}var qn=[],Xn=0,Vi=null,Hi=0,Xe=[],Ze=0,Pn=null,It=1,Rt="";function vn(t,e){qn[Xn++]=Hi,qn[Xn++]=Vi,Vi=t,Hi=e}function Gf(t,e,n){Xe[Ze++]=It,Xe[Ze++]=Rt,Xe[Ze++]=Pn,Pn=t;var r=It;t=Rt;var s=32-ft(r)-1;r&=~(1<<s),n+=1;var i=32-ft(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,It=1<<32-ft(e)+s|n<<s|r,Rt=i+t}else It=1<<i|n<<s|r,Rt=t}function gu(t){t.return!==null&&(vn(t,1),Gf(t,1,0))}function _u(t){for(;t===Vi;)Vi=qn[--Xn],qn[Xn]=null,Hi=qn[--Xn],qn[Xn]=null;for(;t===Pn;)Pn=Xe[--Ze],Xe[Ze]=null,Rt=Xe[--Ze],Xe[Ze]=null,It=Xe[--Ze],Xe[Ze]=null}var Ye=null,Ge=null,te=!1,at=null;function Yf(t,e){var n=Je(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ye=t,Ge=Zt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ye=t,Ge=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pn!==null?{id:It,overflow:Rt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Je(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ye=t,Ge=null,!0):!1;default:return!1}}function aa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ua(t){if(te){var e=Ge;if(e){var n=e;if(!cd(t,e)){if(aa(t))throw Error(C(418));e=Zt(n.nextSibling);var r=Ye;e&&cd(t,e)?Yf(r,n):(t.flags=t.flags&-4097|2,te=!1,Ye=t)}}else{if(aa(t))throw Error(C(418));t.flags=t.flags&-4097|2,te=!1,Ye=t}}}function dd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ye=t}function ai(t){if(t!==Ye)return!1;if(!te)return dd(t),te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sa(t.type,t.memoizedProps)),e&&(e=Ge)){if(aa(t))throw Qf(),Error(C(418));for(;e;)Yf(t,e),e=Zt(e.nextSibling)}if(dd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ge=Zt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ge=null}}else Ge=Ye?Zt(t.stateNode.nextSibling):null;return!0}function Qf(){for(var t=Ge;t;)t=Zt(t.nextSibling)}function hr(){Ge=Ye=null,te=!1}function vu(t){at===null?at=[t]:at.push(t)}var Tv=zt.ReactCurrentBatchConfig;function Lr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,t))}return t}function ui(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hd(t){var e=t._init;return e(t._payload)}function Kf(t){function e(m,p){if(t){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=nn(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,p,g,w){return p===null||p.tag!==6?(p=wl(g,m.mode,w),p.return=m,p):(p=s(p,g),p.return=m,p)}function a(m,p,g,w){var S=g.type;return S===$n?h(m,p,g.props.children,w,g.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Vt&&hd(S)===p.type)?(w=s(p,g.props),w.ref=Lr(m,p,g),w.return=m,w):(w=Ri(g.type,g.key,g.props,null,m.mode,w),w.ref=Lr(m,p,g),w.return=m,w)}function c(m,p,g,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Cl(g,m.mode,w),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function h(m,p,g,w,S){return p===null||p.tag!==7?(p=Tn(g,m.mode,w,S),p.return=m,p):(p=s(p,g),p.return=m,p)}function d(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=wl(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Zs:return g=Ri(p.type,p.key,p.props,null,m.mode,g),g.ref=Lr(m,null,p),g.return=m,g;case Hn:return p=Cl(p,m.mode,g),p.return=m,p;case Vt:var w=p._init;return d(m,w(p._payload),g)}if(Hr(p)||Pr(p))return p=Tn(p,m.mode,g,null),p.return=m,p;ui(m,p)}return null}function f(m,p,g,w){var S=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:l(m,p,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zs:return g.key===S?a(m,p,g,w):null;case Hn:return g.key===S?c(m,p,g,w):null;case Vt:return S=g._init,f(m,p,S(g._payload),w)}if(Hr(g)||Pr(g))return S!==null?null:h(m,p,g,w,null);ui(m,g)}return null}function _(m,p,g,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(g)||null,l(p,m,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zs:return m=m.get(w.key===null?g:w.key)||null,a(p,m,w,S);case Hn:return m=m.get(w.key===null?g:w.key)||null,c(p,m,w,S);case Vt:var T=w._init;return _(m,p,g,T(w._payload),S)}if(Hr(w)||Pr(w))return m=m.get(g)||null,h(p,m,w,S,null);ui(p,w)}return null}function v(m,p,g,w){for(var S=null,T=null,I=p,A=p=0,$=null;I!==null&&A<g.length;A++){I.index>A?($=I,I=null):$=I.sibling;var L=f(m,I,g[A],w);if(L===null){I===null&&(I=$);break}t&&I&&L.alternate===null&&e(m,I),p=i(L,p,A),T===null?S=L:T.sibling=L,T=L,I=$}if(A===g.length)return n(m,I),te&&vn(m,A),S;if(I===null){for(;A<g.length;A++)I=d(m,g[A],w),I!==null&&(p=i(I,p,A),T===null?S=I:T.sibling=I,T=I);return te&&vn(m,A),S}for(I=r(m,I);A<g.length;A++)$=_(I,m,A,g[A],w),$!==null&&(t&&$.alternate!==null&&I.delete($.key===null?A:$.key),p=i($,p,A),T===null?S=$:T.sibling=$,T=$);return t&&I.forEach(function(Ne){return e(m,Ne)}),te&&vn(m,A),S}function y(m,p,g,w){var S=Pr(g);if(typeof S!="function")throw Error(C(150));if(g=S.call(g),g==null)throw Error(C(151));for(var T=S=null,I=p,A=p=0,$=null,L=g.next();I!==null&&!L.done;A++,L=g.next()){I.index>A?($=I,I=null):$=I.sibling;var Ne=f(m,I,L.value,w);if(Ne===null){I===null&&(I=$);break}t&&I&&Ne.alternate===null&&e(m,I),p=i(Ne,p,A),T===null?S=Ne:T.sibling=Ne,T=Ne,I=$}if(L.done)return n(m,I),te&&vn(m,A),S;if(I===null){for(;!L.done;A++,L=g.next())L=d(m,L.value,w),L!==null&&(p=i(L,p,A),T===null?S=L:T.sibling=L,T=L);return te&&vn(m,A),S}for(I=r(m,I);!L.done;A++,L=g.next())L=_(I,m,A,L.value,w),L!==null&&(t&&L.alternate!==null&&I.delete(L.key===null?A:L.key),p=i(L,p,A),T===null?S=L:T.sibling=L,T=L);return t&&I.forEach(function(_t){return e(m,_t)}),te&&vn(m,A),S}function j(m,p,g,w){if(typeof g=="object"&&g!==null&&g.type===$n&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Zs:e:{for(var S=g.key,T=p;T!==null;){if(T.key===S){if(S=g.type,S===$n){if(T.tag===7){n(m,T.sibling),p=s(T,g.props.children),p.return=m,m=p;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Vt&&hd(S)===T.type){n(m,T.sibling),p=s(T,g.props),p.ref=Lr(m,T,g),p.return=m,m=p;break e}n(m,T);break}else e(m,T);T=T.sibling}g.type===$n?(p=Tn(g.props.children,m.mode,w,g.key),p.return=m,m=p):(w=Ri(g.type,g.key,g.props,null,m.mode,w),w.ref=Lr(m,p,g),w.return=m,m=w)}return o(m);case Hn:e:{for(T=g.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=Cl(g,m.mode,w),p.return=m,m=p}return o(m);case Vt:return T=g._init,j(m,p,T(g._payload),w)}if(Hr(g))return v(m,p,g,w);if(Pr(g))return y(m,p,g,w);ui(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,g),p.return=m,m=p):(n(m,p),p=wl(g,m.mode,w),p.return=m,m=p),o(m)):n(m,p)}return j}var fr=Kf(!0),qf=Kf(!1),$i=mn(null),Wi=null,Zn=null,yu=null;function wu(){yu=Zn=Wi=null}function Cu(t){var e=$i.current;J($i),t._currentValue=e}function ca(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function or(t,e){Wi=t,yu=Zn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Fe=!0),t.firstContext=null)}function nt(t){var e=t._currentValue;if(yu!==t)if(t={context:t,memoizedValue:e,next:null},Zn===null){if(Wi===null)throw Error(C(308));Zn=t,Wi.dependencies={lanes:0,firstContext:t}}else Zn=Zn.next=t;return e}var Sn=null;function Eu(t){Sn===null?Sn=[t]:Sn.push(t)}function Xf(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Eu(e)):(n.next=s.next,s.next=n),e.interleaved=n,Lt(t,r)}function Lt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ht=!1;function Su(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function At(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Jt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,V&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Lt(t,n)}return s=r.interleaved,s===null?(e.next=e,Eu(r)):(e.next=s.next,s.next=e),r.interleaved=e,Lt(t,n)}function Si(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,au(t,n)}}function fd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gi(t,e,n,r){var s=t.updateQueue;Ht=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=a))}if(i!==null){var d=s.baseState;o=0,h=c=a=null,l=i;do{var f=l.lane,_=l.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,y=l;switch(f=e,_=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(_,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(_,d,f):v,f==null)break e;d=ie({},d,f);break e;case 2:Ht=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else _={eventTime:_,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=_,a=d):h=h.next=_,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(a=d),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);jn|=o,t.lanes=o,t.memoizedState=d}}function pd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(C(191,s));s.call(r)}}}var zs={},Et=mn(zs),_s=mn(zs),vs=mn(zs);function xn(t){if(t===zs)throw Error(C(174));return t}function xu(t,e){switch(q(vs,e),q(_s,t),q(Et,zs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$l(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$l(e,t)}J(Et),q(Et,e)}function pr(){J(Et),J(_s),J(vs)}function Jf(t){xn(vs.current);var e=xn(Et.current),n=$l(e,t.type);e!==n&&(q(_s,t),q(Et,n))}function Nu(t){_s.current===t&&(J(Et),J(_s))}var ne=mn(0);function Yi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pl=[];function ku(){for(var t=0;t<pl.length;t++)pl[t]._workInProgressVersionPrimary=null;pl.length=0}var xi=zt.ReactCurrentDispatcher,ml=zt.ReactCurrentBatchConfig,An=0,se=null,de=null,ge=null,Qi=!1,Xr=!1,ys=0,Iv=0;function ke(){throw Error(C(321))}function Tu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gt(t[n],e[n]))return!1;return!0}function Iu(t,e,n,r,s,i){if(An=i,se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xi.current=t===null||t.memoizedState===null?jv:Mv,t=n(r,s),Xr){i=0;do{if(Xr=!1,ys=0,25<=i)throw Error(C(301));i+=1,ge=de=null,e.updateQueue=null,xi.current=Dv,t=n(r,s)}while(Xr)}if(xi.current=Ki,e=de!==null&&de.next!==null,An=0,ge=de=se=null,Qi=!1,e)throw Error(C(300));return t}function Ru(){var t=ys!==0;return ys=0,t}function yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?se.memoizedState=ge=t:ge=ge.next=t,ge}function rt(){if(de===null){var t=se.alternate;t=t!==null?t.memoizedState:null}else t=de.next;var e=ge===null?se.memoizedState:ge.next;if(e!==null)ge=e,de=t;else{if(t===null)throw Error(C(310));de=t,t={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},ge===null?se.memoizedState=ge=t:ge=ge.next=t}return ge}function ws(t,e){return typeof e=="function"?e(t):e}function gl(t){var e=rt(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=de,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,c=i;do{var h=c.lane;if((An&h)===h)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,se.lanes|=h,jn|=h}c=c.next}while(c!==null&&c!==i);a===null?o=r:a.next=l,gt(r,e.memoizedState)||(Fe=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,se.lanes|=i,jn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _l(t){var e=rt(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);gt(i,e.memoizedState)||(Fe=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ep(){}function tp(t,e){var n=se,r=rt(),s=e(),i=!gt(r.memoizedState,s);if(i&&(r.memoizedState=s,Fe=!0),r=r.queue,Pu(sp.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ge!==null&&ge.memoizedState.tag&1){if(n.flags|=2048,Cs(9,rp.bind(null,n,r,s,e),void 0,null),ve===null)throw Error(C(349));An&30||np(n,e,s)}return s}function np(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=se.updateQueue,e===null?(e={lastEffect:null,stores:null},se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rp(t,e,n,r){e.value=n,e.getSnapshot=r,ip(e)&&op(t)}function sp(t,e,n){return n(function(){ip(e)&&op(t)})}function ip(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gt(t,n)}catch{return!0}}function op(t){var e=Lt(t,1);e!==null&&pt(e,t,1,-1)}function md(t){var e=yt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:t},e.queue=t,t=t.dispatch=Av.bind(null,se,t),[e.memoizedState,t]}function Cs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=se.updateQueue,e===null?(e={lastEffect:null,stores:null},se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lp(){return rt().memoizedState}function Ni(t,e,n,r){var s=yt();se.flags|=t,s.memoizedState=Cs(1|e,n,void 0,r===void 0?null:r)}function To(t,e,n,r){var s=rt();r=r===void 0?null:r;var i=void 0;if(de!==null){var o=de.memoizedState;if(i=o.destroy,r!==null&&Tu(r,o.deps)){s.memoizedState=Cs(e,n,i,r);return}}se.flags|=t,s.memoizedState=Cs(1|e,n,i,r)}function gd(t,e){return Ni(8390656,8,t,e)}function Pu(t,e){return To(2048,8,t,e)}function ap(t,e){return To(4,2,t,e)}function up(t,e){return To(4,4,t,e)}function cp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dp(t,e,n){return n=n!=null?n.concat([t]):null,To(4,4,cp.bind(null,e,t),n)}function Au(){}function hp(t,e){var n=rt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fp(t,e){var n=rt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pp(t,e,n){return An&21?(gt(n,e)||(n=yf(),se.lanes|=n,jn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Fe=!0),t.memoizedState=n)}function Rv(t,e){var n=W;W=n!==0&&4>n?n:4,t(!0);var r=ml.transition;ml.transition={};try{t(!1),e()}finally{W=n,ml.transition=r}}function mp(){return rt().memoizedState}function Pv(t,e,n){var r=tn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gp(t))_p(e,n);else if(n=Xf(t,e,n,r),n!==null){var s=Me();pt(n,t,r,s),vp(n,e,r)}}function Av(t,e,n){var r=tn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gp(t))_p(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,gt(l,o)){var a=e.interleaved;a===null?(s.next=s,Eu(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=Xf(t,e,s,r),n!==null&&(s=Me(),pt(n,t,r,s),vp(n,e,r))}}function gp(t){var e=t.alternate;return t===se||e!==null&&e===se}function _p(t,e){Xr=Qi=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,au(t,n)}}var Ki={readContext:nt,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},jv={readContext:nt,useCallback:function(t,e){return yt().memoizedState=[t,e===void 0?null:e],t},useContext:nt,useEffect:gd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ni(4194308,4,cp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ni(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ni(4,2,t,e)},useMemo:function(t,e){var n=yt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=yt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Pv.bind(null,se,t),[r.memoizedState,t]},useRef:function(t){var e=yt();return t={current:t},e.memoizedState=t},useState:md,useDebugValue:Au,useDeferredValue:function(t){return yt().memoizedState=t},useTransition:function(){var t=md(!1),e=t[0];return t=Rv.bind(null,t[1]),yt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=se,s=yt();if(te){if(n===void 0)throw Error(C(407));n=n()}else{if(n=e(),ve===null)throw Error(C(349));An&30||np(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,gd(sp.bind(null,r,i,t),[t]),r.flags|=2048,Cs(9,rp.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=yt(),e=ve.identifierPrefix;if(te){var n=Rt,r=It;n=(r&~(1<<32-ft(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ys++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Iv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Mv={readContext:nt,useCallback:hp,useContext:nt,useEffect:Pu,useImperativeHandle:dp,useInsertionEffect:ap,useLayoutEffect:up,useMemo:fp,useReducer:gl,useRef:lp,useState:function(){return gl(ws)},useDebugValue:Au,useDeferredValue:function(t){var e=rt();return pp(e,de.memoizedState,t)},useTransition:function(){var t=gl(ws)[0],e=rt().memoizedState;return[t,e]},useMutableSource:ep,useSyncExternalStore:tp,useId:mp,unstable_isNewReconciler:!1},Dv={readContext:nt,useCallback:hp,useContext:nt,useEffect:Pu,useImperativeHandle:dp,useInsertionEffect:ap,useLayoutEffect:up,useMemo:fp,useReducer:_l,useRef:lp,useState:function(){return _l(ws)},useDebugValue:Au,useDeferredValue:function(t){var e=rt();return de===null?e.memoizedState=t:pp(e,de.memoizedState,t)},useTransition:function(){var t=_l(ws)[0],e=rt().memoizedState;return[t,e]},useMutableSource:ep,useSyncExternalStore:tp,useId:mp,unstable_isNewReconciler:!1};function ot(t,e){if(t&&t.defaultProps){e=ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function da(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Io={isMounted:function(t){return(t=t._reactInternals)?Fn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Me(),s=tn(t),i=At(r,s);i.payload=e,n!=null&&(i.callback=n),e=Jt(t,i,s),e!==null&&(pt(e,t,s,r),Si(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Me(),s=tn(t),i=At(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Jt(t,i,s),e!==null&&(pt(e,t,s,r),Si(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Me(),r=tn(t),s=At(n,r);s.tag=2,e!=null&&(s.callback=e),e=Jt(t,s,r),e!==null&&(pt(e,t,r,n),Si(e,t,r))}};function _d(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!fs(n,r)||!fs(s,i):!0}function yp(t,e,n){var r=!1,s=un,i=e.contextType;return typeof i=="object"&&i!==null?i=nt(i):(s=Ue(e)?Rn:Re.current,r=e.contextTypes,i=(r=r!=null)?dr(t,s):un),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Io,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function vd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Io.enqueueReplaceState(e,e.state,null)}function ha(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Su(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=nt(i):(i=Ue(e)?Rn:Re.current,s.context=dr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(da(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Io.enqueueReplaceState(s,s.state,null),Gi(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function mr(t,e){try{var n="",r=e;do n+=a_(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function vl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function fa(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Lv=typeof WeakMap=="function"?WeakMap:Map;function wp(t,e,n){n=At(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xi||(Xi=!0,Sa=r),fa(t,e)},n}function Cp(t,e,n){n=At(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){fa(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){fa(t,e),typeof r!="function"&&(en===null?en=new Set([this]):en.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function yd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Lv;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Kv.bind(null,t,e,n),e.then(t,t))}function wd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Cd(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=At(-1,1),e.tag=2,Jt(n,e,1))),n.lanes|=1),t)}var Ov=zt.ReactCurrentOwner,Fe=!1;function Ae(t,e,n,r){e.child=t===null?qf(e,null,n,r):fr(e,t.child,n,r)}function Ed(t,e,n,r,s){n=n.render;var i=e.ref;return or(e,s),r=Iu(t,e,n,r,i,s),n=Ru(),t!==null&&!Fe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ot(t,e,s)):(te&&n&&gu(e),e.flags|=1,Ae(t,e,r,s),e.child)}function Sd(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!zu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Ep(t,e,i,r,s)):(t=Ri(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:fs,n(o,r)&&t.ref===e.ref)return Ot(t,e,s)}return e.flags|=1,t=nn(i,r),t.ref=e.ref,t.return=e,e.child=t}function Ep(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(fs(i,r)&&t.ref===e.ref)if(Fe=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Fe=!0);else return e.lanes=t.lanes,Ot(t,e,s)}return pa(t,e,n,r,s)}function Sp(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(er,We),We|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,q(er,We),We|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,q(er,We),We|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,q(er,We),We|=r;return Ae(t,e,s,n),e.child}function xp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pa(t,e,n,r,s){var i=Ue(n)?Rn:Re.current;return i=dr(e,i),or(e,s),n=Iu(t,e,n,r,i,s),r=Ru(),t!==null&&!Fe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ot(t,e,s)):(te&&r&&gu(e),e.flags|=1,Ae(t,e,n,s),e.child)}function xd(t,e,n,r,s){if(Ue(n)){var i=!0;Ui(e)}else i=!1;if(or(e,s),e.stateNode===null)ki(t,e),yp(e,n,r),ha(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=nt(c):(c=Ue(n)?Rn:Re.current,c=dr(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&vd(e,o,r,c),Ht=!1;var f=e.memoizedState;o.state=f,Gi(e,r,o,s),a=e.memoizedState,l!==r||f!==a||Be.current||Ht?(typeof h=="function"&&(da(e,n,h,r),a=e.memoizedState),(l=Ht||_d(e,n,l,r,f,a,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Zf(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:ot(e.type,l),o.props=c,d=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=nt(a):(a=Ue(n)?Rn:Re.current,a=dr(e,a));var _=n.getDerivedStateFromProps;(h=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==a)&&vd(e,o,r,a),Ht=!1,f=e.memoizedState,o.state=f,Gi(e,r,o,s);var v=e.memoizedState;l!==d||f!==v||Be.current||Ht?(typeof _=="function"&&(da(e,n,_,r),v=e.memoizedState),(c=Ht||_d(e,n,c,r,f,v,a)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ma(t,e,n,r,i,s)}function ma(t,e,n,r,s,i){xp(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&ud(e,n,!1),Ot(t,e,i);r=e.stateNode,Ov.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=fr(e,t.child,null,i),e.child=fr(e,null,l,i)):Ae(t,e,l,i),e.memoizedState=r.state,s&&ud(e,n,!0),e.child}function Np(t){var e=t.stateNode;e.pendingContext?ad(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ad(t,e.context,!1),xu(t,e.containerInfo)}function Nd(t,e,n,r,s){return hr(),vu(s),e.flags|=256,Ae(t,e,n,r),e.child}var ga={dehydrated:null,treeContext:null,retryLane:0};function _a(t){return{baseLanes:t,cachePool:null,transitions:null}}function kp(t,e,n){var r=e.pendingProps,s=ne.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),q(ne,s&1),t===null)return ua(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ao(o,r,0,null),t=Tn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=_a(n),e.memoizedState=ga,t):ju(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return bv(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=nn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=nn(l,i):(i=Tn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?_a(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ga,r}return i=t.child,t=i.sibling,r=nn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ju(t,e){return e=Ao({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ci(t,e,n,r){return r!==null&&vu(r),fr(e,t.child,null,n),t=ju(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bv(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=vl(Error(C(422))),ci(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ao({mode:"visible",children:r.children},s,0,null),i=Tn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&fr(e,t.child,null,o),e.child.memoizedState=_a(o),e.memoizedState=ga,i);if(!(e.mode&1))return ci(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(C(419)),r=vl(i,r,void 0),ci(t,e,o,r)}if(l=(o&t.childLanes)!==0,Fe||l){if(r=ve,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Lt(t,s),pt(r,t,s,-1))}return Fu(),r=vl(Error(C(421))),ci(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=qv.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ge=Zt(s.nextSibling),Ye=e,te=!0,at=null,t!==null&&(Xe[Ze++]=It,Xe[Ze++]=Rt,Xe[Ze++]=Pn,It=t.id,Rt=t.overflow,Pn=e),e=ju(e,r.children),e.flags|=4096,e)}function kd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ca(t.return,e,n)}function yl(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Tp(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ae(t,e,r.children,n),r=ne.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kd(t,n,e);else if(t.tag===19)kd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(q(ne,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Yi(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),yl(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Yi(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}yl(e,!0,n,null,i);break;case"together":yl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ki(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ot(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),jn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,n=nn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=nn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Fv(t,e,n){switch(e.tag){case 3:Np(e),hr();break;case 5:Jf(e);break;case 1:Ue(e.type)&&Ui(e);break;case 4:xu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;q($i,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(q(ne,ne.current&1),e.flags|=128,null):n&e.child.childLanes?kp(t,e,n):(q(ne,ne.current&1),t=Ot(t,e,n),t!==null?t.sibling:null);q(ne,ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Tp(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(ne,ne.current),r)break;return null;case 22:case 23:return e.lanes=0,Sp(t,e,n)}return Ot(t,e,n)}var Ip,va,Rp,Pp;Ip=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};va=function(){};Rp=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,xn(Et.current);var i=null;switch(n){case"input":s=Bl(t,s),r=Bl(t,r),i=[];break;case"select":s=ie({},s,{value:void 0}),r=ie({},r,{value:void 0}),i=[];break;case"textarea":s=Hl(t,s),r=Hl(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zi)}Wl(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(os.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var a=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(os.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&Z("scroll",t),i||l===a||(i=[])):(i=i||[]).push(c,a))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Pp=function(t,e,n,r){n!==r&&(e.flags|=4)};function Or(t,e){if(!te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Te(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zv(t,e,n){var r=e.pendingProps;switch(_u(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(e),null;case 1:return Ue(e.type)&&Bi(),Te(e),null;case 3:return r=e.stateNode,pr(),J(Be),J(Re),ku(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ai(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,at!==null&&(ka(at),at=null))),va(t,e),Te(e),null;case 5:Nu(e);var s=xn(vs.current);if(n=e.type,t!==null&&e.stateNode!=null)Rp(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(C(166));return Te(e),null}if(t=xn(Et.current),ai(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[wt]=e,r[gs]=i,t=(e.mode&1)!==0,n){case"dialog":Z("cancel",r),Z("close",r);break;case"iframe":case"object":case"embed":Z("load",r);break;case"video":case"audio":for(s=0;s<Wr.length;s++)Z(Wr[s],r);break;case"source":Z("error",r);break;case"img":case"image":case"link":Z("error",r),Z("load",r);break;case"details":Z("toggle",r);break;case"input":Lc(r,i),Z("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Z("invalid",r);break;case"textarea":bc(r,i),Z("invalid",r)}Wl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&li(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&li(r.textContent,l,t),s=["children",""+l]):os.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Z("scroll",r)}switch(n){case"input":Js(r),Oc(r,i,!0);break;case"textarea":Js(r),Fc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=zi)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[wt]=e,t[gs]=r,Ip(t,e,!1,!1),e.stateNode=t;e:{switch(o=Gl(n,r),n){case"dialog":Z("cancel",t),Z("close",t),s=r;break;case"iframe":case"object":case"embed":Z("load",t),s=r;break;case"video":case"audio":for(s=0;s<Wr.length;s++)Z(Wr[s],t);s=r;break;case"source":Z("error",t),s=r;break;case"img":case"image":case"link":Z("error",t),Z("load",t),s=r;break;case"details":Z("toggle",t),s=r;break;case"input":Lc(t,r),s=Bl(t,r),Z("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ie({},r,{value:void 0}),Z("invalid",t);break;case"textarea":bc(t,r),s=Hl(t,r),Z("invalid",t);break;default:s=r}Wl(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?lf(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&sf(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ls(t,a):typeof a=="number"&&ls(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(os.hasOwnProperty(i)?a!=null&&i==="onScroll"&&Z("scroll",t):a!=null&&nu(t,i,a,o))}switch(n){case"input":Js(t),Oc(t,r,!1);break;case"textarea":Js(t),Fc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+an(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?nr(t,!!r.multiple,i,!1):r.defaultValue!=null&&nr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=zi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Te(e),null;case 6:if(t&&e.stateNode!=null)Pp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(C(166));if(n=xn(vs.current),xn(Et.current),ai(e)){if(r=e.stateNode,n=e.memoizedProps,r[wt]=e,(i=r.nodeValue!==n)&&(t=Ye,t!==null))switch(t.tag){case 3:li(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&li(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wt]=e,e.stateNode=r}return Te(e),null;case 13:if(J(ne),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(te&&Ge!==null&&e.mode&1&&!(e.flags&128))Qf(),hr(),e.flags|=98560,i=!1;else if(i=ai(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(C(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[wt]=e}else hr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Te(e),i=!1}else at!==null&&(ka(at),at=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ne.current&1?pe===0&&(pe=3):Fu())),e.updateQueue!==null&&(e.flags|=4),Te(e),null);case 4:return pr(),va(t,e),t===null&&ps(e.stateNode.containerInfo),Te(e),null;case 10:return Cu(e.type._context),Te(e),null;case 17:return Ue(e.type)&&Bi(),Te(e),null;case 19:if(J(ne),i=e.memoizedState,i===null)return Te(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Or(i,!1);else{if(pe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yi(t),o!==null){for(e.flags|=128,Or(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return q(ne,ne.current&1|2),e.child}t=t.sibling}i.tail!==null&&ae()>gr&&(e.flags|=128,r=!0,Or(i,!1),e.lanes=4194304)}else{if(!r)if(t=Yi(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Or(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!te)return Te(e),null}else 2*ae()-i.renderingStartTime>gr&&n!==1073741824&&(e.flags|=128,r=!0,Or(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ae(),e.sibling=null,n=ne.current,q(ne,r?n&1|2:n&1),e):(Te(e),null);case 22:case 23:return bu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?We&1073741824&&(Te(e),e.subtreeFlags&6&&(e.flags|=8192)):Te(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function Bv(t,e){switch(_u(e),e.tag){case 1:return Ue(e.type)&&Bi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pr(),J(Be),J(Re),ku(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Nu(e),null;case 13:if(J(ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));hr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return J(ne),null;case 4:return pr(),null;case 10:return Cu(e.type._context),null;case 22:case 23:return bu(),null;case 24:return null;default:return null}}var di=!1,Ie=!1,Uv=typeof WeakSet=="function"?WeakSet:Set,R=null;function Jn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){oe(t,e,r)}else n.current=null}function ya(t,e,n){try{n()}catch(r){oe(t,e,r)}}var Td=!1;function Vv(t,e){if(na=Oi,t=Lf(),mu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,h=0,d=t,f=null;t:for(;;){for(var _;d!==n||s!==0&&d.nodeType!==3||(l=o+s),d!==i||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(_=d.firstChild)!==null;)f=d,d=_;for(;;){if(d===t)break t;if(f===n&&++c===s&&(l=o),f===i&&++h===r&&(a=o),(_=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=_}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ra={focusedElem:t,selectionRange:n},Oi=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,j=v.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:ot(e.type,y),j);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(w){oe(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return v=Td,Td=!1,v}function Zr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ya(e,n,i)}s=s.next}while(s!==r)}}function Ro(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wa(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ap(t){var e=t.alternate;e!==null&&(t.alternate=null,Ap(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wt],delete e[gs],delete e[oa],delete e[xv],delete e[Nv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jp(t){return t.tag===5||t.tag===3||t.tag===4}function Id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ca(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zi));else if(r!==4&&(t=t.child,t!==null))for(Ca(t,e,n),t=t.sibling;t!==null;)Ca(t,e,n),t=t.sibling}function Ea(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ea(t,e,n),t=t.sibling;t!==null;)Ea(t,e,n),t=t.sibling}var ye=null,lt=!1;function Ut(t,e,n){for(n=n.child;n!==null;)Mp(t,e,n),n=n.sibling}function Mp(t,e,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Co,n)}catch{}switch(n.tag){case 5:Ie||Jn(n,e);case 6:var r=ye,s=lt;ye=null,Ut(t,e,n),ye=r,lt=s,ye!==null&&(lt?(t=ye,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ye.removeChild(n.stateNode));break;case 18:ye!==null&&(lt?(t=ye,n=n.stateNode,t.nodeType===8?hl(t.parentNode,n):t.nodeType===1&&hl(t,n),ds(t)):hl(ye,n.stateNode));break;case 4:r=ye,s=lt,ye=n.stateNode.containerInfo,lt=!0,Ut(t,e,n),ye=r,lt=s;break;case 0:case 11:case 14:case 15:if(!Ie&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ya(n,e,o),s=s.next}while(s!==r)}Ut(t,e,n);break;case 1:if(!Ie&&(Jn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){oe(n,e,l)}Ut(t,e,n);break;case 21:Ut(t,e,n);break;case 22:n.mode&1?(Ie=(r=Ie)||n.memoizedState!==null,Ut(t,e,n),Ie=r):Ut(t,e,n);break;default:Ut(t,e,n)}}function Rd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Uv),e.forEach(function(r){var s=Xv.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function it(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ye=l.stateNode,lt=!1;break e;case 3:ye=l.stateNode.containerInfo,lt=!0;break e;case 4:ye=l.stateNode.containerInfo,lt=!0;break e}l=l.return}if(ye===null)throw Error(C(160));Mp(i,o,s),ye=null,lt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){oe(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Dp(e,t),e=e.sibling}function Dp(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(it(e,t),vt(t),r&4){try{Zr(3,t,t.return),Ro(3,t)}catch(y){oe(t,t.return,y)}try{Zr(5,t,t.return)}catch(y){oe(t,t.return,y)}}break;case 1:it(e,t),vt(t),r&512&&n!==null&&Jn(n,n.return);break;case 5:if(it(e,t),vt(t),r&512&&n!==null&&Jn(n,n.return),t.flags&32){var s=t.stateNode;try{ls(s,"")}catch(y){oe(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&tf(s,i),Gl(l,o);var c=Gl(l,i);for(o=0;o<a.length;o+=2){var h=a[o],d=a[o+1];h==="style"?lf(s,d):h==="dangerouslySetInnerHTML"?sf(s,d):h==="children"?ls(s,d):nu(s,h,d,c)}switch(l){case"input":Ul(s,i);break;case"textarea":nf(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var _=i.value;_!=null?nr(s,!!i.multiple,_,!1):f!==!!i.multiple&&(i.defaultValue!=null?nr(s,!!i.multiple,i.defaultValue,!0):nr(s,!!i.multiple,i.multiple?[]:"",!1))}s[gs]=i}catch(y){oe(t,t.return,y)}}break;case 6:if(it(e,t),vt(t),r&4){if(t.stateNode===null)throw Error(C(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){oe(t,t.return,y)}}break;case 3:if(it(e,t),vt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ds(e.containerInfo)}catch(y){oe(t,t.return,y)}break;case 4:it(e,t),vt(t);break;case 13:it(e,t),vt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Lu=ae())),r&4&&Rd(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ie=(c=Ie)||h,it(e,t),Ie=c):it(e,t),vt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(R=t,h=t.child;h!==null;){for(d=R=h;R!==null;){switch(f=R,_=f.child,f.tag){case 0:case 11:case 14:case 15:Zr(4,f,f.return);break;case 1:Jn(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){oe(r,n,y)}}break;case 5:Jn(f,f.return);break;case 22:if(f.memoizedState!==null){Ad(d);continue}}_!==null?(_.return=f,R=_):Ad(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=of("display",o))}catch(y){oe(t,t.return,y)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){oe(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:it(e,t),vt(t),r&4&&Rd(t);break;case 21:break;default:it(e,t),vt(t)}}function vt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jp(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ls(s,""),r.flags&=-33);var i=Id(t);Ea(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Id(t);Ca(t,l,o);break;default:throw Error(C(161))}}catch(a){oe(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Hv(t,e,n){R=t,Lp(t)}function Lp(t,e,n){for(var r=(t.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||di;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Ie;l=di;var c=Ie;if(di=o,(Ie=a)&&!c)for(R=s;R!==null;)o=R,a=o.child,o.tag===22&&o.memoizedState!==null?jd(s):a!==null?(a.return=o,R=a):jd(s);for(;i!==null;)R=i,Lp(i),i=i.sibling;R=s,di=l,Ie=c}Pd(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):Pd(t)}}function Pd(t){for(;R!==null;){var e=R;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ie||Ro(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ie)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ot(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&pd(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pd(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&ds(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Ie||e.flags&512&&wa(e)}catch(f){oe(e,e.return,f)}}if(e===t){R=null;break}if(n=e.sibling,n!==null){n.return=e.return,R=n;break}R=e.return}}function Ad(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var n=e.sibling;if(n!==null){n.return=e.return,R=n;break}R=e.return}}function jd(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ro(4,e)}catch(a){oe(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){oe(e,s,a)}}var i=e.return;try{wa(e)}catch(a){oe(e,i,a)}break;case 5:var o=e.return;try{wa(e)}catch(a){oe(e,o,a)}}}catch(a){oe(e,e.return,a)}if(e===t){R=null;break}var l=e.sibling;if(l!==null){l.return=e.return,R=l;break}R=e.return}}var $v=Math.ceil,qi=zt.ReactCurrentDispatcher,Mu=zt.ReactCurrentOwner,tt=zt.ReactCurrentBatchConfig,V=0,ve=null,ue=null,Ee=0,We=0,er=mn(0),pe=0,Es=null,jn=0,Po=0,Du=0,Jr=null,be=null,Lu=0,gr=1/0,kt=null,Xi=!1,Sa=null,en=null,hi=!1,Yt=null,Zi=0,es=0,xa=null,Ti=-1,Ii=0;function Me(){return V&6?ae():Ti!==-1?Ti:Ti=ae()}function tn(t){return t.mode&1?V&2&&Ee!==0?Ee&-Ee:Tv.transition!==null?(Ii===0&&(Ii=yf()),Ii):(t=W,t!==0||(t=window.event,t=t===void 0?16:kf(t.type)),t):1}function pt(t,e,n,r){if(50<es)throw es=0,xa=null,Error(C(185));Os(t,n,r),(!(V&2)||t!==ve)&&(t===ve&&(!(V&2)&&(Po|=n),pe===4&&Wt(t,Ee)),Ve(t,r),n===1&&V===0&&!(e.mode&1)&&(gr=ae()+500,ko&&gn()))}function Ve(t,e){var n=t.callbackNode;T_(t,e);var r=Li(t,t===ve?Ee:0);if(r===0)n!==null&&Uc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Uc(n),e===1)t.tag===0?kv(Md.bind(null,t)):Wf(Md.bind(null,t)),Ev(function(){!(V&6)&&gn()}),n=null;else{switch(wf(r)){case 1:n=lu;break;case 4:n=_f;break;case 16:n=Di;break;case 536870912:n=vf;break;default:n=Di}n=Hp(n,Op.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Op(t,e){if(Ti=-1,Ii=0,V&6)throw Error(C(327));var n=t.callbackNode;if(lr()&&t.callbackNode!==n)return null;var r=Li(t,t===ve?Ee:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ji(t,r);else{e=r;var s=V;V|=2;var i=Fp();(ve!==t||Ee!==e)&&(kt=null,gr=ae()+500,kn(t,e));do try{Yv();break}catch(l){bp(t,l)}while(!0);wu(),qi.current=i,V=s,ue!==null?e=0:(ve=null,Ee=0,e=pe)}if(e!==0){if(e===2&&(s=Xl(t),s!==0&&(r=s,e=Na(t,s))),e===1)throw n=Es,kn(t,0),Wt(t,r),Ve(t,ae()),n;if(e===6)Wt(t,r);else{if(s=t.current.alternate,!(r&30)&&!Wv(s)&&(e=Ji(t,r),e===2&&(i=Xl(t),i!==0&&(r=i,e=Na(t,i))),e===1))throw n=Es,kn(t,0),Wt(t,r),Ve(t,ae()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(C(345));case 2:yn(t,be,kt);break;case 3:if(Wt(t,r),(r&130023424)===r&&(e=Lu+500-ae(),10<e)){if(Li(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Me(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ia(yn.bind(null,t,be,kt),e);break}yn(t,be,kt);break;case 4:if(Wt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ft(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$v(r/1960))-r,10<r){t.timeoutHandle=ia(yn.bind(null,t,be,kt),r);break}yn(t,be,kt);break;case 5:yn(t,be,kt);break;default:throw Error(C(329))}}}return Ve(t,ae()),t.callbackNode===n?Op.bind(null,t):null}function Na(t,e){var n=Jr;return t.current.memoizedState.isDehydrated&&(kn(t,e).flags|=256),t=Ji(t,e),t!==2&&(e=be,be=n,e!==null&&ka(e)),t}function ka(t){be===null?be=t:be.push.apply(be,t)}function Wv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!gt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wt(t,e){for(e&=~Du,e&=~Po,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ft(e),r=1<<n;t[n]=-1,e&=~r}}function Md(t){if(V&6)throw Error(C(327));lr();var e=Li(t,0);if(!(e&1))return Ve(t,ae()),null;var n=Ji(t,e);if(t.tag!==0&&n===2){var r=Xl(t);r!==0&&(e=r,n=Na(t,r))}if(n===1)throw n=Es,kn(t,0),Wt(t,e),Ve(t,ae()),n;if(n===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yn(t,be,kt),Ve(t,ae()),null}function Ou(t,e){var n=V;V|=1;try{return t(e)}finally{V=n,V===0&&(gr=ae()+500,ko&&gn())}}function Mn(t){Yt!==null&&Yt.tag===0&&!(V&6)&&lr();var e=V;V|=1;var n=tt.transition,r=W;try{if(tt.transition=null,W=1,t)return t()}finally{W=r,tt.transition=n,V=e,!(V&6)&&gn()}}function bu(){We=er.current,J(er)}function kn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Cv(n)),ue!==null)for(n=ue.return;n!==null;){var r=n;switch(_u(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bi();break;case 3:pr(),J(Be),J(Re),ku();break;case 5:Nu(r);break;case 4:pr();break;case 13:J(ne);break;case 19:J(ne);break;case 10:Cu(r.type._context);break;case 22:case 23:bu()}n=n.return}if(ve=t,ue=t=nn(t.current,null),Ee=We=e,pe=0,Es=null,Du=Po=jn=0,be=Jr=null,Sn!==null){for(e=0;e<Sn.length;e++)if(n=Sn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Sn=null}return t}function bp(t,e){do{var n=ue;try{if(wu(),xi.current=Ki,Qi){for(var r=se.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qi=!1}if(An=0,ge=de=se=null,Xr=!1,ys=0,Mu.current=null,n===null||n.return===null){pe=1,Es=e,ue=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=Ee,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var _=wd(o);if(_!==null){_.flags&=-257,Cd(_,o,l,i,e),_.mode&1&&yd(i,c,e),e=_,a=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(a),e.updateQueue=y}else v.add(a);break e}else{if(!(e&1)){yd(i,c,e),Fu();break e}a=Error(C(426))}}else if(te&&l.mode&1){var j=wd(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Cd(j,o,l,i,e),vu(mr(a,l));break e}}i=a=mr(a,l),pe!==4&&(pe=2),Jr===null?Jr=[i]:Jr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=wp(i,a,e);fd(i,m);break e;case 1:l=a;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(en===null||!en.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Cp(i,l,e);fd(i,w);break e}}i=i.return}while(i!==null)}Bp(n)}catch(S){e=S,ue===n&&n!==null&&(ue=n=n.return);continue}break}while(!0)}function Fp(){var t=qi.current;return qi.current=Ki,t===null?Ki:t}function Fu(){(pe===0||pe===3||pe===2)&&(pe=4),ve===null||!(jn&268435455)&&!(Po&268435455)||Wt(ve,Ee)}function Ji(t,e){var n=V;V|=2;var r=Fp();(ve!==t||Ee!==e)&&(kt=null,kn(t,e));do try{Gv();break}catch(s){bp(t,s)}while(!0);if(wu(),V=n,qi.current=r,ue!==null)throw Error(C(261));return ve=null,Ee=0,pe}function Gv(){for(;ue!==null;)zp(ue)}function Yv(){for(;ue!==null&&!v_();)zp(ue)}function zp(t){var e=Vp(t.alternate,t,We);t.memoizedProps=t.pendingProps,e===null?Bp(t):ue=e,Mu.current=null}function Bp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Bv(n,e),n!==null){n.flags&=32767,ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pe=6,ue=null;return}}else if(n=zv(n,e,We),n!==null){ue=n;return}if(e=e.sibling,e!==null){ue=e;return}ue=e=t}while(e!==null);pe===0&&(pe=5)}function yn(t,e,n){var r=W,s=tt.transition;try{tt.transition=null,W=1,Qv(t,e,n,r)}finally{tt.transition=s,W=r}return null}function Qv(t,e,n,r){do lr();while(Yt!==null);if(V&6)throw Error(C(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(I_(t,i),t===ve&&(ue=ve=null,Ee=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hi||(hi=!0,Hp(Di,function(){return lr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=tt.transition,tt.transition=null;var o=W;W=1;var l=V;V|=4,Mu.current=null,Vv(t,n),Dp(n,t),pv(ra),Oi=!!na,ra=na=null,t.current=n,Hv(n),y_(),V=l,W=o,tt.transition=i}else t.current=n;if(hi&&(hi=!1,Yt=t,Zi=s),i=t.pendingLanes,i===0&&(en=null),E_(n.stateNode),Ve(t,ae()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Xi)throw Xi=!1,t=Sa,Sa=null,t;return Zi&1&&t.tag!==0&&lr(),i=t.pendingLanes,i&1?t===xa?es++:(es=0,xa=t):es=0,gn(),null}function lr(){if(Yt!==null){var t=wf(Zi),e=tt.transition,n=W;try{if(tt.transition=null,W=16>t?16:t,Yt===null)var r=!1;else{if(t=Yt,Yt=null,Zi=0,V&6)throw Error(C(331));var s=V;for(V|=4,R=t.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(R=c;R!==null;){var h=R;switch(h.tag){case 0:case 11:case 15:Zr(8,h,i)}var d=h.child;if(d!==null)d.return=h,R=d;else for(;R!==null;){h=R;var f=h.sibling,_=h.return;if(Ap(h),h===c){R=null;break}if(f!==null){f.return=_,R=f;break}R=_}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var j=y.sibling;y.sibling=null,y=j}while(y!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Zr(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,R=m;break e}R=i.return}}var p=t.current;for(R=p;R!==null;){o=R;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,R=g;else e:for(o=p;R!==null;){if(l=R,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ro(9,l)}}catch(S){oe(l,l.return,S)}if(l===o){R=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,R=w;break e}R=l.return}}if(V=s,gn(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Co,t)}catch{}r=!0}return r}finally{W=n,tt.transition=e}}return!1}function Dd(t,e,n){e=mr(n,e),e=wp(t,e,1),t=Jt(t,e,1),e=Me(),t!==null&&(Os(t,1,e),Ve(t,e))}function oe(t,e,n){if(t.tag===3)Dd(t,t,n);else for(;e!==null;){if(e.tag===3){Dd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(en===null||!en.has(r))){t=mr(n,t),t=Cp(e,t,1),e=Jt(e,t,1),t=Me(),e!==null&&(Os(e,1,t),Ve(e,t));break}}e=e.return}}function Kv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Me(),t.pingedLanes|=t.suspendedLanes&n,ve===t&&(Ee&n)===n&&(pe===4||pe===3&&(Ee&130023424)===Ee&&500>ae()-Lu?kn(t,0):Du|=n),Ve(t,e)}function Up(t,e){e===0&&(t.mode&1?(e=ni,ni<<=1,!(ni&130023424)&&(ni=4194304)):e=1);var n=Me();t=Lt(t,e),t!==null&&(Os(t,e,n),Ve(t,n))}function qv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Up(t,n)}function Xv(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(e),Up(t,n)}var Vp;Vp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Be.current)Fe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Fe=!1,Fv(t,e,n);Fe=!!(t.flags&131072)}else Fe=!1,te&&e.flags&1048576&&Gf(e,Hi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ki(t,e),t=e.pendingProps;var s=dr(e,Re.current);or(e,n),s=Iu(null,e,r,t,s,n);var i=Ru();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ue(r)?(i=!0,Ui(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Su(e),s.updater=Io,e.stateNode=s,s._reactInternals=e,ha(e,r,t,n),e=ma(null,e,r,!0,i,n)):(e.tag=0,te&&i&&gu(e),Ae(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ki(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Jv(r),t=ot(r,t),s){case 0:e=pa(null,e,r,t,n);break e;case 1:e=xd(null,e,r,t,n);break e;case 11:e=Ed(null,e,r,t,n);break e;case 14:e=Sd(null,e,r,ot(r.type,t),n);break e}throw Error(C(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ot(r,s),pa(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ot(r,s),xd(t,e,r,s,n);case 3:e:{if(Np(e),t===null)throw Error(C(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Zf(t,e),Gi(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=mr(Error(C(423)),e),e=Nd(t,e,r,n,s);break e}else if(r!==s){s=mr(Error(C(424)),e),e=Nd(t,e,r,n,s);break e}else for(Ge=Zt(e.stateNode.containerInfo.firstChild),Ye=e,te=!0,at=null,n=qf(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hr(),r===s){e=Ot(t,e,n);break e}Ae(t,e,r,n)}e=e.child}return e;case 5:return Jf(e),t===null&&ua(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,sa(r,s)?o=null:i!==null&&sa(r,i)&&(e.flags|=32),xp(t,e),Ae(t,e,o,n),e.child;case 6:return t===null&&ua(e),null;case 13:return kp(t,e,n);case 4:return xu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fr(e,null,r,n):Ae(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ot(r,s),Ed(t,e,r,s,n);case 7:return Ae(t,e,e.pendingProps,n),e.child;case 8:return Ae(t,e,e.pendingProps.children,n),e.child;case 12:return Ae(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,q($i,r._currentValue),r._currentValue=o,i!==null)if(gt(i.value,o)){if(i.children===s.children&&!Be.current){e=Ot(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=At(-1,n&-n),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?a.next=a:(a.next=h.next,h.next=a),c.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),ca(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ca(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ae(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,or(e,n),s=nt(s),r=r(s),e.flags|=1,Ae(t,e,r,n),e.child;case 14:return r=e.type,s=ot(r,e.pendingProps),s=ot(r.type,s),Sd(t,e,r,s,n);case 15:return Ep(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ot(r,s),ki(t,e),e.tag=1,Ue(r)?(t=!0,Ui(e)):t=!1,or(e,n),yp(e,r,s),ha(e,r,s,n),ma(null,e,r,!0,t,n);case 19:return Tp(t,e,n);case 22:return Sp(t,e,n)}throw Error(C(156,e.tag))};function Hp(t,e){return gf(t,e)}function Zv(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Je(t,e,n,r){return new Zv(t,e,n,r)}function zu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jv(t){if(typeof t=="function")return zu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===su)return 11;if(t===iu)return 14}return 2}function nn(t,e){var n=t.alternate;return n===null?(n=Je(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ri(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")zu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $n:return Tn(n.children,s,i,e);case ru:o=8,s|=8;break;case Ol:return t=Je(12,n,e,s|2),t.elementType=Ol,t.lanes=i,t;case bl:return t=Je(13,n,e,s),t.elementType=bl,t.lanes=i,t;case Fl:return t=Je(19,n,e,s),t.elementType=Fl,t.lanes=i,t;case Zh:return Ao(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qh:o=10;break e;case Xh:o=9;break e;case su:o=11;break e;case iu:o=14;break e;case Vt:o=16,r=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=Je(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Tn(t,e,n,r){return t=Je(7,t,r,e),t.lanes=n,t}function Ao(t,e,n,r){return t=Je(22,t,r,e),t.elementType=Zh,t.lanes=n,t.stateNode={isHidden:!1},t}function wl(t,e,n){return t=Je(6,t,null,e),t.lanes=n,t}function Cl(t,e,n){return e=Je(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ey(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tl(0),this.expirationTimes=tl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bu(t,e,n,r,s,i,o,l,a){return t=new ey(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Je(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Su(i),t}function ty(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $p(t){if(!t)return un;t=t._reactInternals;e:{if(Fn(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ue(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var n=t.type;if(Ue(n))return $f(t,n,e)}return e}function Wp(t,e,n,r,s,i,o,l,a){return t=Bu(n,r,!0,t,s,i,o,l,a),t.context=$p(null),n=t.current,r=Me(),s=tn(n),i=At(r,s),i.callback=e??null,Jt(n,i,s),t.current.lanes=s,Os(t,s,r),Ve(t,r),t}function jo(t,e,n,r){var s=e.current,i=Me(),o=tn(s);return n=$p(n),e.context===null?e.context=n:e.pendingContext=n,e=At(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Jt(s,e,o),t!==null&&(pt(t,s,o,i),Si(t,s,o)),o}function eo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ld(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Uu(t,e){Ld(t,e),(t=t.alternate)&&Ld(t,e)}function ny(){return null}var Gp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vu(t){this._internalRoot=t}Mo.prototype.render=Vu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));jo(t,e,null,null)};Mo.prototype.unmount=Vu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mn(function(){jo(null,t,null,null)}),e[Dt]=null}};function Mo(t){this._internalRoot=t}Mo.prototype.unstable_scheduleHydration=function(t){if(t){var e=Sf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$t.length&&e!==0&&e<$t[n].priority;n++);$t.splice(n,0,t),n===0&&Nf(t)}};function Hu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Do(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Od(){}function ry(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=eo(o);i.call(c)}}var o=Wp(e,r,t,0,null,!1,!1,"",Od);return t._reactRootContainer=o,t[Dt]=o.current,ps(t.nodeType===8?t.parentNode:t),Mn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=eo(a);l.call(c)}}var a=Bu(t,0,!1,null,null,!1,!1,"",Od);return t._reactRootContainer=a,t[Dt]=a.current,ps(t.nodeType===8?t.parentNode:t),Mn(function(){jo(e,a,n,r)}),a}function Lo(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=eo(o);l.call(a)}}jo(e,o,t,s)}else o=ry(n,e,t,s,r);return eo(o)}Cf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$r(e.pendingLanes);n!==0&&(au(e,n|1),Ve(e,ae()),!(V&6)&&(gr=ae()+500,gn()))}break;case 13:Mn(function(){var r=Lt(t,1);if(r!==null){var s=Me();pt(r,t,1,s)}}),Uu(t,1)}};uu=function(t){if(t.tag===13){var e=Lt(t,134217728);if(e!==null){var n=Me();pt(e,t,134217728,n)}Uu(t,134217728)}};Ef=function(t){if(t.tag===13){var e=tn(t),n=Lt(t,e);if(n!==null){var r=Me();pt(n,t,e,r)}Uu(t,e)}};Sf=function(){return W};xf=function(t,e){var n=W;try{return W=t,e()}finally{W=n}};Ql=function(t,e,n){switch(e){case"input":if(Ul(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=No(r);if(!s)throw Error(C(90));ef(r),Ul(r,s)}}}break;case"textarea":nf(t,n);break;case"select":e=n.value,e!=null&&nr(t,!!n.multiple,e,!1)}};cf=Ou;df=Mn;var sy={usingClientEntryPoint:!1,Events:[Fs,Qn,No,af,uf,Ou]},br={findFiberByHostInstance:En,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iy={bundleType:br.bundleType,version:br.version,rendererPackageName:br.rendererPackageName,rendererConfig:br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pf(t),t===null?null:t.stateNode},findFiberByHostInstance:br.findFiberByHostInstance||ny,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fi.isDisabled&&fi.supportsFiber)try{Co=fi.inject(iy),Ct=fi}catch{}}Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sy;Ke.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hu(e))throw Error(C(200));return ty(t,e,null,n)};Ke.createRoot=function(t,e){if(!Hu(t))throw Error(C(299));var n=!1,r="",s=Gp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Bu(t,1,!1,null,null,n,!1,r,s),t[Dt]=e.current,ps(t.nodeType===8?t.parentNode:t),new Vu(e)};Ke.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=pf(e),t=t===null?null:t.stateNode,t};Ke.flushSync=function(t){return Mn(t)};Ke.hydrate=function(t,e,n){if(!Do(e))throw Error(C(200));return Lo(null,t,e,!0,n)};Ke.hydrateRoot=function(t,e,n){if(!Hu(t))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Gp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Wp(e,null,t,1,n??null,s,!1,i,o),t[Dt]=e.current,ps(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Mo(e)};Ke.render=function(t,e,n){if(!Do(e))throw Error(C(200));return Lo(null,t,e,!1,n)};Ke.unmountComponentAtNode=function(t){if(!Do(t))throw Error(C(40));return t._reactRootContainer?(Mn(function(){Lo(null,null,t,!1,function(){t._reactRootContainer=null,t[Dt]=null})}),!0):!1};Ke.unstable_batchedUpdates=Ou;Ke.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Do(n))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return Lo(t,e,n,!1,r)};Ke.version="18.3.1-next-f1338f8080-20240426";function Yp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yp)}catch(t){console.error(t)}}Yp(),Gh.exports=Ke;var Qp=Gh.exports,bd=Qp;Dl.createRoot=bd.createRoot,Dl.hydrateRoot=bd.hydrateRoot;function oy(){const[t,e]=k.useState(0),[n,r]=k.useState(!1),[s,i]=k.useState("");k.useEffect(()=>{const l=new Date().getHours();l>=5&&l<12?i("Good morning, astronaut!"):l>=12&&l<17?i("Good afternoon, space explorer!"):l>=17&&l<21?i("Good evening, star gazer!"):i("Up late, night owl?")},[]);const o=()=>{const l=t+1;e(l),l>=3&&(r(!0),e(0),setTimeout(()=>r(!1),4e3))};return u.jsxs("section",{className:"hero",children:[u.jsx("div",{className:"planet planet-1",children:u.jsxs("svg",{viewBox:"0 0 100 100",className:"planet-svg",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"planet1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#ff6b9d"}),u.jsx("stop",{offset:"100%",stopColor:"#c44569"})]})}),u.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"url(#planet1)"}),u.jsx("ellipse",{cx:"50",cy:"50",rx:"60",ry:"12",fill:"none",stroke:"rgba(255,255,255,0.3)",strokeWidth:"3"})]})}),u.jsx("div",{className:"planet planet-2",children:u.jsxs("svg",{viewBox:"0 0 80 80",className:"planet-svg",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"planet2",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#ffd700"}),u.jsx("stop",{offset:"100%",stopColor:"#ff8c42"})]})}),u.jsx("circle",{cx:"40",cy:"40",r:"35",fill:"url(#planet2)"})]})}),u.jsx("div",{className:"planet planet-3",children:u.jsxs("svg",{viewBox:"0 0 60 60",className:"planet-svg",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"planet3",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#74b9ff"}),u.jsx("stop",{offset:"100%",stopColor:"#0984e3"})]})}),u.jsx("circle",{cx:"30",cy:"30",r:"25",fill:"url(#planet3)"})]})}),u.jsx("div",{className:"rocket-container",children:u.jsxs("svg",{viewBox:"0 0 100 200",className:"rocket-svg",children:[u.jsxs("g",{className:"rocket-flame",children:[u.jsx("ellipse",{cx:"50",cy:"180",rx:"12",ry:"25",fill:"#ff6b35",opacity:"0.9"}),u.jsx("ellipse",{cx:"50",cy:"175",rx:"8",ry:"18",fill:"#ffd700"}),u.jsx("ellipse",{cx:"50",cy:"170",rx:"4",ry:"10",fill:"#fff"})]}),u.jsx("path",{d:"M50 10 L70 60 L70 130 L60 140 L40 140 L30 130 L30 60 Z",fill:"url(#rocketBody)"}),u.jsx("defs",{children:u.jsxs("linearGradient",{id:"rocketBody",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"#e0e0e0"}),u.jsx("stop",{offset:"50%",stopColor:"#ffffff"}),u.jsx("stop",{offset:"100%",stopColor:"#c0c0c0"})]})}),u.jsx("path",{d:"M50 10 L65 45 L35 45 Z",fill:"#ff6b9d"}),u.jsx("circle",{cx:"50",cy:"70",r:"12",fill:"#74b9ff",stroke:"#2d3436",strokeWidth:"3"}),u.jsx("circle",{cx:"47",cy:"67",r:"4",fill:"rgba(255,255,255,0.6)"}),u.jsx("path",{d:"M30 110 L15 145 L30 135 Z",fill:"#ff8c42"}),u.jsx("path",{d:"M70 110 L85 145 L70 135 Z",fill:"#ff8c42"}),u.jsx("rect",{x:"35",y:"95",width:"30",height:"8",fill:"#ff6b9d"})]})}),u.jsxs("div",{className:"hero-content",children:[s&&u.jsx("p",{className:"hero-greeting",children:s}),u.jsx("p",{className:"hero-invite",children:"You're invited to"}),u.jsx("h1",{children:"Hilde's Space Mission"}),u.jsxs("div",{className:"age-badge-container",children:[u.jsxs("div",{className:"age-badge",onClick:o,children:[u.jsx("span",{className:"age-number",children:"5"}),u.jsx("span",{className:"age-text",children:"years around the sun!"})]}),u.jsx("span",{className:"age-badge-hint",children:" tap me!"})]})]}),n&&u.jsx("div",{className:"easter-egg-overlay",children:u.jsxs("div",{className:"easter-egg-content",children:[u.jsx("div",{className:"neptune-graphic",children:u.jsxs("svg",{viewBox:"0 0 120 120",width:"120",height:"120",children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"neptuneGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#74b9ff"}),u.jsx("stop",{offset:"50%",stopColor:"#0984e3"}),u.jsx("stop",{offset:"100%",stopColor:"#0652DD"})]}),u.jsxs("filter",{id:"glow",children:[u.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),u.jsx("circle",{cx:"60",cy:"60",r:"50",fill:"url(#neptuneGrad)",filter:"url(#glow)"}),u.jsx("ellipse",{cx:"60",cy:"60",rx:"55",ry:"8",fill:"none",stroke:"rgba(255,255,255,0.4)",strokeWidth:"2",transform:"rotate(-15 60 60)"}),u.jsx("circle",{cx:"45",cy:"45",r:"8",fill:"rgba(255,255,255,0.2)"})]})}),u.jsx("p",{className:"easter-egg-title",children:"You discovered Neptune!"}),u.jsx("p",{className:"easter-egg-message",children:"Hilde's favorite planet because it's light blue - her favorite color!"}),u.jsx("span",{className:"easter-egg-emoji",children:""})]})}),u.jsx("div",{className:"astronaut-float",children:u.jsxs("svg",{viewBox:"0 0 100 140",className:"astronaut-svg",children:[u.jsx("rect",{x:"30",y:"45",width:"40",height:"50",rx:"5",fill:"#636e72"}),u.jsx("ellipse",{cx:"50",cy:"80",rx:"25",ry:"30",fill:"white"}),u.jsx("circle",{cx:"50",cy:"35",r:"28",fill:"white"}),u.jsx("ellipse",{cx:"50",cy:"38",rx:"20",ry:"18",fill:"#74b9ff",opacity:"0.8"}),u.jsx("ellipse",{cx:"45",cy:"33",rx:"6",ry:"4",fill:"rgba(255,255,255,0.5)"}),u.jsx("ellipse",{cx:"20",cy:"75",rx:"10",ry:"15",fill:"white"}),u.jsx("ellipse",{cx:"80",cy:"75",rx:"10",ry:"15",fill:"white"}),u.jsx("ellipse",{cx:"38",cy:"115",rx:"10",ry:"18",fill:"white"}),u.jsx("ellipse",{cx:"62",cy:"115",rx:"10",ry:"18",fill:"white"}),u.jsx("ellipse",{cx:"50",cy:"55",rx:"25",ry:"5",fill:"#dfe6e9"})]})})]})}function ly(){const[t,e]=k.useState({x:0,y:0}),[n,r]=k.useState(!1),[s,i]=k.useState(!1),o=k.useRef(null),l=k.useRef(null),a=(m,p,g,w=15)=>{if(!g)return{x:0,y:0};const S=g.getBoundingClientRect(),T=S.left+S.width/2,I=S.top+S.height/2,A=(m-T)/(S.width/2),$=(p-I)/(S.height/2);return{x:Math.max(-w,Math.min(w,$*w)),y:Math.max(-w,Math.min(w,-A*w))}},c=m=>{const p=a(m.clientX,m.clientY,o.current,15);e(p)},h=()=>r(!0),d=()=>{r(!1),e({x:0,y:0})},f=k.useCallback((m,p)=>{l.current&&(l.current.style.transform=`perspective(1000px) rotateX(${m}deg) rotateY(${p}deg) scale(1)`)},[]),_=k.useCallback(m=>{if(m.preventDefault(),m.stopPropagation(),m.touches.length>0){const p=m.touches[0],g=a(p.clientX,p.clientY,l.current,25);f(g.x,g.y)}},[f]),v=k.useCallback(m=>{if(m.preventDefault(),m.stopPropagation(),i(!0),l.current&&(l.current.style.transition="none"),m.touches.length>0){const p=m.touches[0],g=a(p.clientX,p.clientY,l.current,25);f(g.x,g.y)}},[f]),y=k.useCallback(m=>{m.stopPropagation(),i(!1),l.current&&(l.current.style.transition="transform 0.3s ease-out",l.current.style.transform="perspective(1000px) rotateX(0deg) rotateY(0deg) scale(1)"),e({x:0,y:0})},[]),j=n&&!s;return u.jsxs("section",{className:"commander-section",children:[u.jsx("h2",{children:"Meet Your Mission Commander"}),u.jsxs("div",{className:"commander-frame-container",ref:o,onMouseMove:c,onMouseEnter:h,onMouseLeave:d,children:[u.jsx("div",{className:"orbit orbit-1",children:u.jsx("div",{className:"orbit-dot"})}),u.jsx("div",{className:"orbit orbit-2",children:u.jsx("div",{className:"orbit-dot star"})}),u.jsx("div",{className:"orbit orbit-3",children:u.jsx("div",{className:"orbit-dot planet"})}),u.jsxs("div",{ref:l,className:`commander-porthole ${j?"hovering":""}`,style:{transform:`perspective(1000px) rotateX(${t.x}deg) rotateY(${t.y}deg) scale(${j?1.05:1})`},onTouchStart:v,onTouchMove:_,onTouchEnd:y,children:[u.jsx("div",{className:"porthole-glow"}),u.jsxs("div",{className:"porthole-frame",children:[u.jsx("div",{className:"bolt bolt-1"}),u.jsx("div",{className:"bolt bolt-2"}),u.jsx("div",{className:"bolt bolt-3"}),u.jsx("div",{className:"bolt bolt-4"}),u.jsxs("div",{className:"porthole-glass",children:[u.jsx("img",{src:"/Hilde-5th-birthday/hilde-commander.jpg",alt:"Commander Hilde in her astronaut suit",className:"commander-photo"}),u.jsx("div",{className:"glass-reflection"})]})]})]}),u.jsxs("div",{className:"space-particles",children:[u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{})]})]}),u.jsxs("div",{className:"commander-info",children:[u.jsx("p",{className:"commander-title",children:"Commander Hilde"}),u.jsx("p",{className:"commander-subtitle",children:"Leading the mission to turn 5!"})]})]})}const ay=new Date("2026-02-08T10:00:00-05:00"),uy="Hudson River Museum",cy="Joyce Greene Education Center & Planetarium",Ta="511 Warburton Ave, Yonkers, NY 10701",dy="https://maps.google.com/?q=Hudson+River+Museum+511+Warburton+Ave+Yonkers+NY+10701",hy="https://kotharishalin-max.github.io/Hilde-5th-birthday/",fy="SPACE2026";function py(){const[t,e]=k.useState(n());function n(){const o=ay-new Date;return o<=0?{days:0,hours:0,minutes:0,seconds:0,expired:!0}:{days:Math.floor(o/(1e3*60*60*24)),hours:Math.floor(o/(1e3*60*60)%24),minutes:Math.floor(o/(1e3*60)%60),seconds:Math.floor(o/1e3%60),expired:!1}}function r(){return t.expired?"intensity-liftoff":t.days===0?"intensity-today":t.days<=1?"intensity-tomorrow":t.days<=7?"intensity-week":t.days<=14?"intensity-soon":""}if(k.useEffect(()=>{const i=setInterval(()=>{e(n())},1e3);return()=>clearInterval(i)},[]),t.expired)return u.jsxs("div",{className:"countdown countdown-expired intensity-liftoff",children:[u.jsx("span",{className:"countdown-title",children:" Liftoff! "}),u.jsx("p",{className:"countdown-subtitle",children:"The party is happening now!"})]});const s=r();return u.jsxs("div",{className:`countdown ${s}`,children:[u.jsx("span",{className:"countdown-title",children:"T-Minus"}),u.jsxs("div",{className:"countdown-units",children:[u.jsxs("div",{className:"countdown-unit",children:[u.jsx("span",{className:"countdown-number",children:t.days}),u.jsx("span",{className:"countdown-label",children:"days"})]}),u.jsxs("div",{className:"countdown-unit",children:[u.jsx("span",{className:"countdown-number",children:t.hours}),u.jsx("span",{className:"countdown-label",children:"hrs"})]}),u.jsxs("div",{className:"countdown-unit",children:[u.jsx("span",{className:"countdown-number",children:t.minutes}),u.jsx("span",{className:"countdown-label",children:"min"})]}),u.jsxs("div",{className:"countdown-unit",children:[u.jsx("span",{className:"countdown-number",children:t.seconds}),u.jsx("span",{className:"countdown-label",children:"sec"})]})]}),t.days<=7&&t.days>0&&u.jsx("p",{className:"countdown-urgency",children:t.days===1?"Tomorrow's the big day!":`Only ${t.days} days to go!`}),t.days===0&&!t.expired&&u.jsx("p",{className:"countdown-urgency countdown-today",children:"Today's the day! See you soon!"})]})}function my(){const t="Hilde's 5th Birthday - Space Mission!",e=`Join us for an out-of-this-world birthday celebration at the Hudson River Museum Planetarium!

10:00 AM - Party starts, creative activity
10:30 AM - Planetarium show (please arrive by 10!)
11:00 AM - Refreshments and cake
11:45 AM - Party concludes

RSVP & Details: ${hy}
Access Code: ${fy}

See you among the stars!`,n="20260208T150000Z",r="20260208T170000Z",s=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(t)}&dates=${n}/${r}&details=${encodeURIComponent(e)}&location=${encodeURIComponent(Ta)}`,i=e.replace(/\n/g,"\\n"),o=()=>{const l=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Hilde Birthday//EN
BEGIN:VEVENT
DTSTART:${n}
DTEND:${r}
SUMMARY:${t}
DESCRIPTION:${i}
LOCATION:${Ta}
END:VEVENT
END:VCALENDAR`,a=new Blob([l],{type:"text/calendar;charset=utf-8"}),c=document.createElement("a");c.href=URL.createObjectURL(a),c.download="hilde-birthday.ics",document.body.appendChild(c),c.click(),document.body.removeChild(c)};return u.jsxs("div",{className:"calendar-buttons",children:[u.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"calendar-btn google",children:[u.jsx("svg",{viewBox:"0 0 24 24",className:"calendar-icon",children:u.jsx("path",{fill:"currentColor",d:"M19,4H17V3a1,1,0,0,0-2,0V4H9V3A1,1,0,0,0,7,3V4H5A2,2,0,0,0,3,6V20a2,2,0,0,0,2,2H19a2,2,0,0,0,2-2V6A2,2,0,0,0,19,4Zm0,16H5V10H19ZM9,14H7V12H9Zm4,0H11V12h2Zm4,0H15V12h2Zm-8,4H7V16H9Zm4,0H11V16h2Zm4,0H15V16h2Z"})}),"Google Calendar"]}),u.jsxs("button",{onClick:o,className:"calendar-btn ics",children:[u.jsx("svg",{viewBox:"0 0 24 24",className:"calendar-icon",children:u.jsx("path",{fill:"currentColor",d:"M19,4H17V3a1,1,0,0,0-2,0V4H9V3A1,1,0,0,0,7,3V4H5A2,2,0,0,0,3,6V20a2,2,0,0,0,2,2H19a2,2,0,0,0,2-2V6A2,2,0,0,0,19,4Zm0,16H5V10H19ZM9,14H7V12H9Zm4,0H11V12h2Zm4,0H15V12h2Zm-8,4H7V16H9Zm4,0H11V16h2Zm4,0H15V16h2Z"})}),"Apple / Outlook"]})]})}function gy(){return u.jsxs("section",{className:"details",children:[u.jsx("h2",{children:"Mission Briefing"}),u.jsx(py,{}),u.jsxs("div",{className:"detail-cards",children:[u.jsxs("div",{className:"detail-card date-time-card",children:[u.jsx("span",{className:"icon",role:"img","aria-label":"rocket",children:""}),u.jsx("h3",{children:"Launch Date"}),u.jsx("p",{children:"Sunday, February 8th, 2026"}),u.jsx("p",{children:"Countdown Begins at 10:00 AM"})]}),u.jsxs("div",{className:"detail-card location-card",children:[u.jsx("span",{className:"icon",role:"img","aria-label":"location",children:""}),u.jsx("h3",{children:"Mission Control"}),u.jsx("p",{children:uy}),u.jsx("p",{className:"address",children:cy}),u.jsx("p",{className:"address",children:Ta}),u.jsxs("a",{href:dy,target:"_blank",rel:"noopener noreferrer",className:"maps-link",children:[u.jsx("svg",{viewBox:"0 0 24 24",className:"maps-icon",children:u.jsx("path",{fill:"currentColor",d:"M12,2C8.13,2,5,5.13,5,9c0,5.25,7,13,7,13s7-7.75,7-13C19,5.13,15.87,2,12,2zm0,9.5c-1.38,0-2.5-1.12-2.5-2.5s1.12-2.5,2.5-2.5s2.5,1.12,2.5,2.5S13.38,11.5,12,11.5z"})}),"Open in Maps"]})]}),u.jsxs("div",{className:"detail-card schedule-card",children:[u.jsx("span",{className:"icon",role:"img","aria-label":"clipboard",children:""}),u.jsx("h3",{children:"Flight Plan"}),u.jsxs("div",{className:"schedule-timeline",children:[u.jsxs("div",{className:"schedule-item",children:[u.jsx("span",{className:"schedule-time",children:"10:00 AM"}),u.jsx("span",{className:"schedule-desc",children:"Party starts, creative activity"})]}),u.jsxs("div",{className:"schedule-item highlight",children:[u.jsx("span",{className:"schedule-time",children:"10:30 AM"}),u.jsx("span",{className:"schedule-desc",children:"Planetarium show (late entry not allowed)"})]}),u.jsxs("div",{className:"schedule-item",children:[u.jsx("span",{className:"schedule-time",children:"11:00 AM"}),u.jsx("span",{className:"schedule-desc",children:"Refreshments & cake"})]}),u.jsxs("div",{className:"schedule-item",children:[u.jsx("span",{className:"schedule-time",children:"11:45 AM"}),u.jsx("span",{className:"schedule-desc",children:"Mission complete"})]})]})]})]}),u.jsx(my,{})]})}var Fd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E=function(t,e){if(!t)throw Nr(e)},Nr=function(t){return new Error("Firebase Database ("+Kp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},_y=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],a=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},$u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,a=s+2<t.length,c=a?t[s+2]:0,h=i>>2,d=(i&3)<<4|l>>4;let f=(l&15)<<2|c>>6,_=c&63;a||(_=64,o||(f=64)),r.push(n[h],n[d],n[f],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qp(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_y(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||c==null||d==null)throw new vy;const f=i<<2|l>>4;if(r.push(f),c!==64){const _=l<<4&240|c>>2;if(r.push(_),d!==64){const v=c<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xp=function(t){const e=qp(t);return $u.encodeByteArray(e,!0)},to=function(t){return Xp(t).replace(/\./g,"")},Ia=function(t){try{return $u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t){return Zp(void 0,t)}function Zp(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!wy(n)||(t[n]=Zp(t[n],e[n]));return t}function wy(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=()=>Cy().__FIREBASE_DEFAULTS__,Sy=()=>{if(typeof process>"u"||typeof Fd>"u")return;const t=Fd.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xy=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ia(t[1]);return e&&JSON.parse(e)},Jp=()=>{try{return Ey()||Sy()||xy()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ny=t=>{var e,n;return(n=(e=Jp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ky=t=>{const e=Ny(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},em=()=>{var t;return(t=Jp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[to(JSON.stringify(n)),to(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Iy())}function Ry(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Py(){return Kp.NODE_ADMIN===!0}function Ay(){try{return typeof indexedDB=="object"}catch{return!1}}function jy(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="FirebaseError";class Us extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=My,Object.setPrototypeOf(this,Us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nm.prototype.create)}}class nm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Dy(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Us(s,l,r)}}function Dy(t,e){return t.replace(Ly,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Ly=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(t){return JSON.parse(t)}function fe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=Ss(Ia(i[0])||""),n=Ss(Ia(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},Oy=function(t){const e=rm(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},by=function(t){const e=rm(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _r(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function zd(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function no(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Ra(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Bd(i)&&Bd(o)){if(!Ra(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Bd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],c,h;for(let d=0;d<80;d++){d<40?d<20?(c=l^i&(o^l),h=1518500249):(c=i^o^l,h=1859775393):d<60?(c=i&o|l&(i|o),h=2400959708):(c=i^o^l,h=3395469782);const f=(s<<5|s>>>27)+c+a+h+r[d]&4294967295;a=l,l=o,o=(i<<30|i>>>2)&4294967295,i=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function Oo(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,E(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},bo=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t){return t&&t._delegate?t._delegate:t}class xs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Bs;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Hy(e))try{this.getOrInitializeService({instanceIdentifier:wn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=wn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wn){return this.instances.has(e)}getOptions(e=wn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Vy(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wn){return this.component?this.component.multipleInstances?e:wn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Vy(t){return t===wn?void 0:t}function Hy(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Uy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Q||(Q={}));const Wy={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},Gy=Q.INFO,Yy={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},Qy=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Yy[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sm{constructor(e){this.name=e,this._logLevel=Gy,this._logHandler=Qy,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wy[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...e),this._logHandler(this,Q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...e),this._logHandler(this,Q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...e),this._logHandler(this,Q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...e),this._logHandler(this,Q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...e),this._logHandler(this,Q.ERROR,...e)}}const Ky=(t,e)=>e.some(n=>t instanceof n);let Ud,Vd;function qy(){return Ud||(Ud=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xy(){return Vd||(Vd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const im=new WeakMap,Pa=new WeakMap,om=new WeakMap,El=new WeakMap,Wu=new WeakMap;function Zy(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(rn(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&im.set(n,t)}).catch(()=>{}),Wu.set(e,t),e}function Jy(t){if(Pa.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Pa.set(t,e)}let Aa={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pa.get(t);if(e==="objectStoreNames")return t.objectStoreNames||om.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function e0(t){Aa=t(Aa)}function t0(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Sl(this),e,...n);return om.set(r,e.sort?e.sort():[e]),rn(r)}:Xy().includes(t)?function(...e){return t.apply(Sl(this),e),rn(im.get(this))}:function(...e){return rn(t.apply(Sl(this),e))}}function n0(t){return typeof t=="function"?t0(t):(t instanceof IDBTransaction&&Jy(t),Ky(t,qy())?new Proxy(t,Aa):t)}function rn(t){if(t instanceof IDBRequest)return Zy(t);if(El.has(t))return El.get(t);const e=n0(t);return e!==t&&(El.set(t,e),Wu.set(e,t)),e}const Sl=t=>Wu.get(t);function r0(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=rn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(rn(o.result),a.oldVersion,a.newVersion,rn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{i&&a.addEventListener("close",()=>i()),s&&a.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const s0=["get","getKey","getAll","getAllKeys","count"],i0=["put","add","delete","clear"],xl=new Map;function Hd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xl.get(e))return xl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=i0.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||s0.includes(n)))return;const i=async function(o,...l){const a=this.transaction(o,s?"readwrite":"readonly");let c=a.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&a.done]))[0]};return xl.set(e,i),i}e0(t=>({...t,get:(e,n,r)=>Hd(e,n)||t.get(e,n,r),has:(e,n)=>!!Hd(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(l0(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function l0(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ja="@firebase/app",$d="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt=new sm("@firebase/app"),a0="@firebase/app-compat",u0="@firebase/analytics-compat",c0="@firebase/analytics",d0="@firebase/app-check-compat",h0="@firebase/app-check",f0="@firebase/auth",p0="@firebase/auth-compat",m0="@firebase/database",g0="@firebase/data-connect",_0="@firebase/database-compat",v0="@firebase/functions",y0="@firebase/functions-compat",w0="@firebase/installations",C0="@firebase/installations-compat",E0="@firebase/messaging",S0="@firebase/messaging-compat",x0="@firebase/performance",N0="@firebase/performance-compat",k0="@firebase/remote-config",T0="@firebase/remote-config-compat",I0="@firebase/storage",R0="@firebase/storage-compat",P0="@firebase/firestore",A0="@firebase/vertexai-preview",j0="@firebase/firestore-compat",M0="firebase",D0="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="[DEFAULT]",L0={[ja]:"fire-core",[a0]:"fire-core-compat",[c0]:"fire-analytics",[u0]:"fire-analytics-compat",[h0]:"fire-app-check",[d0]:"fire-app-check-compat",[f0]:"fire-auth",[p0]:"fire-auth-compat",[m0]:"fire-rtdb",[g0]:"fire-data-connect",[_0]:"fire-rtdb-compat",[v0]:"fire-fn",[y0]:"fire-fn-compat",[w0]:"fire-iid",[C0]:"fire-iid-compat",[E0]:"fire-fcm",[S0]:"fire-fcm-compat",[x0]:"fire-perf",[N0]:"fire-perf-compat",[k0]:"fire-rc",[T0]:"fire-rc-compat",[I0]:"fire-gcs",[R0]:"fire-gcs-compat",[P0]:"fire-fst",[j0]:"fire-fst-compat",[A0]:"fire-vertex","fire-js":"fire-js",[M0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=new Map,O0=new Map,Da=new Map;function Wd(t,e){try{t.container.addComponent(e)}catch(n){bt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function so(t){const e=t.name;if(Da.has(e))return bt.debug(`There were multiple attempts to register component ${e}.`),!1;Da.set(e,t);for(const n of ro.values())Wd(n,t);for(const n of O0.values())Wd(n,t);return!0}function b0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sn=new nm("app","Firebase",F0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=D0;function lm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ma,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw sn.create("bad-app-name",{appName:String(s)});if(n||(n=em()),!n)throw sn.create("no-options");const i=ro.get(s);if(i){if(Ra(n,i.options)&&Ra(r,i.config))return i;throw sn.create("duplicate-app",{appName:s})}const o=new $y(s);for(const a of Da.values())o.addComponent(a);const l=new z0(n,r,o);return ro.set(s,l),l}function U0(t=Ma){const e=ro.get(t);if(!e&&t===Ma&&em())return lm();if(!e)throw sn.create("no-app",{appName:t});return e}function ar(t,e,n){var r;let s=(r=L0[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bt.warn(l.join(" "));return}so(new xs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="firebase-heartbeat-database",H0=1,Ns="firebase-heartbeat-store";let Nl=null;function am(){return Nl||(Nl=r0(V0,H0,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ns)}catch(n){console.warn(n)}}}}).catch(t=>{throw sn.create("idb-open",{originalErrorMessage:t.message})})),Nl}async function $0(t){try{const n=(await am()).transaction(Ns),r=await n.objectStore(Ns).get(um(t));return await n.done,r}catch(e){if(e instanceof Us)bt.warn(e.message);else{const n=sn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bt.warn(n.message)}}}async function Gd(t,e){try{const r=(await am()).transaction(Ns,"readwrite");await r.objectStore(Ns).put(e,um(t)),await r.done}catch(n){if(n instanceof Us)bt.warn(n.message);else{const r=sn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bt.warn(r.message)}}}function um(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=1024,G0=30*24*60*60*1e3;class Y0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new K0(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Yd();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=G0}),this._storage.overwrite(this._heartbeatsCache))}catch(r){bt.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yd(),{heartbeatsToSend:r,unsentEntries:s}=Q0(this._heartbeatsCache.heartbeats),i=to(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return bt.warn(n),""}}}function Yd(){return new Date().toISOString().substring(0,10)}function Q0(t,e=W0){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Qd(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Qd(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class K0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ay()?jy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $0(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Gd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Gd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Qd(t){return to(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(t){so(new xs("platform-logger",e=>new o0(e),"PRIVATE")),so(new xs("heartbeat",e=>new Y0(e),"PRIVATE")),ar(ja,$d,t),ar(ja,$d,"esm2017"),ar("fire-js","")}q0("");var Kd={};const qd="@firebase/database",Xd="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cm="";function X0(t){cm=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),fe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ss(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return St(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Z0(e)}}catch{}return new J0},Nn=dm("localStorage"),ew=dm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new sm("@firebase/database"),tw=function(){let t=1;return function(){return t++}}(),hm=function(t){const e=By(t),n=new zy;n.update(e);const r=n.digest();return $u.encodeByteArray(r)},Vs=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Vs.apply(null,r):typeof r=="object"?e+=fe(r):e+=r,e+=" "}return e};let ts=null,Zd=!0;const nw=function(t,e){E(!0,"Can't turn on custom loggers persistently."),ur.logLevel=Q.VERBOSE,ts=ur.log.bind(ur)},we=function(...t){if(Zd===!0&&(Zd=!1,ts===null&&ew.get("logging_enabled")===!0&&nw()),ts){const e=Vs.apply(null,t);ts(e)}},Hs=function(t){return function(...e){we(t,...e)}},La=function(...t){const e="FIREBASE INTERNAL ERROR: "+Vs(...t);ur.error(e)},Ft=function(...t){const e=`FIREBASE FATAL ERROR: ${Vs(...t)}`;throw ur.error(e),new Error(e)},De=function(...t){const e="FIREBASE WARNING: "+Vs(...t);ur.warn(e)},rw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&De("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Gu=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},sw=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Dn="[MIN_NAME]",cn="[MAX_NAME]",zn=function(t,e){if(t===e)return 0;if(t===Dn||e===cn)return-1;if(e===Dn||t===cn)return 1;{const n=Jd(t),r=Jd(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},iw=function(t,e){return t===e?0:t<e?-1:1},Fr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+fe(e))},Yu=function(t){if(typeof t!="object"||t===null)return fe(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=fe(e[r]),n+=":",n+=Yu(t[e[r]]);return n+="}",n},fm=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function xe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const pm=function(t){E(!Gu(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,l,a;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(a=n;a;a-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const h=c.join("");let d="";for(a=0;a<64;a+=8){let f=parseInt(h.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},ow=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},lw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function aw(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const uw=new RegExp("^-?(0*)\\d{1,10}$"),cw=-2147483648,dw=2147483647,Jd=function(t){if(uw.test(t)){const e=Number(t);if(e>=cw&&e<=dw)return e}return null},kr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw De("Exception was thrown by user callback.",n),e},Math.floor(0))}},hw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ns=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){De(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(we("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',De(e)}}class Pi{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Pi.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu="5",mm="v",gm="s",_m="r",vm="f",ym=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wm="ls",Cm="p",Oa="ac",Em="websocket",Sm="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n,r,s,i=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Nn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Nn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function mw(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Nm(t,e,n){E(typeof e=="string","typeof type must == string"),E(typeof n=="object","typeof params must == object");let r;if(e===Em)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Sm)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);mw(t)&&(n.ns=t.namespace);const s=[];return xe(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this.counters_={}}incrementCounter(e,n=1){St(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return yy(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl={},Tl={};function Ku(t){const e=t.toString();return kl[e]||(kl[e]=new gw),kl[e]}function _w(t,e){const n=t.toString();return Tl[n]||(Tl[n]=e()),Tl[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&kr(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="start",yw="close",ww="pLPCommand",Cw="pRTLPCB",km="id",Tm="pw",Im="ser",Ew="cb",Sw="seg",xw="ts",Nw="d",kw="dframe",Rm=1870,Pm=30,Tw=Rm-Pm,Iw=25e3,Rw=3e4;class tr{constructor(e,n,r,s,i,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Hs(e),this.stats_=Ku(n),this.urlFn=a=>(this.appCheckToken&&(a[Oa]=this.appCheckToken),Nm(n,Sm,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new vw(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Rw)),sw(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qu((...i)=>{const[o,l,a,c,h]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===eh)this.id=l,this.password=a;else if(o===yw)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,l]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[eh]="t",r[Im]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Ew]=this.scriptTagHolder.uniqueCallbackIdentifier),r[mm]=Qu,this.transportSessionId&&(r[gm]=this.transportSessionId),this.lastSessionId&&(r[wm]=this.lastSessionId),this.applicationId&&(r[Cm]=this.applicationId),this.appCheckToken&&(r[Oa]=this.appCheckToken),typeof location<"u"&&location.hostname&&ym.test(location.hostname)&&(r[_m]=vm);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){tr.forceAllow_=!0}static forceDisallow(){tr.forceDisallow_=!0}static isAvailable(){return tr.forceAllow_?!0:!tr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ow()&&!lw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=fe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Xp(n),s=fm(r,Tw);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[kw]="t",r[km]=e,r[Tm]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=fe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class qu{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=tw(),window[ww+this.uniqueCallbackIdentifier]=e,window[Cw+this.uniqueCallbackIdentifier]=n,this.myIFrame=qu.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){we("frame writing exception"),l.stack&&we(l.stack),we(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||we("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[km]=this.myID,e[Tm]=this.myPW,e[Im]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Pm+r.length<=Rm;){const o=this.pendingSegs.shift();r=r+"&"+Sw+s+"="+o.seg+"&"+xw+s+"="+o.ts+"&"+Nw+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(Iw)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{we("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=16384,Aw=45e3;let io=null;typeof MozWebSocket<"u"?io=MozWebSocket:typeof WebSocket<"u"&&(io=WebSocket);class ut{constructor(e,n,r,s,i,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Hs(this.connId),this.stats_=Ku(n),this.connURL=ut.connectionURL_(n,o,l,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[mm]=Qu,typeof location<"u"&&location.hostname&&ym.test(location.hostname)&&(o[_m]=vm),n&&(o[gm]=n),r&&(o[wm]=r),s&&(o[Oa]=s),i&&(o[Cm]=i),Nm(e,Em,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Nn.set("previous_websocket_failure",!0);try{let r;Py(),this.mySock=new io(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){ut.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&io!==null&&!ut.forceDisallow_}static previouslyFailed(){return Nn.isInMemoryStorage||Nn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Nn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ss(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(E(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=fe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=fm(n,Pw);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Aw))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ut.responsesRequiredToBeHealthy=2;ut.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[tr,ut]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ut&&ut.isAvailable();let r=n&&!ut.previouslyFailed();if(e.webSocketOnly&&(n||De("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ut];else{const s=this.transports_=[];for(const i of ks.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);ks.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ks.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=6e4,Mw=5e3,Dw=10*1024,Lw=100*1024,Il="t",th="d",Ow="s",nh="r",bw="e",rh="o",sh="a",ih="n",oh="p",Fw="h";class zw{constructor(e,n,r,s,i,o,l,a,c,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Hs("c:"+this.id+":"),this.transportManager_=new ks(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=ns(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Lw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Dw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Il in e){const n=e[Il];n===sh?this.upgradeIfSecondaryHealthy_():n===nh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===rh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Fr("t",e),r=Fr("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:oh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:sh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ih,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Fr("t",e),r=Fr("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Fr(Il,e);if(th in e){const r=e[th];if(n===Fw){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===ih){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Ow?this.onConnectionShutdown_(r):n===nh?this.onReset_(r):n===bw?La("Server Error: "+r):n===rh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):La("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Qu!==r&&De("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ns(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(jw))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ns(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Mw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:oh,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Nn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e){this.allowedEvents_=e,this.listeners_={},E(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){E(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends jm{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!tm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new oo}getInitialEvent(e){return E(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=32,ah=768;class G{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function H(){return new G("")}function b(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function dn(t){return t.pieces_.length-t.pieceNum_}function K(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new G(t.pieces_,e)}function Xu(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Bw(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ts(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Mm(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new G(e,0)}function le(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof G)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new G(n,0)}function F(t){return t.pieceNum_>=t.pieces_.length}function je(t,e){const n=b(t),r=b(e);if(n===null)return e;if(n===r)return je(K(t),K(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Uw(t,e){const n=Ts(t,0),r=Ts(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=zn(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function Zu(t,e){if(dn(t)!==dn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function et(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(dn(t)>dn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Vw{constructor(e,n){this.errorPrefix_=n,this.parts_=Ts(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=bo(this.parts_[r]);Dm(this)}}function Hw(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=bo(e),Dm(t)}function $w(t){const e=t.parts_.pop();t.byteLength_-=bo(e),t.parts_.length>0&&(t.byteLength_-=1)}function Dm(t){if(t.byteLength_>ah)throw new Error(t.errorPrefix_+"has a key path longer than "+ah+" bytes ("+t.byteLength_+").");if(t.parts_.length>lh)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+lh+") or object contains a cycle "+Cn(t))}function Cn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends jm{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Ju}getInitialEvent(e){return E(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=1e3,Ww=60*5*1e3,uh=30*1e3,Gw=1.3,Yw=3e4,Qw="server_kill",ch=3;class jt extends Am{constructor(e,n,r,s,i,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=jt.nextPersistentConnectionId_++,this.log_=Hs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=zr,this.maxReconnectDelay_=Ww,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ju.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&oo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(fe(i)),E(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Bs,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),E(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),E(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,l=>{const a=l.d,c=l.s;jt.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&St(e,"w")){const r=_r(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();De(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||by(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=uh)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Oy(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),E(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+fe(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):La("Unrecognized action received from server: "+fe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){E(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=zr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Yw&&(this.reconnectDelay_=zr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Gw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+jt.nextConnectionId_++,i=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},c=function(d){E(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:c};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?we("getToken() completed but was canceled"):(we("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,l=new zw(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,_=>{De(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(Qw)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&De(d),a())}}}interrupt(e){we("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){we("Resuming connection for reason: "+e),delete this.interruptReasons_[e],zd(this.interruptReasons_)&&(this.reconnectDelay_=zr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Yu(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new G(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){we("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ch&&(this.reconnectDelay_=uh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){we("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ch&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+cm.replace(/\./g,"-")]=1,tm()?e["framework.cordova"]=1:Ry()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=oo.getInstance().currentlyOnline();return zd(this.interruptReasons_)&&e}}jt.nextPersistentConnectionId_=0;jt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new z(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new z(Dn,e),s=new z(Dn,n);return this.compare(r,s)!==0}minPost(){return z.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pi;class Lm extends Fo{static get __EMPTY_NODE(){return pi}static set __EMPTY_NODE(e){pi=e}compare(e,n){return zn(e.name,n.name)}isDefinedOn(e){throw Nr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return z.MIN}maxPost(){return new z(cn,pi)}makePost(e,n){return E(typeof e=="string","KeyIndex indexValue must always be a string."),new z(e,pi)}toString(){return".key"}}const In=new Lm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class _e{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??_e.RED,this.left=s??ze.EMPTY_NODE,this.right=i??ze.EMPTY_NODE}copy(e,n,r,s,i){return new _e(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ze.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ze.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,_e.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,_e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}_e.RED=!0;_e.BLACK=!1;class Kw{copy(e,n,r,s,i){return this}insert(e,n,r){return new _e(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ze{constructor(e,n=ze.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ze(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,_e.BLACK,null,null))}remove(e){return new ze(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,_e.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new mi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new mi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new mi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new mi(this.root_,null,this.comparator_,!0,e)}}ze.EMPTY_NODE=new Kw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t,e){return zn(t.name,e.name)}function ec(t,e){return zn(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba;function Xw(t){ba=t}const Om=function(t){return typeof t=="number"?"number:"+pm(t):"string:"+t},bm=function(t){if(t.isLeafNode()){const e=t.val();E(typeof e=="string"||typeof e=="number"||typeof e=="object"&&St(e,".sv"),"Priority must be a string or number.")}else E(t===ba||t.isEmpty(),"priority of unexpected type.");E(t===ba||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh;class me{constructor(e,n=me.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,E(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),bm(this.priorityNode_)}static set __childrenNodeConstructor(e){dh=e}static get __childrenNodeConstructor(){return dh}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new me(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:me.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return F(e)?this:b(e)===".priority"?this.priorityNode_:me.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:me.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=b(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(E(r!==".priority"||dn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,me.__childrenNodeConstructor.EMPTY_NODE.updateChild(K(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Om(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=pm(this.value_):e+=this.value_,this.lazyHash_=hm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===me.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof me.__childrenNodeConstructor?-1:(E(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=me.VALUE_TYPE_ORDER.indexOf(n),i=me.VALUE_TYPE_ORDER.indexOf(r);return E(s>=0,"Unknown leaf type: "+n),E(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}me.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fm,zm;function Zw(t){Fm=t}function Jw(t){zm=t}class eC extends Fo{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?zn(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return z.MIN}maxPost(){return new z(cn,new me("[PRIORITY-POST]",zm))}makePost(e,n){const r=Fm(e);return new z(n,new me("[PRIORITY-POST]",r))}toString(){return".priority"}}const re=new eC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=Math.log(2);class nC{constructor(e){const n=i=>parseInt(Math.log(i)/tC,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const lo=function(t,e,n,r){t.sort(e);const s=function(a,c){const h=c-a;let d,f;if(h===0)return null;if(h===1)return d=t[a],f=n?n(d):d,new _e(f,d.node,_e.BLACK,null,null);{const _=parseInt(h/2,10)+a,v=s(a,_),y=s(_+1,c);return d=t[_],f=n?n(d):d,new _e(f,d.node,_e.BLACK,v,y)}},i=function(a){let c=null,h=null,d=t.length;const f=function(v,y){const j=d-v,m=d;d-=v;const p=s(j+1,m),g=t[j],w=n?n(g):g;_(new _e(w,g.node,y,null,p))},_=function(v){c?(c.left=v,c=v):(h=v,c=v)};for(let v=0;v<a.count;++v){const y=a.nextBitIsOne(),j=Math.pow(2,a.count-(v+1));y?f(j,_e.BLACK):(f(j,_e.BLACK),f(j,_e.RED))}return h},o=new nC(t.length),l=i(o);return new ze(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl;const Vn={};class Pt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return E(Vn&&re,"ChildrenNode.ts has not been loaded"),Rl=Rl||new Pt({".priority":Vn},{".priority":re}),Rl}get(e){const n=_r(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ze?n:null}hasIndex(e){return St(this.indexSet_,e.toString())}addIndex(e,n){E(e!==In,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(z.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let l;s?l=lo(r,e.getCompare()):l=Vn;const a=e.toString(),c=Object.assign({},this.indexSet_);c[a]=e;const h=Object.assign({},this.indexes_);return h[a]=l,new Pt(h,c)}addToIndexes(e,n){const r=no(this.indexes_,(s,i)=>{const o=_r(this.indexSet_,i);if(E(o,"Missing index implementation for "+i),s===Vn)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(z.Wrap);let c=a.getNext();for(;c;)c.name!==e.name&&l.push(c),c=a.getNext();return l.push(e),lo(l,o.getCompare())}else return Vn;else{const l=n.get(e.name);let a=s;return l&&(a=a.remove(new z(e.name,l))),a.insert(e,e.node)}});return new Pt(r,this.indexSet_)}removeFromIndexes(e,n){const r=no(this.indexes_,s=>{if(s===Vn)return s;{const i=n.get(e.name);return i?s.remove(new z(e.name,i)):s}});return new Pt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Br;class D{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&bm(this.priorityNode_),this.children_.isEmpty()&&E(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Br||(Br=new D(new ze(ec),null,Pt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Br}updatePriority(e){return this.children_.isEmpty()?this:new D(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Br:n}}getChild(e){const n=b(e);return n===null?this:this.getImmediateChild(n).getChild(K(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(E(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new z(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Br:this.priorityNode_;return new D(s,o,i)}}updateChild(e,n){const r=b(e);if(r===null)return n;{E(b(e)!==".priority"||dn(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(K(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(re,(o,l)=>{n[o]=l.val(e),r++,i&&D.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Om(this.getPriority().val())+":"),this.forEachChild(re,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":hm(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new z(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new z(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new z(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,z.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,z.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===$s?-1:0}withIndex(e){if(e===In||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new D(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===In||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(re),s=n.getIterator(re);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===In?null:this.indexMap_.get(e.toString())}}D.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class rC extends D{constructor(){super(new ze(ec),D.EMPTY_NODE,Pt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return D.EMPTY_NODE}isEmpty(){return!1}}const $s=new rC;Object.defineProperties(z,{MIN:{value:new z(Dn,D.EMPTY_NODE)},MAX:{value:new z(cn,$s)}});Lm.__EMPTY_NODE=D.EMPTY_NODE;me.__childrenNodeConstructor=D;Xw($s);Jw($s);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=!0;function he(t,e=null){if(t===null)return D.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),E(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new me(n,he(e))}if(!(t instanceof Array)&&sC){const n=[];let r=!1;if(xe(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=he(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new z(o,a)))}}),n.length===0)return D.EMPTY_NODE;const i=lo(n,qw,o=>o.name,ec);if(r){const o=lo(n,re.getCompare());return new D(i,he(e),new Pt({".priority":o},{".priority":re}))}else return new D(i,he(e),Pt.Default)}else{let n=D.EMPTY_NODE;return xe(t,(r,s)=>{if(St(t,r)&&r.substring(0,1)!=="."){const i=he(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(he(e))}}Zw(he);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends Fo{constructor(e){super(),this.indexPath_=e,E(!F(e)&&b(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?zn(e.name,n.name):i}makePost(e,n){const r=he(e),s=D.EMPTY_NODE.updateChild(this.indexPath_,r);return new z(n,s)}maxPost(){const e=D.EMPTY_NODE.updateChild(this.indexPath_,$s);return new z(cn,e)}toString(){return Ts(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC extends Fo{compare(e,n){const r=e.node.compareTo(n.node);return r===0?zn(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return z.MIN}maxPost(){return z.MAX}makePost(e,n){const r=he(e);return new z(n,r)}toString(){return".value"}}const Bm=new iC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t){return{type:"value",snapshotNode:t}}function vr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Is(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Rs(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function oC(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){E(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(r.getChild(s))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Is(n,l)):E(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(vr(n,r)):o.trackChildChange(Rs(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(re,(s,i)=>{n.hasChild(s)||r.trackChildChange(Is(s,i))}),n.isLeafNode()||n.forEachChild(re,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(Rs(s,i,o))}else r.trackChildChange(vr(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?D.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.indexedFilter_=new nc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ps.getStartPost_(e),this.endPost_=Ps.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new z(n,r))||(r=D.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=D.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(D.EMPTY_NODE);const i=this;return n.forEachChild(re,(o,l)=>{i.matches(new z(o,l))||(s=s.updateImmediateChild(o,D.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ps(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new z(n,r))||(r=D.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=D.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=D.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const l=i.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(D.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const l=i.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:s=s.updateImmediateChild(l.name,D.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,_)=>d(_,f)}else o=this.index_.getCompare();const l=e;E(l.numChildren()===this.limit_,"");const a=new z(n,r),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(a);if(l.hasChild(n)){const d=l.getImmediateChild(n);let f=s.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=s.getChildAfterChild(this.index_,f,this.reverse_);const _=f==null?1:o(f,a);if(h&&!r.isEmpty()&&_>=0)return i!=null&&i.trackChildChange(Rs(n,r,d)),l.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(Is(n,d));const y=l.updateImmediateChild(n,D.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(i!=null&&i.trackChildChange(vr(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?e:h&&o(c,a)>=0?(i!=null&&(i.trackChildChange(Is(c.name,c.node)),i.trackChildChange(vr(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(c.name,D.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=re}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return E(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return E(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Dn}hasEnd(){return this.endSet_}getIndexEndValue(){return E(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return E(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:cn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return E(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===re}copy(){const e=new rc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function aC(t){return t.loadsAllData()?new nc(t.getIndex()):t.hasLimit()?new lC(t):new Ps(t)}function uC(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function cC(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function dC(t,e){const n=t.copy();return n.index_=e,n}function hh(t){const e={};if(t.isDefault())return e;let n;if(t.index_===re?n="$priority":t.index_===Bm?n="$value":t.index_===In?n="$key":(E(t.index_ instanceof tc,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=fe(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=fe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+fe(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=fe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+fe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function fh(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==re&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Am{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Hs("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(E(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=ao.getListenId_(e,r),l={};this.listens_[o]=l;const a=hh(e._queryParams);this.restRequest_(i+".json",a,(c,h)=>{let d=h;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,r),_r(this.listens_,o)===l){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const r=ao.getListenId_(e,n);delete this.listens_[r]}get(e){const n=hh(e._queryParams),r=e._path.toString(),s=new Bs;return this.restRequest_(r+".json",n,(i,o)=>{let l=o;i===404&&(l=null,i=null),i===null?(this.onDataUpdate_(r,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Fy(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Ss(l.responseText)}catch{De("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&De("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.rootNode_=D.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(){return{value:null,children:new Map}}function Vm(t,e,n){if(F(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=b(e);t.children.has(r)||t.children.set(r,uo());const s=t.children.get(r);e=K(e),Vm(s,e,n)}}function Fa(t,e,n){t.value!==null?n(e,t.value):fC(t,(r,s)=>{const i=new G(e.toString()+"/"+r);Fa(s,i,n)})}function fC(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&xe(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=10*1e3,mC=30*1e3,gC=5*60*1e3;class _C{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new pC(e);const r=ph+(mC-ph)*Math.random();ns(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;xe(e,(s,i)=>{i>0&&St(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),ns(this.reportStats_.bind(this),Math.floor(Math.random()*2*gC))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ct||(ct={}));function sc(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ic(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function oc(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ct.ACK_USER_WRITE,this.source=sc()}operationForChild(e){if(F(this.path)){if(this.affectedTree.value!=null)return E(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new G(e));return new co(H(),n,this.revert)}}else return E(b(this.path)===e,"operationForChild called for unrelated child."),new co(K(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){this.source=e,this.path=n,this.type=ct.LISTEN_COMPLETE}operationForChild(e){return F(this.path)?new As(this.source,H()):new As(this.source,K(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ct.OVERWRITE}operationForChild(e){return F(this.path)?new Ln(this.source,H(),this.snap.getImmediateChild(e)):new Ln(this.source,K(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ct.MERGE}operationForChild(e){if(F(this.path)){const n=this.children.subtree(new G(e));return n.isEmpty()?null:n.value?new Ln(this.source,H(),n.value):new yr(this.source,H(),n)}else return E(b(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new yr(this.source,K(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(F(e))return this.isFullyInitialized()&&!this.filtered_;const n=b(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function yC(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(oC(o.childName,o.snapshotNode))}),Ur(t,s,"child_removed",e,r,n),Ur(t,s,"child_added",e,r,n),Ur(t,s,"child_moved",i,r,n),Ur(t,s,"child_changed",e,r,n),Ur(t,s,"value",e,r,n),s}function Ur(t,e,n,r,s,i){const o=r.filter(l=>l.type===n);o.sort((l,a)=>CC(t,l,a)),o.forEach(l=>{const a=wC(t,l,i);s.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(a,t.query_))})})}function wC(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function CC(t,e,n){if(e.childName==null||n.childName==null)throw Nr("Should only compare child_ events.");const r=new z(e.childName,e.snapshotNode),s=new z(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(t,e){return{eventCache:t,serverCache:e}}function rs(t,e,n,r){return zo(new hn(e,n,r),t.serverCache)}function Hm(t,e,n,r){return zo(t.eventCache,new hn(e,n,r))}function ho(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function On(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl;const EC=()=>(Pl||(Pl=new ze(iw)),Pl);class Y{constructor(e,n=EC()){this.value=e,this.children=n}static fromObject(e){let n=new Y(null);return xe(e,(r,s)=>{n=n.set(new G(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:H(),value:this.value};if(F(e))return null;{const r=b(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(K(e),n);return i!=null?{path:le(new G(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(F(e))return this;{const n=b(e),r=this.children.get(n);return r!==null?r.subtree(K(e)):new Y(null)}}set(e,n){if(F(e))return new Y(n,this.children);{const r=b(e),i=(this.children.get(r)||new Y(null)).set(K(e),n),o=this.children.insert(r,i);return new Y(this.value,o)}}remove(e){if(F(e))return this.children.isEmpty()?new Y(null):new Y(null,this.children);{const n=b(e),r=this.children.get(n);if(r){const s=r.remove(K(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new Y(null):new Y(this.value,i)}else return this}}get(e){if(F(e))return this.value;{const n=b(e),r=this.children.get(n);return r?r.get(K(e)):null}}setTree(e,n){if(F(e))return n;{const r=b(e),i=(this.children.get(r)||new Y(null)).setTree(K(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new Y(this.value,o)}}fold(e){return this.fold_(H(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(le(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,H(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(F(e))return null;{const i=b(e),o=this.children.get(i);return o?o.findOnPath_(K(e),le(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,H(),n)}foreachOnPath_(e,n,r){if(F(e))return this;{this.value&&r(n,this.value);const s=b(e),i=this.children.get(s);return i?i.foreachOnPath_(K(e),le(n,s),r):new Y(null)}}foreach(e){this.foreach_(H(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(le(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.writeTree_=e}static empty(){return new mt(new Y(null))}}function ss(t,e,n){if(F(e))return new mt(new Y(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=je(s,e);return i=i.updateChild(o,n),new mt(t.writeTree_.set(s,i))}else{const s=new Y(n),i=t.writeTree_.setTree(e,s);return new mt(i)}}}function za(t,e,n){let r=t;return xe(n,(s,i)=>{r=ss(r,le(e,s),i)}),r}function mh(t,e){if(F(e))return mt.empty();{const n=t.writeTree_.setTree(e,new Y(null));return new mt(n)}}function Ba(t,e){return Bn(t,e)!=null}function Bn(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(je(n.path,e)):null}function gh(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(re,(r,s)=>{e.push(new z(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new z(r,s.value))}),e}function on(t,e){if(F(e))return t;{const n=Bn(t,e);return n!=null?new mt(new Y(n)):new mt(t.writeTree_.subtree(e))}}function Ua(t){return t.writeTree_.isEmpty()}function wr(t,e){return $m(H(),t.writeTree_,e)}function $m(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(E(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=$m(le(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(le(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(t,e){return Qm(e,t)}function SC(t,e,n,r,s){E(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=ss(t.visibleWrites,e,n)),t.lastWriteId=r}function xC(t,e,n,r){E(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=za(t.visibleWrites,e,n),t.lastWriteId=r}function NC(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function kC(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);E(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&TC(l,r.path)?s=!1:et(r.path,l.path)&&(i=!0)),o--}if(s){if(i)return IC(t),!0;if(r.snap)t.visibleWrites=mh(t.visibleWrites,r.path);else{const l=r.children;xe(l,a=>{t.visibleWrites=mh(t.visibleWrites,le(r.path,a))})}return!0}else return!1}function TC(t,e){if(t.snap)return et(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&et(le(t.path,n),e))return!0;return!1}function IC(t){t.visibleWrites=Wm(t.allWrites,RC,H()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function RC(t){return t.visible}function Wm(t,e,n){let r=mt.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let l;if(i.snap)et(n,o)?(l=je(n,o),r=ss(r,l,i.snap)):et(o,n)&&(l=je(o,n),r=ss(r,H(),i.snap.getChild(l)));else if(i.children){if(et(n,o))l=je(n,o),r=za(r,l,i.children);else if(et(o,n))if(l=je(o,n),F(l))r=za(r,H(),i.children);else{const a=_r(i.children,b(l));if(a){const c=a.getChild(K(l));r=ss(r,H(),c)}}}else throw Nr("WriteRecord should have .snap or .children")}}return r}function Gm(t,e,n,r,s){if(!r&&!s){const i=Bn(t.visibleWrites,e);if(i!=null)return i;{const o=on(t.visibleWrites,e);if(Ua(o))return n;if(n==null&&!Ba(o,H()))return null;{const l=n||D.EMPTY_NODE;return wr(o,l)}}}else{const i=on(t.visibleWrites,e);if(!s&&Ua(i))return n;if(!s&&n==null&&!Ba(i,H()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(et(c.path,e)||et(e,c.path))},l=Wm(t.allWrites,o,e),a=n||D.EMPTY_NODE;return wr(l,a)}}}function PC(t,e,n){let r=D.EMPTY_NODE;const s=Bn(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(re,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=on(t.visibleWrites,e);return n.forEachChild(re,(o,l)=>{const a=wr(on(i,new G(o)),l);r=r.updateImmediateChild(o,a)}),gh(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=on(t.visibleWrites,e);return gh(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function AC(t,e,n,r,s){E(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=le(e,n);if(Ba(t.visibleWrites,i))return null;{const o=on(t.visibleWrites,i);return Ua(o)?s.getChild(n):wr(o,s.getChild(n))}}function jC(t,e,n,r){const s=le(e,n),i=Bn(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=on(t.visibleWrites,s);return wr(o,r.getNode().getImmediateChild(n))}else return null}function MC(t,e){return Bn(t.visibleWrites,e)}function DC(t,e,n,r,s,i,o){let l;const a=on(t.visibleWrites,e),c=Bn(a,H());if(c!=null)l=c;else if(n!=null)l=wr(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const h=[],d=o.getCompare(),f=i?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let _=f.getNext();for(;_&&h.length<s;)d(_,r)!==0&&h.push(_),_=f.getNext();return h}else return[]}function LC(){return{visibleWrites:mt.empty(),allWrites:[],lastWriteId:-1}}function fo(t,e,n,r){return Gm(t.writeTree,t.treePath,e,n,r)}function lc(t,e){return PC(t.writeTree,t.treePath,e)}function _h(t,e,n,r){return AC(t.writeTree,t.treePath,e,n,r)}function po(t,e){return MC(t.writeTree,le(t.treePath,e))}function OC(t,e,n,r,s,i){return DC(t.writeTree,t.treePath,e,n,r,s,i)}function ac(t,e,n){return jC(t.writeTree,t.treePath,e,n)}function Ym(t,e){return Qm(le(t.treePath,e),t.writeTree)}function Qm(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;E(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),E(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,Rs(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Is(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,vr(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,Rs(r,e.snapshotNode,s.oldSnap));else throw Nr("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Km=new FC;class uc{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new hn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ac(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:On(this.viewCache_),i=OC(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t){return{filter:t}}function BC(t,e){E(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),E(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function UC(t,e,n,r,s){const i=new bC;let o,l;if(n.type===ct.OVERWRITE){const c=n;c.source.fromUser?o=Va(t,e,c.path,c.snap,r,s,i):(E(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!F(c.path),o=mo(t,e,c.path,c.snap,r,s,l,i))}else if(n.type===ct.MERGE){const c=n;c.source.fromUser?o=HC(t,e,c.path,c.children,r,s,i):(E(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),o=Ha(t,e,c.path,c.children,r,s,l,i))}else if(n.type===ct.ACK_USER_WRITE){const c=n;c.revert?o=GC(t,e,c.path,r,s,i):o=$C(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===ct.LISTEN_COMPLETE)o=WC(t,e,n.path,r,i);else throw Nr("Unknown operation type: "+n.type);const a=i.getChanges();return VC(e,o,a),{viewCache:o,changes:a}}function VC(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=ho(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(Um(ho(e)))}}function qm(t,e,n,r,s,i){const o=e.eventCache;if(po(r,n)!=null)return e;{let l,a;if(F(n))if(E(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=On(e),h=c instanceof D?c:D.EMPTY_NODE,d=lc(r,h);l=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const c=fo(r,On(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=b(n);if(c===".priority"){E(dn(n)===1,"Can't have a priority with additional path components");const h=o.getNode();a=e.serverCache.getNode();const d=_h(r,n,h,a);d!=null?l=t.filter.updatePriority(h,d):l=o.getNode()}else{const h=K(n);let d;if(o.isCompleteForChild(c)){a=e.serverCache.getNode();const f=_h(r,n,o.getNode(),a);f!=null?d=o.getNode().getImmediateChild(c).updateChild(h,f):d=o.getNode().getImmediateChild(c)}else d=ac(r,c,e.serverCache);d!=null?l=t.filter.updateChild(o.getNode(),c,d,h,s,i):l=o.getNode()}}return rs(e,l,o.isFullyInitialized()||F(n),t.filter.filtersNodes())}}function mo(t,e,n,r,s,i,o,l){const a=e.serverCache;let c;const h=o?t.filter:t.filter.getIndexedFilter();if(F(n))c=h.updateFullNode(a.getNode(),r,null);else if(h.filtersNodes()&&!a.isFiltered()){const _=a.getNode().updateChild(n,r);c=h.updateFullNode(a.getNode(),_,null)}else{const _=b(n);if(!a.isCompleteForPath(n)&&dn(n)>1)return e;const v=K(n),j=a.getNode().getImmediateChild(_).updateChild(v,r);_===".priority"?c=h.updatePriority(a.getNode(),j):c=h.updateChild(a.getNode(),_,j,v,Km,null)}const d=Hm(e,c,a.isFullyInitialized()||F(n),h.filtersNodes()),f=new uc(s,d,i);return qm(t,d,n,s,f,l)}function Va(t,e,n,r,s,i,o){const l=e.eventCache;let a,c;const h=new uc(s,e,i);if(F(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=rs(e,c,!0,t.filter.filtersNodes());else{const d=b(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),a=rs(e,c,l.isFullyInitialized(),l.isFiltered());else{const f=K(n),_=l.getNode().getImmediateChild(d);let v;if(F(f))v=r;else{const y=h.getCompleteChild(d);y!=null?Xu(f)===".priority"&&y.getChild(Mm(f)).isEmpty()?v=y:v=y.updateChild(f,r):v=D.EMPTY_NODE}if(_.equals(v))a=e;else{const y=t.filter.updateChild(l.getNode(),d,v,f,h,o);a=rs(e,y,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function vh(t,e){return t.eventCache.isCompleteForChild(e)}function HC(t,e,n,r,s,i,o){let l=e;return r.foreach((a,c)=>{const h=le(n,a);vh(e,b(h))&&(l=Va(t,l,h,c,s,i,o))}),r.foreach((a,c)=>{const h=le(n,a);vh(e,b(h))||(l=Va(t,l,h,c,s,i,o))}),l}function yh(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Ha(t,e,n,r,s,i,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,c;F(n)?c=r:c=new Y(null).setTree(n,r);const h=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(h.hasChild(d)){const _=e.serverCache.getNode().getImmediateChild(d),v=yh(t,_,f);a=mo(t,a,new G(d),v,s,i,o,l)}}),c.children.inorderTraversal((d,f)=>{const _=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!h.hasChild(d)&&!_){const v=e.serverCache.getNode().getImmediateChild(d),y=yh(t,v,f);a=mo(t,a,new G(d),y,s,i,o,l)}}),a}function $C(t,e,n,r,s,i,o){if(po(s,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(F(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return mo(t,e,n,a.getNode().getChild(n),s,i,l,o);if(F(n)){let c=new Y(null);return a.getNode().forEachChild(In,(h,d)=>{c=c.set(new G(h),d)}),Ha(t,e,n,c,s,i,l,o)}else return e}else{let c=new Y(null);return r.foreach((h,d)=>{const f=le(n,h);a.isCompleteForPath(f)&&(c=c.set(h,a.getNode().getChild(f)))}),Ha(t,e,n,c,s,i,l,o)}}function WC(t,e,n,r,s){const i=e.serverCache,o=Hm(e,i.getNode(),i.isFullyInitialized()||F(n),i.isFiltered());return qm(t,o,n,r,Km,s)}function GC(t,e,n,r,s,i){let o;if(po(r,n)!=null)return e;{const l=new uc(r,e,s),a=e.eventCache.getNode();let c;if(F(n)||b(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=fo(r,On(e));else{const d=e.serverCache.getNode();E(d instanceof D,"serverChildren would be complete if leaf node"),h=lc(r,d)}h=h,c=t.filter.updateFullNode(a,h,i)}else{const h=b(n);let d=ac(r,h,e.serverCache);d==null&&e.serverCache.isCompleteForChild(h)&&(d=a.getImmediateChild(h)),d!=null?c=t.filter.updateChild(a,h,d,K(n),l,i):e.eventCache.getNode().hasChild(h)?c=t.filter.updateChild(a,h,D.EMPTY_NODE,K(n),l,i):c=a,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=fo(r,On(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||po(r,H())!=null,rs(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new nc(r.getIndex()),i=aC(r);this.processor_=zC(i);const o=n.serverCache,l=n.eventCache,a=s.updateFullNode(D.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(D.EMPTY_NODE,l.getNode(),null),h=new hn(a,o.isFullyInitialized(),s.filtersNodes()),d=new hn(c,l.isFullyInitialized(),i.filtersNodes());this.viewCache_=zo(d,h),this.eventGenerator_=new vC(this.query_)}get query(){return this.query_}}function QC(t){return t.viewCache_.serverCache.getNode()}function KC(t){return ho(t.viewCache_)}function qC(t,e){const n=On(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!F(e)&&!n.getImmediateChild(b(e)).isEmpty())?n.getChild(e):null}function wh(t){return t.eventRegistrations_.length===0}function XC(t,e){t.eventRegistrations_.push(e)}function Ch(t,e,n){const r=[];if(n){E(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Eh(t,e,n,r){e.type===ct.MERGE&&e.source.queryId!==null&&(E(On(t.viewCache_),"We should always have a full cache before handling merges"),E(ho(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=UC(t.processor_,s,e,n,r);return BC(t.processor_,i.viewCache),E(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,Xm(t,i.changes,i.viewCache.eventCache.getNode(),null)}function ZC(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(re,(i,o)=>{r.push(vr(i,o))}),n.isFullyInitialized()&&r.push(Um(n.getNode())),Xm(t,r,n.getNode(),e)}function Xm(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return yC(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go;class Zm{constructor(){this.views=new Map}}function JC(t){E(!go,"__referenceConstructor has already been defined"),go=t}function eE(){return E(go,"Reference.ts has not been loaded"),go}function tE(t){return t.views.size===0}function cc(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return E(i!=null,"SyncTree gave us an op for an invalid query."),Eh(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(Eh(o,e,n,r));return i}}function Jm(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let l=fo(n,s?r:null),a=!1;l?a=!0:r instanceof D?(l=lc(n,r),a=!1):(l=D.EMPTY_NODE,a=!1);const c=zo(new hn(l,a,!1),new hn(r,s,!1));return new YC(e,c)}return o}function nE(t,e,n,r,s,i){const o=Jm(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),XC(o,n),ZC(o,n)}function rE(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const l=fn(t);if(s==="default")for(const[a,c]of t.views.entries())o=o.concat(Ch(c,n,r)),wh(c)&&(t.views.delete(a),c.query._queryParams.loadsAllData()||i.push(c.query));else{const a=t.views.get(s);a&&(o=o.concat(Ch(a,n,r)),wh(a)&&(t.views.delete(s),a.query._queryParams.loadsAllData()||i.push(a.query)))}return l&&!fn(t)&&i.push(new(eE())(e._repo,e._path)),{removed:i,events:o}}function eg(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ln(t,e){let n=null;for(const r of t.views.values())n=n||qC(r,e);return n}function tg(t,e){if(e._queryParams.loadsAllData())return Uo(t);{const r=e._queryIdentifier;return t.views.get(r)}}function ng(t,e){return tg(t,e)!=null}function fn(t){return Uo(t)!=null}function Uo(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o;function sE(t){E(!_o,"__referenceConstructor has already been defined"),_o=t}function iE(){return E(_o,"Reference.ts has not been loaded"),_o}let oE=1;class Sh{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Y(null),this.pendingWriteTree_=LC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function rg(t,e,n,r,s){return SC(t.pendingWriteTree_,e,n,r,s),s?Tr(t,new Ln(sc(),e,n)):[]}function lE(t,e,n,r){xC(t.pendingWriteTree_,e,n,r);const s=Y.fromObject(n);return Tr(t,new yr(sc(),e,s))}function Qt(t,e,n=!1){const r=NC(t.pendingWriteTree_,e);if(kC(t.pendingWriteTree_,e)){let i=new Y(null);return r.snap!=null?i=i.set(H(),!0):xe(r.children,o=>{i=i.set(new G(o),!0)}),Tr(t,new co(r.path,i,n))}else return[]}function Ws(t,e,n){return Tr(t,new Ln(ic(),e,n))}function aE(t,e,n){const r=Y.fromObject(n);return Tr(t,new yr(ic(),e,r))}function uE(t,e){return Tr(t,new As(ic(),e))}function cE(t,e,n){const r=hc(t,n);if(r){const s=fc(r),i=s.path,o=s.queryId,l=je(i,e),a=new As(oc(o),l);return pc(t,i,a)}else return[]}function vo(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let l=[];if(o&&(e._queryIdentifier==="default"||ng(o,e))){const a=rE(o,e,n,r);tE(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=a.removed;if(l=a.events,!s){const h=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(i,(f,_)=>fn(_));if(h&&!d){const f=t.syncPointTree_.subtree(i);if(!f.isEmpty()){const _=fE(f);for(let v=0;v<_.length;++v){const y=_[v],j=y.query,m=lg(t,y);t.listenProvider_.startListening(is(j),js(t,j),m.hashFn,m.onComplete)}}}!d&&c.length>0&&!r&&(h?t.listenProvider_.stopListening(is(e),null):c.forEach(f=>{const _=t.queryToTagMap.get(Vo(f));t.listenProvider_.stopListening(is(f),_)}))}pE(t,c)}return l}function sg(t,e,n,r){const s=hc(t,r);if(s!=null){const i=fc(s),o=i.path,l=i.queryId,a=je(o,e),c=new Ln(oc(l),a,n);return pc(t,o,c)}else return[]}function dE(t,e,n,r){const s=hc(t,r);if(s){const i=fc(s),o=i.path,l=i.queryId,a=je(o,e),c=Y.fromObject(n),h=new yr(oc(l),a,c);return pc(t,o,h)}else return[]}function $a(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(f,_)=>{const v=je(f,s);i=i||ln(_,v),o=o||fn(_)});let l=t.syncPointTree_.get(s);l?(o=o||fn(l),i=i||ln(l,H())):(l=new Zm,t.syncPointTree_=t.syncPointTree_.set(s,l));let a;i!=null?a=!0:(a=!1,i=D.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((_,v)=>{const y=ln(v,H());y&&(i=i.updateImmediateChild(_,y))}));const c=ng(l,e);if(!c&&!e._queryParams.loadsAllData()){const f=Vo(e);E(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const _=mE();t.queryToTagMap.set(f,_),t.tagToQueryMap.set(_,f)}const h=Bo(t.pendingWriteTree_,s);let d=nE(l,e,n,h,i,a);if(!c&&!o&&!r){const f=tg(l,e);d=d.concat(gE(t,e,f))}return d}function dc(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=je(o,e),c=ln(l,a);if(c)return c});return Gm(s,e,i,n,!0)}function hE(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,h)=>{const d=je(c,n);r=r||ln(h,d)});let s=t.syncPointTree_.get(n);s?r=r||ln(s,H()):(s=new Zm,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new hn(r,!0,!1):null,l=Bo(t.pendingWriteTree_,e._path),a=Jm(s,e,l,i?o.getNode():D.EMPTY_NODE,i);return KC(a)}function Tr(t,e){return ig(e,t.syncPointTree_,null,Bo(t.pendingWriteTree_,H()))}function ig(t,e,n,r){if(F(t.path))return og(t,e,n,r);{const s=e.get(H());n==null&&s!=null&&(n=ln(s,H()));let i=[];const o=b(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const c=n?n.getImmediateChild(o):null,h=Ym(r,o);i=i.concat(ig(l,a,c,h))}return s&&(i=i.concat(cc(s,t,r,n))),i}}function og(t,e,n,r){const s=e.get(H());n==null&&s!=null&&(n=ln(s,H()));let i=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,c=Ym(r,o),h=t.operationForChild(o);h&&(i=i.concat(og(h,l,a,c)))}),s&&(i=i.concat(cc(s,t,r,n))),i}function lg(t,e){const n=e.query,r=js(t,n);return{hashFn:()=>(QC(e)||D.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?cE(t,n._path,r):uE(t,n._path);{const i=aw(s,n);return vo(t,n,null,i)}}}}function js(t,e){const n=Vo(e);return t.queryToTagMap.get(n)}function Vo(t){return t._path.toString()+"$"+t._queryIdentifier}function hc(t,e){return t.tagToQueryMap.get(e)}function fc(t){const e=t.indexOf("$");return E(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new G(t.substr(0,e))}}function pc(t,e,n){const r=t.syncPointTree_.get(e);E(r,"Missing sync point for query tag that we're tracking");const s=Bo(t.pendingWriteTree_,e);return cc(r,n,s,null)}function fE(t){return t.fold((e,n,r)=>{if(n&&fn(n))return[Uo(n)];{let s=[];return n&&(s=eg(n)),xe(r,(i,o)=>{s=s.concat(o)}),s}})}function is(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(iE())(t._repo,t._path):t}function pE(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=Vo(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function mE(){return oE++}function gE(t,e,n){const r=e._path,s=js(t,e),i=lg(t,n),o=t.listenProvider_.startListening(is(e),s,i.hashFn,i.onComplete),l=t.syncPointTree_.subtree(r);if(s)E(!fn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((c,h,d)=>{if(!F(c)&&h&&fn(h))return[Uo(h).query];{let f=[];return h&&(f=f.concat(eg(h).map(_=>_.query))),xe(d,(_,v)=>{f=f.concat(v)}),f}});for(let c=0;c<a.length;++c){const h=a[c];t.listenProvider_.stopListening(is(h),js(t,h))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new mc(n)}node(){return this.node_}}class gc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=le(this.path_,e);return new gc(this.syncTree_,n)}node(){return dc(this.syncTree_,this.path_)}}const _E=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},xh=function(t,e,n){if(!t||typeof t!="object")return t;if(E(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return vE(t[".sv"],e,n);if(typeof t[".sv"]=="object")return yE(t[".sv"],e);E(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},vE=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:E(!1,"Unexpected server value: "+t)}},yE=function(t,e,n){t.hasOwnProperty("increment")||E(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&E(!1,"Unexpected increment value: "+r);const s=e.node();if(E(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},ag=function(t,e,n,r){return _c(e,new gc(n,t),r)},ug=function(t,e,n){return _c(t,new mc(e),n)};function _c(t,e,n){const r=t.getPriority().val(),s=xh(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,l=xh(o.getValue(),e,n);return l!==o.getValue()||s!==o.getPriority().val()?new me(l,he(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new me(s))),o.forEachChild(re,(l,a)=>{const c=_c(a,e.getImmediateChild(l),n);c!==a&&(i=i.updateImmediateChild(l,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function yc(t,e){let n=e instanceof G?e:new G(e),r=t,s=b(n);for(;s!==null;){const i=_r(r.node.children,s)||{children:{},childCount:0};r=new vc(s,r,i),n=K(n),s=b(n)}return r}function Ir(t){return t.node.value}function cg(t,e){t.node.value=e,Wa(t)}function dg(t){return t.node.childCount>0}function wE(t){return Ir(t)===void 0&&!dg(t)}function Ho(t,e){xe(t.node.children,(n,r)=>{e(new vc(n,t,r))})}function hg(t,e,n,r){n&&e(t),Ho(t,s=>{hg(s,e,!0)})}function CE(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Gs(t){return new G(t.parent===null?t.name:Gs(t.parent)+"/"+t.name)}function Wa(t){t.parent!==null&&EE(t.parent,t.name,t)}function EE(t,e,n){const r=wE(n),s=St(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Wa(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Wa(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=/[\[\].#$\/\u0000-\u001F\u007F]/,xE=/[\[\].#$\u0000-\u001F\u007F]/,Al=10*1024*1024,wc=function(t){return typeof t=="string"&&t.length!==0&&!SE.test(t)},fg=function(t){return typeof t=="string"&&t.length!==0&&!xE.test(t)},NE=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),fg(t)},Ga=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Gu(t)||t&&typeof t=="object"&&St(t,".sv")},Ys=function(t,e,n,r){r&&e===void 0||$o(Oo(t,"value"),e,n)},$o=function(t,e,n){const r=n instanceof G?new Vw(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Cn(r));if(typeof e=="function")throw new Error(t+"contains a function "+Cn(r)+" with contents = "+e.toString());if(Gu(e))throw new Error(t+"contains "+e.toString()+" "+Cn(r));if(typeof e=="string"&&e.length>Al/3&&bo(e)>Al)throw new Error(t+"contains a string greater than "+Al+" utf8 bytes "+Cn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(xe(e,(o,l)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!wc(o)))throw new Error(t+" contains an invalid key ("+o+") "+Cn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Hw(r,o),$o(t,l,r),$w(r)}),s&&i)throw new Error(t+' contains ".value" child '+Cn(r)+" in addition to actual children.")}},kE=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=Ts(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!wc(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Uw);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&et(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},TE=function(t,e,n,r){const s=Oo(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];xe(e,(o,l)=>{const a=new G(o);if($o(s,l,le(n,a)),Xu(a)===".priority"&&!Ga(l))throw new Error(s+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(a)}),kE(s,i)},Cc=function(t,e,n,r){if(!fg(n))throw new Error(Oo(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},IE=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Cc(t,e,n)},Ec=function(t,e){if(b(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},RE=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!wc(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!NE(n))throw new Error(Oo(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Wo(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!Zu(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function pg(t,e,n){Wo(t,n),mg(t,r=>Zu(r,e))}function st(t,e,n){Wo(t,n),mg(t,r=>et(r,e)||et(e,r))}function mg(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(AE(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function AE(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ts&&we("event: "+n.toString()),kr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="repo_interrupt",ME=25;class DE{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new PE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=uo(),this.transactionQueueTree_=new vc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function LE(t,e,n){if(t.stats_=Ku(t.repoInfo_),t.forceRestClient_||hw())t.server_=new ao(t.repoInfo_,(r,s,i,o)=>{Nh(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>kh(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{fe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new jt(t.repoInfo_,e,(r,s,i,o)=>{Nh(t,r,s,i,o)},r=>{kh(t,r)},r=>{OE(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=_w(t.repoInfo_,()=>new _C(t.stats_,t.server_)),t.infoData_=new hC,t.infoSyncTree_=new Sh({startListening:(r,s,i,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=Ws(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Sc(t,"connected",!1),t.serverSyncTree_=new Sh({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(l,a)=>{const c=o(l,a);st(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function gg(t){const n=t.infoData_.getNode(new G(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Go(t){return _E({timestamp:gg(t)})}function Nh(t,e,n,r,s){t.dataUpdateCount++;const i=new G(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const a=no(n,c=>he(c));o=dE(t.serverSyncTree_,i,a,s)}else{const a=he(n);o=sg(t.serverSyncTree_,i,a,s)}else if(r){const a=no(n,c=>he(c));o=aE(t.serverSyncTree_,i,a)}else{const a=he(n);o=Ws(t.serverSyncTree_,i,a)}let l=i;o.length>0&&(l=Cr(t,i)),st(t.eventQueue_,l,o)}function kh(t,e){Sc(t,"connected",e),e===!1&&BE(t)}function OE(t,e){xe(e,(n,r)=>{Sc(t,n,r)})}function Sc(t,e,n){const r=new G("/.info/"+e),s=he(n);t.infoData_.updateSnapshot(r,s);const i=Ws(t.infoSyncTree_,r,s);st(t.eventQueue_,r,i)}function xc(t){return t.nextWriteId_++}function bE(t,e,n){const r=hE(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=he(s).withIndex(e._queryParams.getIndex());$a(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Ws(t.serverSyncTree_,e._path,i);else{const l=js(t.serverSyncTree_,e);o=sg(t.serverSyncTree_,e._path,i,l)}return st(t.eventQueue_,e._path,o),vo(t.serverSyncTree_,e,n,null,!0),i},s=>(Qs(t,"get for query "+fe(e)+" failed: "+s),Promise.reject(new Error(s))))}function FE(t,e,n,r,s){Qs(t,"set",{path:e.toString(),value:n,priority:r});const i=Go(t),o=he(n,r),l=dc(t.serverSyncTree_,e),a=ug(o,l,i),c=xc(t),h=rg(t.serverSyncTree_,e,a,c,!0);Wo(t.eventQueue_,h),t.server_.put(e.toString(),o.val(!0),(f,_)=>{const v=f==="ok";v||De("set at "+e+" failed: "+f);const y=Qt(t.serverSyncTree_,c,!v);st(t.eventQueue_,e,y),Ya(t,s,f,_)});const d=kc(t,e);Cr(t,d),st(t.eventQueue_,d,[])}function zE(t,e,n,r){Qs(t,"update",{path:e.toString(),value:n});let s=!0;const i=Go(t),o={};if(xe(n,(l,a)=>{s=!1,o[l]=ag(le(e,l),he(a),t.serverSyncTree_,i)}),s)we("update() called with empty data.  Don't do anything."),Ya(t,r,"ok",void 0);else{const l=xc(t),a=lE(t.serverSyncTree_,e,o,l);Wo(t.eventQueue_,a),t.server_.merge(e.toString(),n,(c,h)=>{const d=c==="ok";d||De("update at "+e+" failed: "+c);const f=Qt(t.serverSyncTree_,l,!d),_=f.length>0?Cr(t,e):e;st(t.eventQueue_,_,f),Ya(t,r,c,h)}),xe(n,c=>{const h=kc(t,le(e,c));Cr(t,h)}),st(t.eventQueue_,e,[])}}function BE(t){Qs(t,"onDisconnectEvents");const e=Go(t),n=uo();Fa(t.onDisconnect_,H(),(s,i)=>{const o=ag(s,i,t.serverSyncTree_,e);Vm(n,s,o)});let r=[];Fa(n,H(),(s,i)=>{r=r.concat(Ws(t.serverSyncTree_,s,i));const o=kc(t,s);Cr(t,o)}),t.onDisconnect_=uo(),st(t.eventQueue_,H(),r)}function UE(t,e,n){let r;b(e._path)===".info"?r=$a(t.infoSyncTree_,e,n):r=$a(t.serverSyncTree_,e,n),pg(t.eventQueue_,e._path,r)}function VE(t,e,n){let r;b(e._path)===".info"?r=vo(t.infoSyncTree_,e,n):r=vo(t.serverSyncTree_,e,n),pg(t.eventQueue_,e._path,r)}function HE(t){t.persistentConnection_&&t.persistentConnection_.interrupt(jE)}function Qs(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),we(n,...e)}function Ya(t,e,n,r){e&&kr(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function _g(t,e,n){return dc(t.serverSyncTree_,e,n)||D.EMPTY_NODE}function Nc(t,e=t.transactionQueueTree_){if(e||Yo(t,e),Ir(e)){const n=yg(t,e);E(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&$E(t,Gs(e),n)}else dg(e)&&Ho(e,n=>{Nc(t,n)})}function $E(t,e,n){const r=n.map(c=>c.currentWriteId),s=_g(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const h=n[c];E(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const d=je(e,h.path);i=i.updateChild(d,h.currentOutputSnapshotRaw)}const l=i.val(!0),a=e;t.server_.put(a.toString(),l,c=>{Qs(t,"transaction put response",{path:a.toString(),status:c});let h=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,h=h.concat(Qt(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Yo(t,yc(t.transactionQueueTree_,e)),Nc(t,t.transactionQueueTree_),st(t.eventQueue_,e,h);for(let f=0;f<d.length;f++)kr(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{De("transaction at "+a.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Cr(t,e)}},o)}function Cr(t,e){const n=vg(t,e),r=Gs(n),s=yg(t,n);return WE(t,s,r),r}function WE(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],c=je(n,a.path);let h=!1,d;if(E(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)h=!0,d=a.abortReason,s=s.concat(Qt(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=ME)h=!0,d="maxretry",s=s.concat(Qt(t.serverSyncTree_,a.currentWriteId,!0));else{const f=_g(t,a.path,o);a.currentInputSnapshot=f;const _=e[l].update(f.val());if(_!==void 0){$o("transaction failed: Data returned ",_,a.path);let v=he(_);typeof _=="object"&&_!=null&&St(_,".priority")||(v=v.updatePriority(f.getPriority()));const j=a.currentWriteId,m=Go(t),p=ug(v,f,m);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=p,a.currentWriteId=xc(t),o.splice(o.indexOf(j),1),s=s.concat(rg(t.serverSyncTree_,a.path,p,a.currentWriteId,a.applyLocally)),s=s.concat(Qt(t.serverSyncTree_,j,!0))}else h=!0,d="nodata",s=s.concat(Qt(t.serverSyncTree_,a.currentWriteId,!0))}st(t.eventQueue_,n,s),s=[],h&&(e[l].status=2,function(f){setTimeout(f,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(d==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(d),!1,null))))}Yo(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)kr(r[l]);Nc(t,t.transactionQueueTree_)}function vg(t,e){let n,r=t.transactionQueueTree_;for(n=b(e);n!==null&&Ir(r)===void 0;)r=yc(r,n),e=K(e),n=b(e);return r}function yg(t,e){const n=[];return wg(t,e,n),n.sort((r,s)=>r.order-s.order),n}function wg(t,e,n){const r=Ir(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Ho(e,s=>{wg(t,s,n)})}function Yo(t,e){const n=Ir(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,cg(e,n.length>0?n:void 0)}Ho(e,r=>{Yo(t,r)})}function kc(t,e){const n=Gs(vg(t,e)),r=yc(t.transactionQueueTree_,e);return CE(r,s=>{jl(t,s)}),jl(t,r),hg(r,s=>{jl(t,s)}),n}function jl(t,e){const n=Ir(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(E(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(E(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Qt(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?cg(e,void 0):n.length=i+1,st(t.eventQueue_,Gs(e),s);for(let o=0;o<r.length;o++)kr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function YE(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):De(`Invalid query segment '${n}' in query '${t}'`)}return e}const Th=function(t,e){const n=QE(t),r=n.namespace;n.domain==="firebase.com"&&Ft(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ft("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||rw();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new xm(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new G(n.pathString)}},QE=function(t){let e="",n="",r="",s="",i="",o=!0,l="https",a=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let h=t.indexOf("/");h===-1&&(h=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(s=GE(t.substring(h,d)));const f=YE(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(c+1),10)):c=e.length;const _=e.slice(0,c);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",KE=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=Ih.charAt(n%64),n=Math.floor(n/64);E(n===0,"Cannot push at time == 0");let o=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=Ih.charAt(e[s]);return E(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+fe(this.snapshot.exportVal())}}class XE{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return E(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return F(this._path)?null:Xu(this._path)}get ref(){return new Bt(this._repo,this._path)}get _queryIdentifier(){const e=fh(this._queryParams),n=Yu(e);return n==="{}"?"default":n}get _queryObject(){return fh(this._queryParams)}isEqual(e){if(e=_n(e),!(e instanceof Rr))return!1;const n=this._repo===e._repo,r=Zu(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+Bw(this._path)}}function ZE(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Tc(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===In){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Dn)throw new Error(r);if(typeof e!="string")throw new Error(s)}if(t.hasEnd()){if(t.getIndexEndName()!==cn)throw new Error(r);if(typeof n!="string")throw new Error(s)}}else if(t.getIndex()===re){if(e!=null&&!Ga(e)||n!=null&&!Ga(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(E(t.getIndex()instanceof tc||t.getIndex()===Bm,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Eg(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Bt extends Rr{constructor(e,n){super(e,n,new rc,!1)}get parent(){const e=Mm(this._path);return e===null?null:new Bt(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ms{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new G(e),r=Ds(this.ref,e);return new Ms(this._node.getChild(n),r,re)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Ms(s,Ds(this.ref,r),re)))}hasChild(e){const n=new G(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function dt(t,e){return t=_n(t),t._checkNotDeleted("ref"),e!==void 0?Ds(t._root,e):t._root}function Ds(t,e){return t=_n(t),b(t._path)===null?IE("child","path",e):Cc("child","path",e),new Bt(t._repo,le(t._path,e))}function Qa(t,e){t=_n(t),Ec("push",t._path),Ys("push",e,t._path,!0);const n=gg(t._repo),r=KE(n),s=Ds(t,r),i=Ds(t,r);let o;return e!=null?o=Sg(i,e).then(()=>i):o=Promise.resolve(i),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function Rh(t){return Ec("remove",t._path),Sg(t,null)}function Sg(t,e){t=_n(t),Ec("set",t._path),Ys("set",e,t._path,!1);const n=new Bs;return FE(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function JE(t,e){TE("update",e,t._path);const n=new Bs;return zE(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function eS(t){t=_n(t);const e=new Cg(()=>{}),n=new Qo(e);return bE(t._repo,t,n).then(r=>new Ms(r,new Bt(t._repo,t._path),t._queryParams.getIndex()))}class Qo{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new qE("value",this,new Ms(e.snapshotNode,new Bt(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new XE(this,e,n):null}matches(e){return e instanceof Qo?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function tS(t,e,n,r,s){const i=new Cg(n,void 0),o=new Qo(i);return UE(t._repo,t,o),()=>VE(t._repo,t,o)}function yo(t,e,n,r){return tS(t,"value",e)}class Ko{}class nS extends Ko{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Ys("endAt",this._value,e._path,!0);const n=cC(e._queryParams,this._value,this._key);if(Eg(n),Tc(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Rr(e._repo,e._path,n,e._orderByCalled)}}class rS extends Ko{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Ys("startAt",this._value,e._path,!0);const n=uC(e._queryParams,this._value,this._key);if(Eg(n),Tc(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Rr(e._repo,e._path,n,e._orderByCalled)}}class sS extends Ko{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){ZE(e,"orderByChild");const n=new G(this._path);if(F(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new tc(n),s=dC(e._queryParams,r);return Tc(s),new Rr(e._repo,e._path,s,!0)}}function iS(t){return Cc("orderByChild","path",t),new sS(t)}class oS extends Ko{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Ys("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new nS(this._value,this._key)._apply(new rS(this._value,this._key)._apply(e))}}function lS(t,e){return new oS(t,e)}function aS(t,...e){let n=_n(t);for(const r of e)n=r._apply(n);return n}JC(Bt);sE(Bt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="FIREBASE_DATABASE_EMULATOR_HOST",Ka={};let cS=!1;function dS(t,e,n,r){t.repoInfo_=new xm(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function hS(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||Ft("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),we("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Th(i,s),l=o.repoInfo,a;typeof process<"u"&&Kd&&(a=Kd[uS]),a?(i=`http://${a}?ns=${l.namespace}`,o=Th(i,s),l=o.repoInfo):o.repoInfo.secure;const c=new pw(t.name,t.options,e);RE("Invalid Firebase Database URL",o),F(o.path)||Ft("Database URL must point to the root of a Firebase Database (not including a child path).");const h=pS(l,t,c,new fw(t.name,n));return new mS(h,t)}function fS(t,e){const n=Ka[e];(!n||n[t.key]!==t)&&Ft(`Database ${e}(${t.repoInfo_}) has already been deleted.`),HE(t),delete n[t.key]}function pS(t,e,n,r){let s=Ka[e.name];s||(s={},Ka[e.name]=s);let i=s[t.toURLString()];return i&&Ft("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new DE(t,cS,n,r),s[t.toURLString()]=i,i}class mS{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(LE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Bt(this._repo,H())),this._rootInternal}_delete(){return this._rootInternal!==null&&(fS(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ft("Cannot call "+e+" on a deleted database.")}}function gS(t=U0(),e){const n=b0(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=ky("database");r&&_S(n,...r)}return n}function _S(t,e,n,r={}){t=_n(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Ft("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Ft('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Pi(Pi.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Ty(r.mockUserToken,t.app.options.projectId);i=new Pi(o)}dS(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t){X0(B0),so(new xs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return hS(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),ar(qd,Xd,t),ar(qd,Xd,"esm2017")}jt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};jt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};vS();class Ks{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const yS=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},Ce={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:yS()},Ic=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},wS=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=Ic(t);Ce.publicKey=n.publicKey,Ce.blockHeadless=n.blockHeadless,Ce.storageProvider=n.storageProvider,Ce.blockList=n.blockList,Ce.limitRate=n.limitRate,Ce.origin=n.origin||e},xg=async(t,e,n={})=>{const r=await fetch(Ce.origin+t,{method:"POST",headers:n,body:e}),s=await r.text(),i=new Ks(r.status,s);if(r.ok)return i;throw i},Ng=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},CS=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},kg=t=>t.webdriver||!t.languages||t.languages.length===0,Tg=()=>new Ks(451,"Unavailable For Headless Browser"),ES=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},SS=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},xS=(t,e)=>t instanceof FormData?t.get(e):t[e],Ig=(t,e)=>{if(SS(t))return!1;ES(t.list,t.watchVariable);const n=xS(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},Rg=()=>new Ks(403,"Forbidden"),NS=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},kS=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},Pg=async(t,e,n)=>{if(!e.throttle||!n)return!1;NS(e.throttle,e.id);const r=e.id||t;return await kS(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},Ag=()=>new Ks(429,"Too Many Requests"),TS=async(t,e,n,r)=>{const s=Ic(r),i=s.publicKey||Ce.publicKey,o=s.blockHeadless||Ce.blockHeadless,l=s.storageProvider||Ce.storageProvider,a={...Ce.blockList,...s.blockList},c={...Ce.limitRate,...s.limitRate};return o&&kg(navigator)?Promise.reject(Tg()):(Ng(i,t,e),CS(n),n&&Ig(a,n)?Promise.reject(Rg()):await Pg(location.pathname,c,l)?Promise.reject(Ag()):xg("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},IS=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},RS=t=>typeof t=="string"?document.querySelector(t):t,PS=async(t,e,n,r)=>{const s=Ic(r),i=s.publicKey||Ce.publicKey,o=s.blockHeadless||Ce.blockHeadless,l=Ce.storageProvider||s.storageProvider,a={...Ce.blockList,...s.blockList},c={...Ce.limitRate,...s.limitRate};if(o&&kg(navigator))return Promise.reject(Tg());const h=RS(n);Ng(i,t,e),IS(h);const d=new FormData(h);return Ig(a,d)?Promise.reject(Rg()):await Pg(location.pathname,c,l)?Promise.reject(Ag()):(d.append("lib_version","4.4.1"),d.append("service_id",t),d.append("template_id",e),d.append("user_id",i),xg("/api/v1.0/email/send-form",d))},Ph={init:wS,send:TS,sendForm:PS,EmailJSResponseStatus:Ks};var AS="firebase",jS="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar(AS,jS,"app");const MS={apiKey:"AIzaSyA7bCJ740dlOwfB7jzZ9RPZ49JO8-XzMcc",authDomain:"hilde-5th-birthday.firebaseapp.com",databaseURL:"https://hilde-5th-birthday-default-rtdb.firebaseio.com",projectId:"hilde-5th-birthday",storageBucket:"hilde-5th-birthday.firebasestorage.app",messagingSenderId:"37156501458",appId:"1:37156501458:web:bbbf39de05a681fbec3a0b"},DS=lm(MS),ht=gS(DS),gi="hilde-bday-rsvp-email",LS="hilde-bday-rsvp-id",Ah="service_fj9hsv4",OS="template_owqftfa",bS="template_phzyykv",jh="Idi5oE7BUkpUXFNOU",FS="511 Warburton Ave, Yonkers, NY 10701",zS="https://maps.google.com/?q=Hudson+River+Museum+511+Warburton+Ave+Yonkers+NY+10701",BS="https://kotharishalin-max.github.io/Hilde-5th-birthday/",US=()=>`https://calendar.google.com/calendar/render?${new URLSearchParams({action:"TEMPLATE",text:"Hilde's 5th Birthday - Space Mission!",dates:"20260208T150000Z/20260208T170000Z",details:`Hudson River Museum Planetarium

10:00 AM - Party starts, creative activity
10:30 AM - Planetarium show
11:00 AM - Refreshments & cake
11:45 AM - Party concludes

Please arrive by 10 AM - late entry to the planetarium isn't possible!`,location:FS}).toString()}`,VS=()=>`${BS}hilde-birthday.ics`;function HS({active:t}){const e=k.useRef(null);return k.useEffect(()=>{if(!t)return;const n=e.current,r=n.getContext("2d");n.width=window.innerWidth,n.height=window.innerHeight;const s=[],i=["#ff6b9d","#ffd700","#74b9ff","#ff8c42","#a29bfe","#00cec9"];for(let a=0;a<150;a++)s.push({x:Math.random()*n.width,y:-10-Math.random()*100,size:Math.random()*8+4,color:i[Math.floor(Math.random()*i.length)],speedY:Math.random()*3+2,speedX:Math.random()*4-2,rotation:Math.random()*360,rotationSpeed:Math.random()*10-5});let o;const l=()=>{r.clearRect(0,0,n.width,n.height);let a=0;s.forEach(c=>{c.y<n.height+50&&(a++,c.y+=c.speedY,c.x+=c.speedX,c.rotation+=c.rotationSpeed,c.speedY+=.1,r.save(),r.translate(c.x,c.y),r.rotate(c.rotation*Math.PI/180),r.fillStyle=c.color,r.fillRect(-c.size/2,-c.size/2,c.size,c.size*.6),r.restore())}),a>0&&(o=requestAnimationFrame(l))};return l(),()=>{o&&cancelAnimationFrame(o)}},[t]),t?u.jsx("canvas",{ref:e,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:1e3}}):null}function $S(){const[t,e]=k.useState("lookup"),[n,r]=k.useState(""),[s,i]=k.useState(""),[o,l]=k.useState(null),[a,c]=k.useState(1),[h,d]=k.useState(1),[f,_]=k.useState(null),[v,y]=k.useState(""),[j,m]=k.useState(!0),[p,g]=k.useState(!1),[w,S]=k.useState(!1),[T,I]=k.useState(""),[A,$]=k.useState(!1),[L,Ne]=k.useState(!1);k.useEffect(()=>{(async()=>{localStorage.removeItem(LS);const O=localStorage.getItem(gi);if(O){r(O);const B=await _t(O);e(B?"submitted":"lookup")}m(!1)})()},[]);const _t=async N=>{if(!N.trim())return null;try{const O=dt(ht,"rsvps"),B=aS(O,iS("email"),lS(N.toLowerCase().trim())),X=await eS(B);if(X.exists()){const ee=X.val(),[Nt,ce]=Object.entries(ee)[0];return i(ce.childName||ce.name||""),l(ce.attending),c(ce.adultCount||ce.guestCount||1),d(ce.kidCount||1),_(Nt),ce}}catch(O){console.log("Email lookup error:",O.message)}return null},xt=async N=>{if(N.preventDefault(),y(""),!n.trim()){y("Please enter your email");return}g(!0);const O=await _t(n);g(!1),O?(localStorage.setItem(gi,n.toLowerCase().trim()),e("submitted")):e("form")},M=async(N,O,B,X,ee)=>{const Nt={to_email:N,child_name:O,status_bg_color:B?"rgba(0, 184, 148, 0.2)":"rgba(255, 255, 255, 0.1)",status_text_color:B?"#00b894":"#b8c5d6",status_text:B?" You're Coming!":" Can't Make It",guest_info:B?`${X} adult${X!==1?"s":""}, ${ee} kid${ee!==1?"s":""}`:"",google_calendar_url:US(),ics_url:VS(),maps_url:zS};try{await Ph.send(Ah,OS,Nt,jh)}catch(ce){console.error("Failed to send confirmation email:",ce)}},Pe=async(N,O,B,X,ee)=>{const Nt={guest_email:N,child_name:O,status_text_color:B?"#00b894":"#b8c5d6",status_text:B?" Coming!":" Can't Make It",guest_info:B?`${X} adult${X!==1?"s":""}, ${ee} kid${ee!==1?"s":""}`:"N/A"};try{await Ph.send(Ah,bS,Nt,jh)}catch(ce){console.error("Failed to send host notification:",ce)}},He=async N=>{if(N.preventDefault(),y(""),!n.trim()){y("Please enter your email");return}if(!s.trim()){y("Please enter your child's name");return}if(o===null){y("Please let us know if you can make it");return}const O={email:n.toLowerCase().trim(),childName:s.trim(),name:s.trim(),attending:o,adultCount:o?a:0,kidCount:o?h:0,timestamp:Date.now()};try{if(f)await JE(dt(ht,`rsvps/${f}`),O);else{const B=await Qa(dt(ht,"rsvps"),O);_(B.key)}localStorage.setItem(gi,n.toLowerCase().trim()),M(n.toLowerCase().trim(),s.trim(),o,o?a:0,o?h:0),Pe(n.toLowerCase().trim(),s.trim(),o,o?a:0,o?h:0),S(!0),setTimeout(()=>S(!1),4e3),e("submitted")}catch(B){y("Oops! Something went wrong. Please try again."),console.error(B)}},$e=async()=>{if(T.trim()){Ne(!0);try{await Qa(dt(ht,"messages"),{name:s.trim()+"'s family",message:T.trim(),timestamp:Date.now()}),$(!0),I("")}catch(N){console.error(N)}Ne(!1)}},x=()=>{e("form")},P=()=>{localStorage.removeItem(gi),r(""),i(""),l(null),c(1),d(1),_(null),$(!1),I(""),e("lookup")};return j?u.jsxs("section",{className:"rsvp",id:"rsvp-section",children:[u.jsx("h2",{children:"Mission Log"}),u.jsx("p",{className:"rsvp-subtitle",children:"Loading..."})]}):t==="lookup"?u.jsxs("section",{className:"rsvp",id:"rsvp-section",children:[u.jsx("h2",{children:"Mission Log"}),u.jsx("p",{className:"rsvp-subtitle",children:"Enter your email to RSVP or update your response"}),u.jsxs("form",{onSubmit:xt,className:"lookup-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"lookup-email",children:"Your Email"}),u.jsx("input",{type:"email",id:"lookup-email",value:n,onChange:N=>r(N.target.value),placeholder:"astronaut@email.com"})]}),v&&u.jsx("p",{className:"error",children:v}),u.jsx("button",{type:"submit",className:"submit-btn",disabled:p,children:p?"Checking...":"Continue"})]})]}):t==="submitted"?u.jsxs("section",{className:"rsvp",id:"rsvp-section",children:[u.jsx(HS,{active:w}),u.jsx("h2",{children:"Mission Log"}),u.jsxs("div",{className:"success-message",children:[u.jsx("span",{className:"success-icon",children:""}),u.jsxs("p",{className:"success-name",children:["Thanks, ",s,"'s family!"]}),u.jsx("p",{className:"success-status",children:o?"We're excited to see you at the launch!":"We'll miss you! Thanks for letting us know."}),o&&u.jsxs("p",{className:"guest-summary",children:[a," ",a===1?"adult":"adults",h>0&&`, ${h} ${h===1?"kid":"kids"}`]}),A?u.jsx("p",{className:"message-sent-confirmation",children:"Message sent! Thank you!"}):u.jsxs("div",{className:"optional-message",children:[u.jsx("p",{className:"optional-message-prompt",children:"Want to send a message to Hilde?"}),u.jsx("textarea",{value:T,onChange:N=>I(N.target.value),placeholder:"Write a birthday wish or note...",rows:3,className:"optional-message-input"}),T.trim()&&u.jsx("button",{onClick:$e,className:"send-message-btn",disabled:L,children:L?"Sending...":"Send Message"})]}),u.jsxs("div",{className:"rsvp-actions",children:[u.jsx("button",{onClick:x,className:"edit-btn",children:"Edit RSVP"}),u.jsx("button",{onClick:P,className:"reset-link",children:"Not you? Start fresh"})]})]})]}):u.jsxs("section",{className:"rsvp",id:"rsvp-section",children:[u.jsx("h2",{children:"Mission Log"}),u.jsx("p",{className:"rsvp-subtitle",children:f?"Update your RSVP":"Will you be joining our space adventure?"}),u.jsxs("form",{onSubmit:He,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Your Email"}),u.jsx("input",{type:"email",id:"email",value:n,onChange:N=>r(N.target.value),placeholder:"astronaut@email.com"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"childName",children:"Child's Name"}),u.jsx("input",{type:"text",id:"childName",value:s,onChange:N=>i(N.target.value),placeholder:"Little astronaut's name..."})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Can you make it?"}),u.jsxs("div",{className:"toggle-buttons",children:[u.jsx("button",{type:"button",className:`toggle-btn ${o===!0?"active yes":""}`,onClick:()=>l(!0),children:"Yes, count us in!"}),u.jsx("button",{type:"button",className:`toggle-btn ${o===!1?"active no":""}`,onClick:()=>l(!1),children:"Can't make it"})]})]}),o&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Adults"}),u.jsx("div",{className:"count-selector",children:[1,2].map(N=>u.jsx("button",{type:"button",className:`count-btn ${a===N?"active":""}`,onClick:()=>c(N),children:N},N))})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Kids"}),u.jsx("div",{className:"count-selector",children:[1,2,3,4].map(N=>u.jsx("button",{type:"button",className:`count-btn ${h===N?"active":""}`,onClick:()=>d(N),children:N},N))})]})]}),v&&u.jsx("p",{className:"error",children:v}),u.jsx("button",{type:"submit",className:"submit-btn",children:f?"Update RSVP":"Submit RSVP"}),!f&&u.jsx("button",{type:"button",onClick:P,className:"reset-link",children:" Use a different email"})]})]})}function WS(){const[t,e]=k.useState([]),[n,r]=k.useState(""),[s,i]=k.useState(""),[o,l]=k.useState(!1),[a,c]=k.useState(!1),[h,d]=k.useState(!1),[f,_]=k.useState(!1);k.useEffect(()=>{const p=dt(ht,"messages"),g=yo(p,w=>{const S=w.val();if(S){const T=Object.entries(S).map(([I,A])=>({id:I,...A})).sort((I,A)=>A.timestamp-I.timestamp);e(T)}else e([])});return()=>g()},[]);const v=async p=>{if(p.preventDefault(),!(!n.trim()||!s.trim())){l(!0);try{await Qa(dt(ht,"messages"),{name:n.trim(),message:s.trim(),timestamp:Date.now()}),r(""),i(""),_(!0),setTimeout(()=>{c(!1),_(!1)},1500)}catch(g){console.error(g)}l(!1)}},y=p=>new Date(p).toLocaleDateString("en-US",{month:"short",day:"numeric"}),j=h?t:t.slice(0,3),m=a&&u.jsx("div",{className:"message-modal-overlay",onClick:()=>c(!1),children:u.jsxs("div",{className:"message-modal",onClick:p=>p.stopPropagation(),children:[u.jsx("button",{className:"modal-close",onClick:()=>c(!1),children:""}),f?u.jsxs("div",{className:"message-sent-success",children:[u.jsx("span",{className:"success-rocket",children:""}),u.jsx("p",{children:"Message sent to space!"})]}):u.jsxs(u.Fragment,{children:[u.jsx("h3",{children:"Send a Transmission"}),u.jsx("p",{className:"modal-subtitle",children:"Leave a birthday wish for Hilde!"}),u.jsxs("form",{onSubmit:v,className:"modal-form",children:[u.jsx("input",{type:"text",value:n,onChange:p=>r(p.target.value),placeholder:"Your name",required:!0}),u.jsx("textarea",{value:s,onChange:p=>i(p.target.value),placeholder:"Your message...",rows:4,required:!0}),u.jsx("button",{type:"submit",disabled:o,className:"modal-submit",children:o?"Transmitting...":"Send Message"})]})]})]})});return u.jsxs(u.Fragment,{children:[Qp.createPortal(m,document.body),u.jsxs("section",{className:"guestbook",children:[u.jsxs("div",{className:"guestbook-header",children:[u.jsxs("div",{children:[u.jsx("h2",{children:"Transmissions from Space"}),u.jsx("p",{className:"guestbook-subtitle",children:t.length===0?"No messages yet - be the first!":`${t.length} message${t.length!==1?"s":""} received`})]}),u.jsx("button",{className:"send-message-btn-inline",onClick:()=>c(!0),children:"+ Send Message"})]}),t.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"messages-grid",children:j.map((p,g)=>u.jsxs("div",{className:"message-card",style:{animationDelay:`${g*100}ms`},children:[u.jsx("div",{className:"message-avatar",children:p.name.charAt(0).toUpperCase()}),u.jsxs("div",{className:"message-content",children:[u.jsxs("div",{className:"message-header",children:[u.jsx("span",{className:"message-author",children:p.name}),u.jsx("span",{className:"message-date",children:y(p.timestamp)})]}),u.jsx("p",{className:"message-text",children:p.message})]})]},p.id))}),t.length>3&&u.jsx("button",{className:"view-all-btn",onClick:()=>d(!h),children:h?"Show Less":`View All ${t.length} Messages`})]}),t.length===0&&u.jsxs("div",{className:"no-messages-cta",children:[u.jsx("div",{className:"empty-state-icon",children:""}),u.jsx("p",{children:"Awaiting transmissions..."}),u.jsx("button",{className:"send-first-btn",onClick:()=>c(!0),children:"Be the First to Send a Message"})]})]})]})}const GS=[5,10,15,20,25,30],Mh="hilde-bday-seen-milestones";function YS({milestone:t,onClose:e}){return k.useEffect(()=>{const n=setTimeout(e,4e3);return()=>clearTimeout(n)},[e]),u.jsxs("div",{className:"milestone-toast",children:[u.jsx("span",{className:"milestone-icon",children:""}),u.jsxs("div",{className:"milestone-content",children:[u.jsx("span",{className:"milestone-title",children:"Crew Growing!"}),u.jsxs("span",{className:"milestone-message",children:[t," astronauts ready for launch!"]})]})]})}function QS({name:t,index:e}){const n=[{suit:"#ff6b9d",visor:"#74b9ff"},{suit:"#ffd700",visor:"#a29bfe"},{suit:"#74b9ff",visor:"#ff8c42"},{suit:"#00cec9",visor:"#ff6b9d"},{suit:"#a29bfe",visor:"#ffd700"},{suit:"#ff8c42",visor:"#00cec9"}],r=n[e%n.length];return u.jsxs("svg",{viewBox:"0 0 60 80",className:"astronaut-avatar",children:[u.jsx("circle",{cx:"30",cy:"25",r:"20",fill:"white"}),u.jsx("ellipse",{cx:"30",cy:"27",rx:"14",ry:"12",fill:r.visor,opacity:"0.8"}),u.jsx("ellipse",{cx:"26",cy:"24",rx:"4",ry:"3",fill:"rgba(255,255,255,0.4)"}),u.jsx("ellipse",{cx:"30",cy:"55",rx:"18",ry:"22",fill:r.suit}),u.jsx("ellipse",{cx:"30",cy:"40",rx:"18",ry:"4",fill:"#dfe6e9"}),u.jsx("ellipse",{cx:"10",cy:"52",rx:"7",ry:"10",fill:r.suit}),u.jsx("ellipse",{cx:"50",cy:"52",rx:"7",ry:"10",fill:r.suit})]})}function _i({delay:t=0}){return u.jsxs("svg",{viewBox:"0 0 30 40",className:"mini-astronaut",style:{animationDelay:`${t}ms`},children:[u.jsx("circle",{cx:"15",cy:"12",r:"10",fill:"white"}),u.jsx("ellipse",{cx:"15",cy:"14",rx:"7",ry:"6",fill:"#74b9ff",opacity:"0.8"}),u.jsx("ellipse",{cx:"30",cy:"27",rx:"9",ry:"11",fill:"white"})]})}function KS(){const[t,e]=k.useState([]),[n,r]=k.useState({adults:0,kids:0}),[s,i]=k.useState(null),o=k.useCallback(a=>{const c=JSON.parse(localStorage.getItem(Mh)||"[]");for(const h of GS)if(a>=h&&!c.includes(h)){c.push(h),localStorage.setItem(Mh,JSON.stringify(c)),i(h);break}},[]);k.useEffect(()=>{const a=dt(ht,"rsvps"),c=yo(a,h=>{const d=h.val();if(d){const f=Object.entries(d).map(([y,j])=>({id:y,...j})).filter(y=>y.attending).sort((y,j)=>(y.childName||y.name||"").localeCompare(j.childName||j.name||""));e(f);const _=f.reduce((y,j)=>y+(j.adultCount||j.guestCount||1),0),v=f.reduce((y,j)=>y+(j.kidCount||0),0);r({adults:_,kids:v}),o(_+v)}});return()=>c()},[o]);const l=n.adults+n.kids;return t.length===0?u.jsxs("section",{className:"guest-list",children:[u.jsx("h2",{children:"Mission Crew"}),u.jsxs("div",{className:"crew-status empty",children:[u.jsxs("div",{className:"astronaut-row",children:[u.jsx(_i,{delay:0}),u.jsx(_i,{delay:100}),u.jsx(_i,{delay:200})]}),u.jsx("p",{className:"crew-message",children:"Awaiting crew members..."}),u.jsx("p",{className:"crew-cta",children:"Be the first to join the mission!"})]})]}):u.jsxs(u.Fragment,{children:[s&&u.jsx(YS,{milestone:s,onClose:()=>i(null)}),u.jsxs("section",{className:"guest-list",children:[u.jsx("h2",{children:"Mission Crew"}),u.jsxs("div",{className:"crew-status",children:[u.jsxs("div",{className:"astronaut-row",children:[[...Array(Math.min(l,12))].map((a,c)=>u.jsx(_i,{delay:c*50},c)),l>12&&u.jsxs("span",{className:"more-astronauts",children:["+",l-12]})]}),u.jsxs("p",{className:"crew-count",children:[u.jsx("span",{className:"crew-number",children:l}),u.jsxs("span",{className:"crew-text",children:[l===1?"astronaut":"astronauts"," ready for launch!"]})]}),u.jsxs("p",{className:"crew-breakdown",children:[n.adults," ",n.adults===1?"adult":"adults","  ",n.kids," ",n.kids===1?"kid":"kids"]})]}),u.jsx("div",{className:"guest-cards",children:t.map((a,c)=>u.jsxs("div",{className:"guest-card",style:{animationDelay:`${c*100}ms`},children:[u.jsx(QS,{name:a.childName||a.name,index:c}),u.jsxs("div",{className:"guest-info",children:[u.jsx("span",{className:"guest-name",children:a.childName||a.name}),u.jsxs("span",{className:"guest-count",children:[a.adultCount||a.guestCount||1," adult",(a.adultCount||1)!==1?"s":"",(a.kidCount||0)>0&&`, ${a.kidCount} kid${a.kidCount!==1?"s":""}`]})]})]},a.id))})]})]})}const qS="SPACE2026",Dh="hilde-bday-access";function XS({children:t}){const[e,n]=k.useState(!1),[r,s]=k.useState(""),[i,o]=k.useState(""),[l,a]=k.useState(!0);k.useEffect(()=>{localStorage.getItem(Dh)==="granted"&&n(!0),a(!1)},[]);const c=d=>{d.preventDefault(),o(""),r.toUpperCase()===qS?(localStorage.setItem(Dh,"granted"),n(!0)):o("Invalid code. Please check your invitation.")};if(l)return u.jsxs("div",{className:"access-gate",children:[u.jsx("div",{className:"stars"}),u.jsx("div",{className:"stars2"}),u.jsx("div",{className:"access-box",children:u.jsx("p",{children:"Loading..."})})]});if(e)return t;const h=()=>{window.location.href="?admin=true"};return u.jsxs("div",{className:"access-gate",children:[u.jsx("div",{className:"stars"}),u.jsx("div",{className:"stars2"}),u.jsx("div",{className:"stars3"}),u.jsxs("div",{className:"access-box",children:[u.jsx("div",{className:"lock-icon",children:""}),u.jsx("h1",{children:"Mission Access Required"}),u.jsx("p",{children:"Enter the code from your invitation to continue"}),u.jsxs("form",{onSubmit:c,children:[u.jsx("input",{type:"text",value:r,onChange:d=>s(d.target.value),placeholder:"Enter access code...",autoFocus:!0}),i&&u.jsx("p",{className:"error",children:i}),u.jsx("button",{type:"submit",children:"Launch "})]}),u.jsx("button",{className:"gate-admin-link",onClick:h,children:"Mission Control"})]})]})}const ZS="HILDE-ADMIN-2026",Ml="hilde-bday-admin";function JS({attending:t,notAttending:e}){const n=t+e;if(n===0)return null;const r=t/n*100,s=t/n*360,i=40,o=50,l=50,a=(h,d,f)=>{const _=c(o,l,f,d),v=c(o,l,f,h),y=d-h<=180?"0":"1";return`M ${o} ${l} L ${_.x} ${_.y} A ${f} ${f} 0 ${y} 0 ${v.x} ${v.y} Z`},c=(h,d,f,_)=>{const v=(_-90)*Math.PI/180;return{x:h+f*Math.cos(v),y:d+f*Math.sin(v)}};return u.jsxs("div",{className:"chart-container pie-chart-container",children:[u.jsx("h3",{children:"Response Breakdown"}),u.jsxs("svg",{viewBox:"0 0 100 100",className:"pie-chart",children:[t>0&&u.jsx("path",{d:s>=360?`M ${o} ${l-i} A ${i} ${i} 0 1 1 ${o-.01} ${l-i} Z`:a(0,s,i),fill:"#4caf50"}),e>0&&u.jsx("path",{d:s<=0?`M ${o} ${l-i} A ${i} ${i} 0 1 1 ${o-.01} ${l-i} Z`:a(s,360,i),fill:"#f44336"})]}),u.jsxs("div",{className:"chart-legend",children:[u.jsxs("div",{className:"legend-item",children:[u.jsx("span",{className:"legend-color",style:{background:"#4caf50"}}),u.jsxs("span",{children:["Attending (",t,") - ",r.toFixed(0),"%"]})]}),u.jsxs("div",{className:"legend-item",children:[u.jsx("span",{className:"legend-color",style:{background:"#f44336"}}),u.jsxs("span",{children:["Can't Make It (",e,") - ",(100-r).toFixed(0),"%"]})]})]})]})}function e1({adults:t,kids:e}){const n=Math.max(t,e,1),r=t/n*100,s=e/n*100;return u.jsxs("div",{className:"chart-container bar-chart-container",children:[u.jsx("h3",{children:"Guest Breakdown"}),u.jsxs("div",{className:"bar-chart",children:[u.jsxs("div",{className:"bar-row",children:[u.jsx("span",{className:"bar-label",children:"Adults"}),u.jsx("div",{className:"bar-track",children:u.jsx("div",{className:"bar-fill adults",style:{width:`${r}%`},children:u.jsx("span",{className:"bar-value",children:t})})})]}),u.jsxs("div",{className:"bar-row",children:[u.jsx("span",{className:"bar-label",children:"Kids"}),u.jsx("div",{className:"bar-track",children:u.jsx("div",{className:"bar-fill kids",style:{width:`${s}%`},children:u.jsx("span",{className:"bar-value",children:e})})})]})]})]})}function t1({onBack:t}){const[e,n]=k.useState(!1),[r,s]=k.useState(""),[i,o]=k.useState(""),[l,a]=k.useState([]),[c,h]=k.useState([]),[d,f]=k.useState({attending:0,notAttending:0,adults:0,kids:0}),[_,v]=k.useState(""),[y,j]=k.useState("all"),[m,p]=k.useState(null),[g,w]=k.useState(null),[S,T]=k.useState("rsvps");k.useEffect(()=>{localStorage.getItem(Ml)==="granted"&&n(!0)},[]),k.useEffect(()=>{if(!e)return;const M=dt(ht,"rsvps"),Pe=yo(M,He=>{const $e=He.val();if($e){const x=Object.entries($e).map(([X,ee])=>({id:X,...ee})).sort((X,ee)=>ee.timestamp-X.timestamp);a(x);const P=x.filter(X=>X.attending),N=x.filter(X=>!X.attending),O=P.reduce((X,ee)=>X+(ee.adultCount||ee.guestCount||1),0),B=P.reduce((X,ee)=>X+(ee.kidCount||0),0);f({attending:P.length,notAttending:N.length,adults:O,kids:B})}else a([]),f({attending:0,notAttending:0,adults:0,kids:0})});return()=>Pe()},[e]),k.useEffect(()=>{if(!e)return;const M=dt(ht,"messages"),Pe=yo(M,He=>{const $e=He.val();if($e){const x=Object.entries($e).map(([P,N])=>({id:P,...N})).sort((P,N)=>N.timestamp-P.timestamp);h(x)}else h([])});return()=>Pe()},[e]);const I=M=>{M.preventDefault(),r.toUpperCase()===ZS?(localStorage.setItem(Ml,"granted"),n(!0)):o("Invalid admin code")},A=()=>{localStorage.removeItem(Ml),n(!1)},$=M=>new Date(M).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}),L=l.filter(M=>{const Pe=_===""||(M.childName||M.name||"").toLowerCase().includes(_.toLowerCase())||(M.email||"").toLowerCase().includes(_.toLowerCase()),He=y==="all"||y==="attending"&&M.attending||y==="not-attending"&&!M.attending;return Pe&&He}),Ne=()=>{const M=["Name","Email","Attending","Adults","Kids","Date"],Pe=l.map(P=>[P.childName||P.name||"",P.email||"",P.attending?"Yes":"No",P.attending?P.adultCount||P.guestCount||1:0,P.attending&&P.kidCount||0,new Date(P.timestamp).toLocaleDateString()]),He=[M.join(","),...Pe.map(P=>P.map(N=>`"${N}"`).join(","))].join(`
`),$e=new Blob([He],{type:"text/csv;charset=utf-8;"}),x=document.createElement("a");x.href=URL.createObjectURL($e),x.download=`hilde-birthday-rsvps-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(x),x.click(),document.body.removeChild(x)},_t=async M=>{try{await Rh(dt(ht,`rsvps/${M}`)),p(null)}catch(Pe){console.error("Delete error:",Pe)}},xt=async M=>{try{await Rh(dt(ht,`messages/${M}`)),w(null)}catch(Pe){console.error("Delete message error:",Pe)}};return e?u.jsxs("div",{className:"admin-page",children:[u.jsxs("div",{className:"admin-header",children:[u.jsx("h1",{children:"Mission Control"}),u.jsxs("div",{className:"admin-header-actions",children:[u.jsx("button",{className:"back-link",onClick:t,children:" Back to site"}),u.jsx("button",{className:"logout-btn",onClick:A,children:"Logout"})]})]}),u.jsxs("div",{className:"admin-stats",children:[u.jsxs("div",{className:"stat-card",children:[u.jsx("span",{className:"stat-number",children:d.attending}),u.jsx("span",{className:"stat-label",children:"Attending"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("span",{className:"stat-number",children:d.notAttending}),u.jsx("span",{className:"stat-label",children:"Can't Make It"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("span",{className:"stat-number",children:d.adults}),u.jsx("span",{className:"stat-label",children:"Adults"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("span",{className:"stat-number",children:d.kids}),u.jsx("span",{className:"stat-label",children:"Kids"})]}),u.jsxs("div",{className:"stat-card highlight",children:[u.jsx("span",{className:"stat-number",children:d.adults+d.kids}),u.jsx("span",{className:"stat-label",children:"Total Guests"})]})]}),u.jsxs("div",{className:"admin-charts",children:[u.jsx(JS,{attending:d.attending,notAttending:d.notAttending}),u.jsx(e1,{adults:d.adults,kids:d.kids})]}),u.jsxs("div",{className:"admin-tabs",children:[u.jsxs("button",{className:`admin-tab ${S==="rsvps"?"active":""}`,onClick:()=>T("rsvps"),children:["RSVPs (",l.length,")"]}),u.jsxs("button",{className:`admin-tab ${S==="messages"?"active":""}`,onClick:()=>T("messages"),children:["Messages (",c.length,")"]})]}),S==="rsvps"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"admin-controls",children:[u.jsxs("div",{className:"search-box",children:[u.jsx("input",{type:"text",value:_,onChange:M=>v(M.target.value),placeholder:"Search by name or email...",className:"search-input"}),_&&u.jsx("button",{className:"clear-search",onClick:()=>v(""),children:""})]}),u.jsxs("div",{className:"filter-buttons",children:[u.jsxs("button",{className:`filter-btn ${y==="all"?"active":""}`,onClick:()=>j("all"),children:["All (",l.length,")"]}),u.jsxs("button",{className:`filter-btn ${y==="attending"?"active":""}`,onClick:()=>j("attending"),children:["Attending (",d.attending,")"]}),u.jsxs("button",{className:`filter-btn ${y==="not-attending"?"active":""}`,onClick:()=>j("not-attending"),children:["Can't Make It (",d.notAttending,")"]})]}),u.jsxs("button",{className:"export-btn",onClick:Ne,children:[u.jsx("svg",{viewBox:"0 0 24 24",className:"export-icon",children:u.jsx("path",{fill:"currentColor",d:"M14,2H6A2,2,0,0,0,4,4V20a2,2,0,0,0,2,2H18a2,2,0,0,0,2-2V8ZM12,18l-4-4h2.5V11h3v3H16Zm1-9V3.5L18.5,9Z"})}),"Export CSV"]})]}),u.jsxs("div",{className:"admin-table-container",children:[u.jsxs("h2",{children:["All RSVPs ",L.length!==l.length&&`(${L.length} of ${l.length})`]}),L.length===0?u.jsx("p",{className:"no-results",children:"No RSVPs match your search/filter."}):u.jsxs("table",{className:"admin-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Name"}),u.jsx("th",{children:"Email"}),u.jsx("th",{children:"Response"}),u.jsx("th",{children:"Adults"}),u.jsx("th",{children:"Kids"}),u.jsx("th",{children:"Date"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:L.map(M=>u.jsxs("tr",{className:M.attending?"attending":"not-attending",children:[u.jsx("td",{children:M.childName||M.name}),u.jsx("td",{children:M.email||"-"}),u.jsx("td",{children:M.attending?" Yes":" No"}),u.jsx("td",{children:M.attending?M.adultCount||M.guestCount||1:"-"}),u.jsx("td",{children:M.attending?M.kidCount||0:"-"}),u.jsx("td",{children:$(M.timestamp)}),u.jsx("td",{children:m===M.id?u.jsxs("div",{className:"delete-confirm",children:[u.jsx("span",{children:"Delete?"}),u.jsx("button",{className:"confirm-yes",onClick:()=>_t(M.id),children:"Yes"}),u.jsx("button",{className:"confirm-no",onClick:()=>p(null),children:"No"})]}):u.jsx("button",{className:"delete-btn",onClick:()=>p(M.id),title:"Delete RSVP",children:""})})]},M.id))})]})]})]}),S==="messages"&&u.jsxs("div",{className:"admin-messages-section",children:[u.jsxs("h2",{children:["All Messages (",c.length,")"]}),c.length===0?u.jsx("p",{className:"no-results",children:"No messages yet."}):u.jsx("div",{className:"admin-messages-list",children:c.map(M=>u.jsxs("div",{className:"admin-message-card",children:[u.jsx("div",{className:"admin-message-avatar",children:M.name.charAt(0).toUpperCase()}),u.jsxs("div",{className:"admin-message-content",children:[u.jsxs("div",{className:"admin-message-header",children:[u.jsx("span",{className:"admin-message-author",children:M.name}),u.jsx("span",{className:"admin-message-date",children:$(M.timestamp)})]}),u.jsx("p",{className:"admin-message-text",children:M.message})]}),u.jsx("div",{className:"admin-message-actions",children:g===M.id?u.jsxs("div",{className:"delete-confirm",children:[u.jsx("span",{children:"Delete?"}),u.jsx("button",{className:"confirm-yes",onClick:()=>xt(M.id),children:"Yes"}),u.jsx("button",{className:"confirm-no",onClick:()=>w(null),children:"No"})]}):u.jsx("button",{className:"delete-btn",onClick:()=>w(M.id),title:"Delete message",children:""})})]},M.id))})]})]}):u.jsx("div",{className:"admin-page",children:u.jsxs("div",{className:"admin-login",children:[u.jsx("h1",{children:"Mission Control"}),u.jsx("p",{children:"Enter admin code to access"}),u.jsxs("form",{onSubmit:I,children:[u.jsx("input",{type:"password",value:r,onChange:M=>s(M.target.value),placeholder:"Admin code...",autoFocus:!0}),i&&u.jsx("p",{className:"error",children:i}),u.jsx("button",{type:"submit",children:"Access"})]}),u.jsx("button",{className:"back-link",onClick:t,children:" Back to site"})]})})}function n1({x:t,y:e,onComplete:n}){return k.useEffect(()=>{const r=setTimeout(n,1500);return()=>clearTimeout(r)},[n]),u.jsx("div",{className:"mini-rocket",style:{left:t,top:e},children:u.jsxs("svg",{viewBox:"0 0 30 50",width:"30",height:"50",children:[u.jsxs("g",{className:"mini-rocket-flame",children:[u.jsx("ellipse",{cx:"15",cy:"45",rx:"4",ry:"8",fill:"#ff6b35",opacity:"0.9"}),u.jsx("ellipse",{cx:"15",cy:"43",rx:"3",ry:"5",fill:"#ffd700"})]}),u.jsx("path",{d:"M15 5 L22 18 L22 35 L19 38 L11 38 L8 35 L8 18 Z",fill:"#fff"}),u.jsx("path",{d:"M15 5 L19 14 L11 14 Z",fill:"#ff6b9d"}),u.jsx("circle",{cx:"15",cy:"22",r:"4",fill:"#74b9ff"}),u.jsx("path",{d:"M8 30 L3 40 L8 36 Z",fill:"#ff8c42"}),u.jsx("path",{d:"M22 30 L27 40 L22 36 Z",fill:"#ff8c42"})]})})}function r1(){const[t,e]=k.useState(!1),[n,r]=k.useState([]);k.useEffect(()=>{const c=new URLSearchParams(window.location.search);c.get("admin")==="true"&&e(!0),c.get("download")==="ics"&&(s(),window.history.replaceState({},"",window.location.pathname))},[]);const s=()=>{const c=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Hilde Birthday//EN
BEGIN:VEVENT
DTSTART:20260208T150000Z
DTEND:20260208T170000Z
SUMMARY:Hilde's 5th Birthday - Space Mission!
DESCRIPTION:Hudson River Museum Planetarium\\n\\n10:00 AM - Party starts, creative activity\\n10:30 AM - Planetarium show\\n11:00 AM - Refreshments & cake\\n11:45 AM - Party concludes\\n\\nPlease arrive by 10 AM - late entry to the planetarium isn't possible!\\n\\nSee you among the stars!
LOCATION:Hudson River Museum, 511 Warburton Ave, Yonkers, NY 10701
END:VEVENT
END:VCALENDAR`,h=new Blob([c],{type:"text/calendar;charset=utf-8"}),d=document.createElement("a");d.href=URL.createObjectURL(h),d.download="hilde-birthday.ics",document.body.appendChild(d),d.click(),document.body.removeChild(d)},i=k.useCallback(c=>{if(c.target.closest("button, a, input, textarea, select, form, .modal, .fab-message"))return;const d={id:Date.now()+Math.random(),x:c.clientX-15,y:c.clientY-25};r(f=>[...f,d])},[]),o=k.useCallback(c=>{r(h=>h.filter(d=>d.id!==c))},[]),l=()=>{e(!0),window.history.pushState({},"","?admin=true")},a=()=>{e(!1),window.history.pushState({},"",window.location.pathname)};return t?u.jsx(t1,{onBack:a}):u.jsx(XS,{children:u.jsxs("div",{className:"app",onClick:i,children:[u.jsx("div",{className:"aurora-bg"}),u.jsx("div",{className:"stars"}),u.jsx("div",{className:"stars2"}),u.jsx("div",{className:"stars3"}),u.jsxs("main",{children:[u.jsx(oy,{}),u.jsx(ly,{}),u.jsx(gy,{}),u.jsx($S,{}),u.jsx(KS,{}),u.jsx(WS,{})]}),u.jsxs("footer",{children:[u.jsx("p",{children:"See you among the stars!"}),u.jsx("button",{className:"admin-link",onClick:l,children:"Mission Control"})]}),n.map(c=>u.jsx(n1,{x:c.x,y:c.y,onComplete:()=>o(c.id)},c.id)),u.jsxs("button",{className:"fab-rsvp",onClick:()=>{var c;return(c=document.getElementById("rsvp-section"))==null?void 0:c.scrollIntoView({behavior:"smooth"})},"aria-label":"Go to RSVP",children:[u.jsx("svg",{viewBox:"0 0 24 24",className:"fab-icon",children:u.jsx("path",{fill:"currentColor",d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),u.jsx("span",{children:"RSVP"})]})]})})}const jg=()=>{const t=document.getElementById("loading-screen");t&&setTimeout(()=>{t.classList.add("hidden"),setTimeout(()=>{t.remove()},500)},300)};Dl.createRoot(document.getElementById("root")).render(u.jsx(Kg.StrictMode,{children:u.jsx(r1,{})}));window.addEventListener("load",jg);document.readyState==="complete"&&jg();
